!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},r={},n={},i={}.hasOwnProperty,s=/^\.\.?(\/|$)/,a=function(e,t){for(var r,n=[],i=(s.test(t)?e+"/"+t:t).split("/"),a=0,o=i.length;a<o;a++)r=i[a],".."===r?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(r){var n=a(o(t),r);return e.require(n,t)}},c=function(e,t){var n=null;n=_&&_.createHot(e);var i={id:e,exports:{},hot:n};return r[e]=i,t(i.exports,u(e),i),i.exports},l=function(e){return n[e]?l(n[e]):e},d=function(e,t){return l(a(o(e),t))},f=function(e,n){null==n&&(n="/");var s=l(e);if(i.call(r,s))return r[s].exports;if(i.call(t,s))return c(s,t[s]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};f.alias=function(e,t){n[t]=e};var h=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/,m=function(e){if(h.test(e)){var t=e.replace(h,"");i.call(n,t)&&n[t].replace(h,"")!==t+"/index"||(n[t]=e)}if(p.test(e)){var r=e.replace(p,"");i.call(n,r)||(n[r]=e)}};f.register=f.define=function(e,n){if("object"==typeof e)for(var s in e)i.call(e,s)&&f.register(s,e[s]);else t[e]=n,delete r[e],m(e)},f.list=function(){var e=[];for(var r in t)i.call(t,r)&&e.push(r);return e};var _=e._hmr&&new e._hmr(d,f,t,r);f._cache=r,f.hmr=_&&_.wrap,f.brunch=!0,e.require=f}}(),function(){var e;window;require.register("web/static/js/account_search.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmedAction=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("./url_parser.js").UrlParser,e.ConfirmedAction=s["default"].component("account-search",{template:'\n    <div>\n        <div class="modal-body">\n            <div v-if="error" class="alert alert-danger">{{ error }}</div>\n            <div class="form-group">\n                <label>{{ accountTypeLabel }}</label>\n                <label class="radio-inline">\n                    <input v-model="accountType" name="account_type" type="radio" id="type_user" value="user"> {{ individualLabel }}\n                </label>\n                <label class="radio-inline">\n                    <input v-model="accountType" name="account_type" type="radio" id="type_business" value="business"> {{ businessLabel }}\n                </label>\n            </div>\n            <div class="form-group">\n                <div class="input-group">\n                    <input v-model="term" type="text" class="form-control" id="account_search_term" :placeholder="this.searchPrompt">\n                    <span class="input-group-btn">\n                        <button :disabled="!term" @click="search" class="btn btn-default" type="button">Search!</button>\n                    </span>\n                </div><!-- /input-group -->\n            </div>\n            <div v-if="!!accounts" class="table-responsive">\n                <table v-if="accounts.length > 0" class="table">\n                <caption>Select the user to transfer the application to.</caption>\n                <thead>\n                    <tr>\n                    <th>Name</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for="a in accounts">\n                    <td>\n                        <label>\n                            <input type="radio" :value="a.id" v-model="selectedId">\n                            {{ a.name }}\n                        </label>\n                    </td>\n                    </tr>\n                </tbody>\n                </table>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <a @click="$emit(\'close\')" class="btn btn-default">Cancel</a>\n            <button :disabled="!selectedId" class="btn btn-success" type="submit">Continue</button>\n        </div>\n    </div>\n    ',props:["account-id","search-url","individual-search-prompt","business-search-prompt","account-type-label","individual-label","business-label"],data:function(){return{bLoading:!1,term:null,accountType:"user",selectedId:null,accounts:null,error:null}},watch:{selectedId:function(e){this.$emit("account-selected",e)}},computed:{searchPrompt:function(){return"user"===this.accountType?this.individualSearchPrompt:this.businessSearchPrompt}},methods:{search:function(){var e=this;e.error=null,e.bLoading=!0,e.accounts=null,e.selectedId=null,a.ajax({method:"GET",url:this.searchUrl,data:{search:{q:e.term,account_type:e.accountType}},success:function(t){t.accounts&&t.accounts.length>0?(e.error=null,e.accounts=t.accounts):t.errors?e.error=t.error:e.error="Couldn't find an account matching your search criteria."},error:function(t,r,n){e.error=t.statusText+": please try again."},complete:function(){e.bLoading=!1}})}}})}),require.register("web/static/js/app.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=function(){function e(e,t){var r=[],n=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,s=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t("phoenix_html"),t("./slugger"),t("./toggle_visible"),t("./inline_edit"),t("./xeditable"),t("./verify_me.js"),t("./business/share_categories.js"),t("./confirm_action.js"),t("./dropdown_submit_link.js");var s=t("vue/dist/vue"),a=n(s),o=t("vee-validate"),u=n(o),c=t("jquery");window.moment=t("moment"),a["default"].use(u["default"],{fieldsBagName:"formFields",classes:!0,events:"",errorBagName:"vErrors"}),a["default"].mixin({data:function(){return{window:window}},methods:{showValidationErrors:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.vErrors.items=[],Object.entries(e).forEach(function(e){var n=i(e,2),s=n[0],a=n[1];t.vErrors.add({field:s,msg:a,scope:r})})}}}),a["default"].component("site-announcement",{methods:{dismissAnnouncement:function(e){this.$refs.root.style.display="none",c.ajax("/announcements/"+e+"/dismiss")}}}),new a["default"]({el:"#site-announcements"}),c.ajaxPrefilter(function(e){e.headers?e.headers["X-CSRF-TOKEN"]=window.CSRF_TOKEN:e.headers={"X-CSRF-TOKEN":window.CSRF_TOKEN}}),c('input[data-role="slug"]').slugger(),c("[data-toggle-visible]").toggleVisible(),c("form.inline-edit").inlineEdit(),c('[data-toggle="tooltip"]').tooltip(),t("./select-box.vue"),t("./locations-input-selects.vue"),t("./confirmed_action.vue"),c(function(){c("select[data-select-2]").each(function(){var e=1/0;c(this).data("select-2-search")&&(e=0),c(this).select2({minimumResultsForSearch:e})})}),c(document).ready(function(){var e=window.location.hash,t=e.lastIndexOf("-e");e=e.substr(0,t),e&&c('.nav-tabs a[href="'+e+'"]').tab("show")}),c('a[data-toggle="tab"]').on("shown.bs.tab",function(e){window.location.hash=e.target.hash+"-e"}),c("a[data-submit-form]").on("click",function(e){c(this).confirmAction(e)})}),require.register("web/static/js/audit/audit.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("../modal/modal"),r.exports=s["default"].component("audit-trail",{template:"#audit-trail-template",props:["audits","totalPages","currentPage"],data:function(){return{showAuditDetails:!1,pagination:{}}},mounted:function(){this.buildPagination()},methods:{get_operation:function(e){return(e.subject.split(".").pop().replace(/^([A-Z][a-z]*)([A-Z][a-z]*)$/,"$1 $2")+" "+e.operation+"d").toLowerCase()},showDetails:function(e){this.showAuditDetails=!0,a(this.$el).find("#audit-details-container").jJsonViewer(e.data.params,{expanded:!0})},get_creator:function(e){var t=e.creator;return t.user_profile.first_name+" "+t.user_profile.last_name},get_date:function(e){return new Date(e.inserted_at).toLocaleTimeString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},get_link:function(e){return"?page="+e},buildPagination:function(){var e={current:this.currentPage,skip_first:!1,skip_last:!1,total:this.totalPages,is_first:!1,is_last:!1,range:[]};if(this.totalPages>5){var t=1,r=this.totalPages;t=this.currentPage<=2?1:this.currentPage-2,r=this.currentPage+2>=this.totalPages?this.totalPages:this.currentPage+2;for(var n=t;n<=r;n++)e.range.push(n)}else for(var i=1;i<=this.totalPages;i++)e.range.push(i);e.is_first=1==this.currentPage,e.is_last=this.currentPage==this.totalPages,e.skip_first=this.currentPage-2<=1||this.totalPages<=5,e.skip_last=this.currentPage+2>=this.totalPages||this.totalPages<=5,this.pagination=e}}})}),require.register("web/static/js/backend_user_list.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmedAction=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("./url_parser.js").UrlParser,e.ConfirmedAction=s["default"].component("backend-user-list",{template:'\n    <div>\n        <div class="modal-body">\n            <div v-if="error" class="alert alert-danger">{{ error }}</div>\n            <div class="form-group">\n                <label for="user_id">{{ labelText }}</label>\n                <select ref="user_select" id="user_id" v-model="selectedId" class="form-control">\n                    <option v-for="merchant_user in merchant_users" :value="merchant_user.id">{{ merchant_user.user.fullname }}</option>\n                </select>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <a @click="$emit(\'close\')" class="btn btn-default">Cancel</a>\n            <button :disabled="!selectedId" class="btn btn-success" type="submit">Continue</button>\n        </div>\n    </div>\n    ',props:["account-id","user-list-url","label-text"],data:function(){return{bLoading:!1,term:null,selectedId:null,accounts:null,error:null,merchant_users:null}},created:function(){var e=this;a.ajax({method:"GET",url:this.userListUrl,data:{},success:function(t){e.error=null,e.merchant_users=t.merchant_users},error:function(t,r,n){e.error="Error: '"+t.statusText+"' please cancel and try again."},complete:function(){e.bLoading=!1}})},mounted:function(){var e=this;a(this.$refs.user_select).select2({templateResult:function(e){return e.text}}).on("select2:select",function(t){e.selectedId=t.currentTarget.value}).select2("open")},watch:{selectedId:function(e){this.$emit("user-selected",e)}},methods:{}})}),require.register("web/static/js/business/annual_return.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);t("jquery"),t("../url_parser").UrlParser,t("../util").DateParser;s["default"].component("annual-return",{props:["initial-year-of-last-return","initialReturns"],data:function(){return{yearOfLastReturn:this.initialYearOfLastReturn,returns:this.initialReturns.reduce(function(e,t){return console.log(t),e[t.year]=t,e},{})}},methods:{isNotCurrent:function(e){return(new Date).getFullYear()!=e}},computed:{years:function(){var e=(new Date).getFullYear(),t=parseInt(this.yearOfLastReturn);if(t){var r=Math.max(0,e-t);return Array.from(new Array(r),function(t,r){var n=e-r;return this.returns[n]||(this.returns[n]={year:n,type:"",annual_return:"",_errors:{}}),n},this)}return[]}}})}),require.register("web/static/js/business/audit_trail.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);s["default"].component("audit-trail",{data:function(){return{showDetailsModal:!1}},methods:{showAuditDetails:function(e){this.showDetailsModal=!0,$(this.$refs.audit_details).jJsonViewer(e.data.params,{expanded:!0})}}})}),require.register("web/static/js/business/backend-debentures.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i),a=t("moment"),o=n(a);e["default"]=s["default"].component("business-debentures",{props:["debentures"],data:function(){return{currentDebentures:this.debentures||[],currentDebenture:null,showModal:!1,showEditModal:!1,showDischargeModal:!1}},methods:{addNewDebenture:function(){this.currentDebenture={persons_entitled:[],date_of_evidence:{}},this.showModal=!0},onDebentureAdded:function(e){this.currentDebentures.push(e),this.showModal=!1,this.currentDebenture=null},onDebentureUpdated:function(e){this.currentDebentures=this.currentDebentures.map(function(t){return t.id===e.id?e:t}),this.showEditModal=!1,this.showDischargeModal=!1,this.currentDebenture=null},formatDate:function(e){return(0,o["default"])(e).format("D-M-YYYY")},numberFormat:function(e){return e.toLocaleString("en")},onDeleteSuccess:function(e){this.onDebentureUpdated(e.debenture)},onDeleteError:function(e,t,r){$.growl.error({message:r})},showErrors:function(e){this.vErrors.add({field:"general",msg:"An error occured"})},editDebenture:function(e){var t=(0,o["default"])(e.date_of_evidence);this.currentDebenture=e,this.currentDebenture.date_of_evidence={year:t.year(),month:t.month(),day:t.date()},this.showEditModal=!0},discharge:function(e){this.currentDebenture=e,this.showDischargeModal=!0}},components:{DebentureForm:{props:["debenture","search-url","url"],data:function(){return{currentDebenture:this.debenture,secured_currency_amounts:this.debenture.secured_currency_amounts||[{currency:"",amount:""}],search:{reg_no:"",year:"",month:"",day:""},result:null,currencies:["KES","USD","UER","YEN","CYN"]}},methods:{lookup:function(){var e=this;this.vErrors.clear("search"),this.$validator.validateAll("search").then(function(t){return t?void e.doLookUp():(e.vErrors.add({scope:"search",msg:"All search fields are required",field:"all"}),!1)})},doLookUp:function(){var e=this;$.ajax({method:"get",url:this.searchUrl,data:{reg_no:this.search.reg_no,with_pin:!1,reg_date:{year:this.search.year,month:this.search.month,day:this.search.day}},success:function(t){t.profile?["public_limited","private_limited","foreign"].indexOf(t.profile.business_type)===-1?e.vErrors.add({filed:"all",msg:"Only public, private and foreign companies can be added",rule:"required",scope:"search"}):e.result=t.profile:t.errors&&t.errors.reg_no?e.vErrors.add({field:"all",msg:t.errors.reg_no,rule:"required",scope:"search"}):e.vErrors.add({field:"all",msg:"No matching results found",rule:"required",scope:"search"})},error:function(t){e.vErrors.add({field:"all",msg:t.message,rule:"required",scope:"search"})}})},addToPersonsEntitled:function(){this.currentDebenture.persons_entitled.push({name:this.result.first_name,postal_address:"PO Box "+this.result.main_branch.postal_address+" "+(this.result.main_branch.postal_code||"Uknown"),description:""}),this.result=null,this.search={}},save:function(){var e=this,t=new FormData(this.$refs.form);$.ajax({url:this.url,method:"post",dataType:"json",processData:!1,contentType:!1,data:t,success:function(t){t.errors?e.showValidationErrors(t.errors,"debenture"):t.debenture&&e.$emit("saved",t.debenture)},error:function(){e.vErrors.add({field:"general",msg:"An error occured"})}})}}},DischargeDialog:{props:["debenture"],data:function(){return{date:{year:"",month:"",day:""}}},methods:{validate:function(){return this.vErrors.clear(),this.date.year&&this.date.month&&this.date.day?Promise.resolve(!0):(this.vErrors.add({field:"cancelled_at",msg:"Invalid date"}),Promise.resolve(!1))},showErrors:function(e){422===e.status?this.showValidationErrors(e.responseJSON.errors):this.vErrors.add({field:"general",msg:e.statusText})},onDischarged:function(e){this.$emit("success",e.debenture)}}}}})}),require.register("web/static/js/business/business_attachments.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessAttachmentForm=e.BusinessAttachments=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("../url_parser.js").UrlParser;e.BusinessAttachments=s["default"].component("business-attachments",{template:"#business-attachments-template",props:["attachments","attachment-base-url"],data:function(){return{showAddDialog:!1}},computed:{},methods:{getAttachmentUrl:function(e){return o.parse(this.attachmentBaseUrl,{attachment_id:e.id})},attachmentAdded:function(e){this.showAddDialog=!1,this.$emit("attachment-added",e)},attachmentDeleted:function(e){var t=e.attachment;this.$emit("attachment-deleted",t)}}}),e.BusinessAttachmentForm=s["default"].component("business-attachment-form",{template:"#business-attachment-form-template",props:["attachments"],data:function(){return{alert:null,bInFlight:!1,values:{},errors:{}}},computed:{},methods:{onSubmit:function(e){var t=this,r=e.currentTarget,n=a(r),i=n.attr("action")+"?_format=json",s=n.attr("method"),o=new FormData(r);this.bInFlight=!0,a.ajax(i,{data:o,dataType:"json",processData:!1,contentType:!1,method:s,success:function(e){t.alert=null,e.errors?t.errors=e.errors:(t.errors={},t.$emit("on-success",e.attachment))},error:function(e,r,n){t.errors={},t.alert={cssClass:"alert-warning",message:n}},complete:function(){t.bInFlight=!1}})}}})}),require.register("web/static/js/business/business_audit_trail.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessAuditTrail=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");e.BusinessAuditTrail=s["default"].component("business-audit-trail",{template:"#business-audit-trail-template",props:["audits"],data:function(){return{auditData:{},showAuditDetails:!1}},methods:{get_operation:function(e){return(e.subject.split(".").pop().replace(/^([A-Z][a-z]*)([A-Z][a-z]*)$/,"$1 $2")+" "+e.operation+"d").toLowerCase()},showDetails:function(e){this.showAuditDetails=!0,a(this.$el).find("#audit-details-container").jJsonViewer(e.data,{expanded:!0})},get_creator:function(e){var t=e.creator;return t.user_profile.first_name+" "+t.user_profile.last_name},get_date:function(e){return new Date(e.inserted_at).toLocaleTimeString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}}})}),require.register("web/static/js/business/business_branch_form.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessBranchForm=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("../url_parser.js").UrlParser;e.BusinessBranchForm=s["default"].component("business-branch-form",{template:"#business-branch-form-template",props:["parent-values","action-url","url-params","localities","counties","districts"],data:function(){return{bInFlight:!1,errors:{},values:this.parentValues,alert:null}},computed:{_districts:function(){var e=this;return this.districts.filter(function(t){return t.parent_id==e.values.county_id})},_localities:function(){var e=this;return this.localities.filter(function(t){return t.parent_id==e.values.district_id})}},mounted:function(){this.setUpLocationPicker()},methods:{setUpMap:function(){var e=this,t=this.localities.find(function(t){return t.id==e.values.locality_id}),r=this.counties.find(function(t){return t.id==e.values.county_id});r=r&&r.name,(new google.maps.Geocoder).geocode({address:t?r+", "+t.name:r},function(t,r){"OK"==r&&(a.extend(!0,e.values.geo_codes,{latitude:t[0].geometry.location.lat(),longitude:t[0].geometry.location.lng()}),e.values.physical_address=t[0].formatted_address,e.setUpLocationPicker())})},setUpLocationPicker:function(){var e=a(this.$el),t=this,r=e.find('[data-map-role="latitude"]'),n=e.find('[data-map-role="longitude"]'),i=e.find('[data-map-role="physical-address"]'),s=t.values.geo_codes;e.find('[data-map-role="map"]').locationpicker({location:{latitude:s&&s.latitude,longitude:s&&s.longitude},radius:300,enableAutocomplete:!0,inputBinding:{latitudeInput:r,longitudeInput:n,locationNameInput:i},onchanged:function(r,n,s){e.find('[data-map-role="physical-map"]').val("{lat: "+r.latitude+", lng: "+r.longitude+"}"),t.values.physical_address=i.val()},oninitialized:function(){t.values.physical_address=i.val()}})},onSubmit:function(e){var t=a(e.currentTarget),r=t.serialize(),n=o.parse(this.actionUrl,this.urlParams)+"?_format=json",i=t.prop("method"),s=this;this.bInFlight=!0,a.ajax(n,{data:r,dataType:"json",method:i,success:function(e){s.alert=null,e.errors?s.errors=e.errors:(s.errors={},s.$emit("on-success",e.business_branch,e.approval))},error:function(e,t,r){s.errors={},s.bInFlight=!1,s.alert={cssClass:"alert-warning",message:r}},complete:function(){s.bInFlight=!1}})}}})}),require.register("web/static/js/business/business_branches.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessBranchApproval=e.BusinessBranches=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("../url_parser"),o=(n(a),t("jquery"));e.BusinessBranches=s["default"].component("business-branches",{template:"#business-branches-template",props:["business","endpoint","counties","localities","districts"],data:function(){return{showAddDialog:!1,bApprovalDialogActive:!1,bEditActive:!1,currentEdit:{urlParams:{},values:{}},initialValues:{},currentApproval:null,bLoading:!1,alert:null}},computed:{sortedBranches:function(){return this.business.business_branches.sort(function(e,t){return e.main_branch?-1:1})},_endpoint:function(){var e=this.endpoint||window.location.pathname;return e+"/business-branches".replace("//","/")}},methods:{can_add_branch:function(){return this.business.business_branches.length<1||"business_name"===this.business.business_type},handleMainBranchChanged:function(e){var t=e.business_branches;this.$emit("branches-reloaded",t)},addBusinessBranch:function(e){this.$emit("branch-added",e),this.showAddDialog=!1},initNewBranch:function(){this.initialValues={county_id:"",district_id:"",locality_id:"",geo_codes:{latitude:-1.300073,longitude:36.822739},address:{building:"",street:"",floor:"",room:""}},this.showAddDialog=!0},showEditDialog:function(e,t,r){this.currentEdit={urlParams:{branch_id:e.id},values:{name:e.name,email:e.email,address:e.address||{},phone_number:e.phone_number,physical_address:e.physical_address,postal_address:e.postal_address,postal_code:e.postal_code,county_id:e.county_id,district_id:e.district_id,locality_id:e.locality_id,physical_map:e.physical_map,geo_codes:e.geo_codes}},this.bEditActive=!0},onEditSuccess:function(e){this.bEditActive=!1,this.currentEdit={urlParams:{},values:{}};var t=this.business.business_branches.findIndex(function(t){return t.id==e.id});this.business.business_branches.splice(t,1,e)},reloadBusinessBranches:function(){var e=this;this.bLoading=!0,o.ajax(this._endpoint,{dataType:"json",method:"get",success:function(t){var r=t.business_branches;e.alert=null,e.$emit("branches-reloaded",r)},error:function(t,r,n){e.alert={cssClass:"alert-warning",message:n}},complete:function(){e.bLoading=!1}})},deleteBusinessBranch:function(e){},isPendingApproval:function(e){return"pending"==e.status||null!=this.findApproval(e)},showApprovalDialog:function(e){var t=this.findApproval(e);t&&(this.currentApproval=t,this.bApprovalDialogActive=!0)},closeApprovalDialog:function(){this.currentApproval=null,this.bApprovalDialogActive=!1},onActionSuccess:function(e){var t=e.business_branch;this.$emit("branch-deleted",t)},onDeleteError:function(e,t,r){o.growl.error({message:r})}}}),e.BusinessBranchApproval=s["default"].component("business-branch-approval",{template:"#business-branch-approval-template",props:["approval"],data:function(){return{bInFlight:!1,values:{},errors:{},alert:null}},methods:{noop:function(){},onSubmit:function(e){var t=o(e.currentTarget),r=t.prop("value"),n=o(e.currentTarget.form),i=n.prop("action").replace(/%3Aapproval_id/,this.approval.id)+"?_format=json",s=n.prop("method"),a=n.children(':input[name="_csrf_token"]').val(),u=o.param({_csrf_token:a,action:r}),c=this;confirm("Are you sure you want to "+r+" this change?")&&(this.bInFlight=!0,o.ajax(i,{data:u,dataType:"json",method:s,success:function(e){c.alert=null,e.errors?c.errors=e.errors:(c.errors={},c.$emit("approval-updated",e.approval))},error:function(e,t,r){c.errors={},c.alert={cssClass:"alert-warning",message:r}},complete:function(){c.bInFlight=!1}}))}}})}),require.register("web/static/js/business/business_details.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("jquery"),s=n(i),a=t("vue/dist/vue"),o=n(a);r.exports=o["default"].component("business-details",{props:["business","businessTypes","businessNatureOptions"],data:function(){return{showEditBusinessDialog:!1,showStrikeoffDialog:!1,showCancelStrikeoffDialog:!1,showArchiveModal:!1,archiveReason:""}},computed:{business_type:function(){return this.businessTypes[this.business.business_type]}},methods:{natureOfBusiness:function(){return"other"==this.business.nature_of_business?this.business.nature_of_business_other:this.businessNatureOptions[this.business.nature_of_business]},updateBusinessDetails:function(e){s["default"].extend(this.business,e),this.showEditBusinessDialog=!1},updateStrikeoffDetails:function(e){s["default"].extend(this.business,e),this.showStrikeoffDialog=!1,this.showCancelStrikeoffDialog=!1}}})}),require.register("web/static/js/business/business_owner_form.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessOwnerForm=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("../url_parser.js").UrlParser;e.BusinessOwnerForm=s["default"].component("business-owner-form",{template:"#business-owner-form-template",props:["parent-values","action-url","url-params"],data:function(){return{bInFlight:!1,errors:{},values:this.parentValues,alert:null,physical_address:""}},mounted:function(){var e=a(this.$el),t=this,r=e.find('[data-map-role="physical-address"]');e.find('[data-map-role="map"]').locationpicker({radius:300,enableAutocomplete:!0,inputBinding:{locationNameInput:r},onchanged:function(n,i,s){e.find('[data-map-role="physical-map"]'),t.values.physical_address=r.val()},oninitialized:function(){t.values.physical_address=r.val()}})},methods:{onSubmit:function(e){var t=a(e.currentTarget),r=t.serialize(),n=o.parse(this.actionUrl,this.urlParams)+"?_format=json",i=t.prop("method"),s=this;this.values=t.serializeArray().reduce(function(e,t){var r=t.name,n=r.match(/.+?\[(.+)\]/);return n&&(r=n[1]),e[r]=t.value,e},{}),this.bInFlight=!0,a.ajax(n,{data:r,dataType:"json",method:i,success:function(e){s.alert=null,e.errors?s.errors=e.errors:(s.errors={},s.$emit("on-success",e.share_category,e.approval))},error:function(e,t,r){s.errors={},s.alert={cssClass:"alert-warning",message:r}},complete:function(){s.bInFlight=!1}})}}})}),require.register("web/static/js/business/business_owners.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(null==e)throw new TypeError("Cannot destructure undefined")}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessOwnerApproval=e.BusinessBranches=void 0;var s=t("vue/dist/vue"),a=n(s),o=t("../url_parser"),u=(n(o),t("jquery"));e.BusinessBranches=a["default"].component("business-owners",{template:"#business-owners-template",props:["event-bus","business","allApprovals","endpoint"],data:function(){return{showAddDialog:!1,businessOwners:this.business.owners,approvals:this.allApprovals,bApprovalDialogActive:!1,bEditActive:!1,currentEdit:{urlParams:{},values:{}},currentApproval:null,bLoading:!1,alert:null}},methods:{addBusinessOwner:function(e){this.businessOwners.unshift(e),this.showAddDialog=!1},showEditDialog:function(e,t,r){this.currentEdit={urlParams:{owner_id:e.id},values:{name:e.name}},this.bEditActive=!0},onEditSuccess:function(e){this.bEditActive=!1,this.currentEdit={urlParams:{},values:{}}},reloadBusinessOwners:function(){var e=this;this.bLoading=!0,u.ajax(this.endpoint,{dataType:"json",method:"get",success:function(t){e.alert=null,e.businessOwners=t.owners},error:function(t,r,n){e.alert={cssClass:"alert-warning",message:n}},complete:function(){e.bLoading=!1}})},deleteBusinessOwner:function(e){},isPendingApproval:function(e){return"pending"==e.status||null!=this.findApproval(e)},showApprovalDialog:function(e){var t=this.findApproval(e);t&&(this.currentApproval=t,this.bApprovalDialogActive=!0)},closeApprovalDialog:function(){this.currentApproval=null,this.bApprovalDialogActive=!1},findApproval:function(e){var t=this.approvals.filter(function(t){return t.subject_id==e.id});return t[0]||null},onApprovalUpdated:function(e){this.approvals=this.approvals.filter(function(t){return t.id!=e.id}),this.closeApprovalDialog(),this.reloadBusinessOwners()},onActionSuccess:function(e){i(e),this.alert=null},onActionError:function(e,t,r){this.alert={cssClass:"alert-danger",message:r}},onDeleteError:function(e,t,r){u.growl.error({message:r})}}}),e.BusinessOwnerApproval=a["default"].component("business-owner-approval",{template:"#business-owner-approval-template",props:["approval"],data:function(){return{bInFlight:!1,values:{},errors:{},alert:null}},methods:{noop:function(){},onSubmit:function(e){var t=u(e.currentTarget),r=t.prop("value"),n=u(e.currentTarget.form),i=n.prop("action").replace(/%3Aapproval_id/,this.approval.id)+"?_format=json",s=n.prop("method"),a=n.children(':input[name="_csrf_token"]').val(),o=u.param({_csrf_token:a,action:r}),c=this;confirm("Are you sure you want to "+r+" this change?")&&(this.bInFlight=!0,u.ajax(i,{data:o,dataType:"json",method:s,success:function(e){c.alert=null,e.errors?c.errors=e.errors:(c.errors={},c.$emit("approval-updated",e.approval))},error:function(e,t,r){c.errors={},c.alert={cssClass:"alert-warning",message:r}},complete:function(){c.bInFlight=!1}}))}}})}),require.register("web/static/js/business/change_of_officials.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=t("vue/dist/vue"),a=n(s),o=(t("web/static/js/business_registration/step4.vue"),t("jquery")),u=(t("../url_parser").UrlParser,t("../util").DateParser);a["default"].component("change-of-officials",{props:["officials","initial-resignations","initial-forfeits","initial-appointments","initial-allotments","counties","districts","localities","ownership_types","business_shares","initial-has-share-transfers"],data:function(){return{inProgress:!1,errors:null,showAddResignationDialog:!1,showEditResignationDialog:!1,resignations:this.initialResignations,currentResignation:null,hasShareTransfers:this.initialHasShareTransfers,showAddForfeitDialog:!1,showEditForfeitDialog:!1,currentForfeit:null,forfeits:this.initialForfeits,showAddAppointmentDialog:!1,showEditAppointmentDialog:!1,currentAppointment:null,appointments:this.initialAppointments,showAddAllotmentDialog:!1,showEditAllotmentDialog:!1,currentAllotment:null,allotments:this.initialAllotments,forfeit_deletion_error:""}},computed:{activeOfficials:function(){var e=this.resignations.map(function(e){var t=e.business_owner_id;return t});return this.officials.filter(function(t){var r=t.id;return e.indexOf(r)==-1})},named_shares:function(){return this.business_shares.map(function(e){return e.name=e.category,e})},available_shares:function c(){var c=this.named_shares.reduce(function(e,t){return e[t.name]=t.number,e},{});return this.activeOfficials.forEach(function(e){"shareholder"!==e.type&&"director_shareholder"!==e.type||e.shares.forEach(function(e){c[e.name]=c[e.name]-e.number_of_shares})}),this.appointments.forEach(function(e){var t=e.owner;if("shareholder"===t.type||"director_shareholder"===t.type)for(var r in t.shares)c[r]=c[r]-t.shares[r];
}),this.allotments.forEach(function(e){var t=e.shares;t.forEach(function(e){c[e.name]=c[e.name]-e.number_of_shares})}),this.forfeits.forEach(function(e){var t=e.shares;t.forEach(function(e){c[e.category]=c[e.category]+e.number_of_shares})}),c},shares_map:function(){return this.named_shares.reduce(function(e,t){return e[t.name]=0,e},{})}},methods:{isEmpty:function(e){return o.isEmptyObject(e)},isResigned:function(e){var t=e.id,r=this.resignations.filter(function(e){var r=e.business_owner_id;return r==t});return r.length>0},canResign:function(){return!0},canForfeit:function(e){return!this.forfeits.find(function(t){return e.id===t.business_owner_id})},hasShares:function(e){var t=e.has_shares;return t},addResignation:function(e){this.showAddResignationDialog=!0,this.currentResignation={business_owner_id:e.id,owner:e}},resignationAdded:function(e){this.resignations.push(e),this.allotments=this.allotments.filter(function(t){return t.business_owner_id!==e.business_owner_id}),this.forfeits=this.forfeits.filter(function(t){return t.business_owner_id!==e.business_owner_id}),this.closeResignationDialog()},closeResignationDialog:function(){this.showAddResignationDialog=this.showEditResignationDialog=!1,this.currentResignation=null},deleteResignation:function(e,t){var r=this,n=o(t.currentTarget),i=n.prop("action"),s=n.prop("method"),a=n.serializeArray().reduce(function(e,t){return e[t.name]=t.value,e},{resignation_id:e.id});r.inProgress=!1,o.ajax({method:s,url:i,data:a,success:function(t){r.resignationCancelled(e)},error:function(e,t,n){r.errors={global:e.statusText}},complete:function(){r.inProgress=!1}})},resignationCancelled:function(e){var t=e.id;return this.resignations=this.resignations.filter(function(e){var r=e.id;return r!=t})},addForfeit:function(e){this.showAddForfeitDialog=!0,this.currentForfeit={business_owner_id:e.id,owner:e}},forfeitAdded:function(e){this.forfeits.push(e),this.closeForfeitDialog()},closeForfeitDialog:function(){this.showAddForfeitDialog=this.showEditForfeitDialog=!1,this.currentForfeit=null},deleteForfeit:function(e){if(e.errors)this.forfeit_deletion_error=e.errors;else{this.forfeit_deletion_error="";var t=this.forfeits.findIndex(function(t){return t.id===e.forfeit_id});this.forfeits.splice(t,1)}},forfeitCancelled:function(e){var t=e.id;return this.forfeits=this.forfeits.filter(function(e){var r=e.id;return r!=t})},newAppointee:function(){return{date_of_birth:{},name:{},former_name:"",id_type:"citizen",type:"",shares:this.shares_map,shares_paid_up:this.shares_map,county:"",country:"",district:"",use_alien_card:"true",validating:!1}},addAppointment:function(){this.currentAppointment={owner:this.newAppointee()},this.showAddAppointmentDialog=!0},editAppointment:function(e){var t=o.extend(!0,{},e);t.owner.date_of_birth=u.toObject(t.owner.date_of_birth),t.owner.shares="object"===i(t.owner.shares)?t.owner.shares:this.shares_map,t.owner.shares_paid_up="object"===i(t.owner.shares_paid_up)?t.owner.shares_paid_up:this.shares_map,this.currentAppointment=t,this.showEditAppointmentDialog=!0},updateAppointment:function(e){var t=this.appointments.findIndex(function(t){return t.id===e.appointment.id});this.appointments.splice(t,1,e.appointment)},ownership_type_name:function(e){var t=this.ownership_types.find(function(t){return t.key===e});return t?t.name:""},id_type_name:function(e){var t={visitor:"Foreigner",alien:"Foreign Resident",citizen:"Kenyan Citizen",local_company:"Local Company",foreign_company:"Foreign Company",minor:"Minor"};return t[e]},closeAppointmentDialogs:function(){this.showAddAppointmentDialog=this.showEditAppointmentDialog=!1,this.currentAppointment=null},cancelAppointment:function(e){if(e.status&&"success"===e.status){var t=this.appointments.findIndex(function(t){return t.id===e.appointment_id});this.appointments.splice(t,1)}},hasAllotment:function(e){var t=e.id;return this.allotments.filter(function(e){var r=e.business_owner_id;return r==t}).length>0},addAllotment:function(e){this.currentAllotment={business_owner_id:e.id,owner:e},this.showAddAllotmentDialog=!0},allotmentAdded:function(e){this.allotments.push(e),this.closeAllotmentDialogs()},closeAllotmentDialogs:function(){this.showAddAllotmentDialog=this.showEditAllotmentDialog=!1,this.currentAllotment=null},allotmentCancelled:function(e){var t=e.allotment_id;this.allotments=this.allotments.filter(function(e){var r=e.id;return r!=t})},getOfficialsName:function(e){var t=this.findOfficialByOwnerId(e);return t[0]&&t[0].business_owner_profile.fullname},getOfficialsTypeName:function(e){var t=this.findOfficialByOwnerId(e);return t[0]&&t[0].type_name},findOfficialByOwnerId:function(e){var t=e.business_owner_id;return this.officials.filter(function(e){var r=e.id;return r==t})}}}),a["default"].component("resignation-form",{template:"#resignation-form-template",props:["action-url","resignation"],data:function(){return{errors:null,inProgress:!1,businessOwnerId:this.resignation.business_owner_id,owner:this.resignation.owner,affidavit:this.resignation.affidavit,resignationLetter:this.resignation.resignationLetter}},computed:{hasShares:function(){return this.owner.has_shares},isDirector:function(){return this.owner.is_director}},methods:{doSubmit:function(e){var t=o(e.currentTarget),r=t.prop("method"),n=new FormData(t[0]),i=this;this.inProgress=!0,o.ajax({method:r,url:this.actionUrl,data:n,processData:!1,contentType:!1,success:function(e){e.errors?i.errors=e.errors:(i.errors=null,i.$emit("success",e.resignation),i.$emit("close"))},error:function(e,t,r){i.errors={global:e.statusText}},complete:function(){i.inProgress=!1}})}}}),a["default"].component("forfeit-form",{template:"#forfeit-form-template",props:["action-url","forfeit"],data:function(){return{errors:null,inProgress:!1,businessOwnerId:this.forfeit.business_owner_id,owner:this.forfeit.owner,numberOfShares:this.forfeit.number_of_shares}},computed:{},methods:{doSubmit:function(e){var t=o(e.currentTarget),r=t.prop("method"),n=new FormData(t[0]),i=this;this.inProgress=!0,o.ajax({method:r,url:this.actionUrl,data:n,processData:!1,contentType:!1,success:function(e){e.errors?i.errors=e.errors:(i.errors=null,i.$emit("success",e.forfeit),i.$emit("close"))},error:function(e,t,r){i.errors={global:e.statusText}},complete:function(){i.inProgress=!1}})}}}),a["default"].component("allotment-form",{template:"#allotment-form-template",props:["share-categories","action-url","allotment","available_shares"],data:function(){return{errors:null,inProgress:!1,businessOwnerId:this.allotment.business_owner_id,owner:this.allotment.owner}},computed:{},methods:{doSubmit:function(e){var t=o(e.currentTarget),r=t.prop("method"),n=t.serialize(),i=this;this.inProgress=!0,o.ajax({method:r,url:this.actionUrl,data:n,success:function(e){e.errors?i.errors=e.errors:(i.errors=null,i.$emit("success",e.allotment),i.$emit("close"))},error:function(e,t,r){i.errors={global:e.statusText}},complete:function(){i.inProgress=!1}})}}})}),require.register("web/static/js/business/change_of_particulars.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);t("web/static/js/prompt.vue"),t("web/static/js/date_picker.vue"),t("web/static/js/business_registration/step4.vue").ownerForm;var a=t("../util.js").DateParser;s["default"].component("change-of-particulars-form",{props:["base-url","no-objection-documents","change-business-name","main-address","original-main-address","other-addresses","edited-addresses","deleted-addresses","new-addresses","postal-codes","counties","districts","localities","nature-of-business","current-officials","updated-officials","appointments","resignations","changeset-errors"],data:function(){return{nature_of_business:this.natureOfBusiness,showAddressDialog:!1,currentAddress:null,successCallback:null,currentUrl:"",currentModalTitle:"",mainBranch:this.mainAddress,originalMainBranch:this.originalMainAddress,otherBranches:this.otherAddresses||[],editedBranches:this.editedAddresses||[],deletedBranches:this.deletedAddresses||[],newBranches:this.newAddresses||[],editedOfficials:this.updatedOfficials||[],currentAppointments:this.appointments||[],currentResignations:this.resignations||[],showResignationForm:!1,showOfficerForm:!1,currentOfficial:{},formErrors:this.changesetErrors||{},currentErrors:{},updateBusinessName:this.changeBusinessName}},computed:{no_objection_letter_label:function(){if(this.nature_of_business)return this.noObjectionDocuments[this.nature_of_business]}},methods:{ownerEdited:function(e){return!!this.editedOfficials.find(function(t){return e===t.business_owner_id})},ownerResigned:function(e){return!!this.currentResignations.find(function(t){return""+e==""+t.officer_id})},onOwnerUpdateCancelled:function(e){this.editedOfficials=this.editedOfficials.filter(function(t){return""+t.business_owner_id!=""+e.data.business_owner_id&&""+t.id!=""+e.data.business_owner_id})},branchEdited:function(e){return!!this.editedBranches.find(function(t){return t.id===e})},branchDeleted:function(e){return!!this.deletedBranches.find(function(t){return t.id===e})},empty:function(e){return $.isEmptyObject(e)},postalTown:function(e){return this.postalCodes[e]},showAddressModal:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Edit Address",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.currentAddress=$.extend(!0,{},e),this.currentUrl=this.baseUrl.replace("action_uri",t),this.successCallback=r,this.currentModalTitle=n,this.currentErrors=i,this.showAddressDialog=!0},onMainAddressUpdated:function(e){this.mainBranch=e.data,this.showAddressDialog=!1},onAddressUpdated:function(e){this.editedBranches=this.editedBranches.filter(function(t){return t.id!==e.data.id}),this.editedBranches.push(e.data),this.showAddressDialog=!1},onBranchEditsCancelled:function(e){this.editedBranches=this.editedBranches.filter(function(t){return t.id!==e.data.id})},onAddressTrashed:function(e){var t=e.data;this.deletedBranches.push(t)},onAddressRestored:function(e){this.deletedBranches=this.deletedBranches.filter(function(t){return t.id!==e.data.id})},onAddressRemoved:function(e){var t=e.data;this.newBranches=this.newBranches.filter(function(e){return e.id!=t.id})},onAddressAdded:function(e){this.newBranches.push(e.data),this.showAddressDialog=!1},onNewAddressUpdated:function(e){this.newBranches=this.newBranches.map(function(t){return t.id===e.data.id?e.data:t}),this.showAddressDialog=!1},resign:function(e){this.currentOfficial=e,this.showResignationForm=!0},displayOfficerForm:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.currentUrl=this.baseUrl.replace("action_uri",t),this.currentOfficial=$.extend(!0,{},e,{date_of_birth:a.toObject(e.date_of_birth)}),this.successCallback=r,this.currentModalTitle=n,this.currentErrors=i,this.showOfficerForm=!0},onResignationSuccess:function(e){this.currentResignations.push(e.data),this.editedOfficials=this.editedOfficials.filter(function(t){return t.business_owner_id!==e.data.business_owner_id}),this.showResignationForm=!1},onResignationCancelled:function(e){this.currentResignations=this.currentResignations.filter(function(t){return t.officer_id!==e.data.officer_id})},onOfficialUpdated:function(e){this.editedOfficials=this.editedOfficials.filter(function(t){return""+t.business_owner_id!=""+e.data.business_owner_id}),this.editedOfficials.push(e.data)},addAppointment:function(){var e={id_type:"citizen",county:"",district:"",locality:"",type:"",kra_pin_certificate:"",passport_photo:"",validating:!1,date_of_birth:{year:"",month:"",day:""},name:{first_name:"",last_name:"",other_name:""}};this.displayOfficerForm(e,"add_appointment",this.onAppointmentAdded,"New Appointment")},onAppointmentAdded:function(e){this.currentAppointments.push(e.data)},onAppointmentCancelled:function(e){this.currentAppointments=this.currentAppointments.filter(function(t){return t.id!==e.data.id})},onAppointmentUpdated:function(e){this.currentAppointments=this.currentAppointments.map(function(t){return t.id===e.data.id?e.data:t})}},components:{"address-form":{props:["address","postal-codes","counties","districts","localities","url","errors"],data:function(){return{payload:Object.assign({address:{},county_id:"",district_id:"",locality_id:""},this.address),saving:!1}},computed:{currentDistricts:function(){var e=this;return this.payload.county_id?this.districts.filter(function(t){return t.parent_id===e.payload.county_id}):[]},currentLocalities:function(){var e=this;return this.payload.district_id?this.localities.filter(function(t){return t.parent_id===e.payload.district_id}):[]}},mounted:function(){this.errors&&this.showValidationErrors(this.errors)},methods:{submit:function(){if(this.saving)return!1;var e=this;this.saving=!0,$.ajax({url:this.url,data:{data:this.payload},method:"post",success:function(t){t.errors?e.showValidationErrors(t.errors):t.data&&e.$emit("success",t)},error:function(t){e.vErrors.add({field:"general",msg:"An error occurred"})},complete:function(){e.saving=!1}})}}},"resignation-form":{props:["official","url"],data:function(){return{sending:!1,resignation_letter:"",affidavit:"",resignation_date:""}},methods:{setAffidavit:function(e){this.affidavit=e.target.files[0]},setResignationLetter:function(e){this.resignation_letter=e.target.files[0]},submit:function(){var e=new FormData;e.append("data[officer_id]",this.official.business_owner_id),e.append("data[resignation_date]",this.resignation_date),e.append("data[resignation_letter]",this.resignation_letter),e.append("data[affidavit]",this.affidavit),this.sending=!0;var t=this;$.ajax({url:this.url,data:e,processData:!1,contentType:!1,method:"post",success:function(e){e.errors?t.showValidationErrors(e.errors):e.data&&t.$emit("success",e)},error:function(e){t.vErrors.add({field:"general",msg:"An error occured"})},complete:function(){t.sending=!1}})}}}}})}),require.register("web/static/js/business/debentures-form.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i);e["default"]=s["default"].component("debentures-form-component",{props:["_persons_entitled","_persons_entitled_errors","_secured_currency_amounts_errors","_secured_currency_amounts"],data:function(){return{showModal:!1,persons_entitled:this._persons_entitled.length?this._persons_entitled:[],currencies:["KES","USD","UER","YEN","CYN"],errors:{},currency:"",amount:"",secured_currency_amounts:this._secured_currency_amounts||[{currency:"",amount:""}]}},methods:{addResult:function(e){this.persons_entitled.push({name:e.first_name,postal_address:"PO BOX "+e.main_branch.postal_address+", "+e.main_branch.postal_code}),this.showModal=!1}},components:{"search-component":{props:["search-url"],data:function(){return{step:"search",reg_no:"",date:{year:"",month:"",day:""},error:!1,searching:!1,result:null}},methods:{lookup:function(){if(!(this.reg_no&&this.date.year&&this.date.month&&this.date.day))return this.error="All fields are required",!1;var e=this;e.searching=!1,$.ajax({method:"get",url:this.searchUrl,data:{with_pin:!1,reg_no:e.reg_no,reg_date:e.date},success:function(t){t.profile?["public_limited","private_limited","foreign"].indexOf(t.profile.business_type)===-1?e.error="Only public, private and foreign companies can be added":(e.result=t.profile,e.step="result"):e.error="No matching results found"},error:function(t){e.error=t.message},complete:function(){e.searching=!1}})},select:function(){this.$emit("result",this.result)}}}}})}),require.register("web/static/js/business/directors_information.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.DirectorsInfoForm=e.DirectorsInformation=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("../url_parser").UrlParser,u=t("../util.js").DateParser,c=t("../util.js").shareCategoryNameOrOther,l=function(e){return["state_corporation","other"].indexOf(e)===-1};e.DirectorsInformation=s["default"].component("directors-information",{template:"#directors-information-template",props:["business","showBusinessUrl","localities","counties","districts"],data:function(){return{showEditDialog:!1,showAddDialog:!1,alert:null,currentOwner:null,urlParams:{}}},filters:{humanize:function(e){return e?(e=e.toString(),e.replace().split(/_/).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")):""}},computed:{share_allocation:function(){var e=this;return this.business.share_categories.reduce(function(t,r){return t[r.id]={allocated:e.business.owners.reduce(function(e,t){return"trashed"===t.status?e:t.shares[r.id]?(t.shares[r.id].allocated||0)+e:e},0),total:r.number_of_shares},t},{})}},methods:{new_business_owner:function(){return{owner:{shares:function(e){return e.reduce(function(e,t){return e[t.id]={allocated:0,paid_up:0},e},{})}(this.business.share_categories),county_id:"",district_id:"",locality_id:"",id:null,type:""},owner_profile:{validated:!1,date_of_birth:{},first_name:"",gender:"",id_type:"citizen",id_number:""}}},profileUrl:function(e,t){return o.parse(e,{profile:t.business_owner_profile.id})},owner_type:function(e){var t={citizen:"Kenyan Citizen",alien:"Foreign Resident",visitor:"Foreigner",local_company:"Local Company",foreign_company:"Foreign Company",minor:"Minor",state_corporation:"State Corporation",other:"Other"};return t[e.business_owner_profile.id_type]},canAddOwner:function(){switch(this.business.business_type){case"business_name":return this.business.owners.length<20;case"private_limited":return this.business.owners.length<50;default:return!0}},filterActive:function(e){return e.filter(function(e){return"trashed"!=e.status})},number_of_shares:function(e,t){var r=e[t];return r?r.allocated:0},fullname:function(e){var t=e.first_name,r=e.last_name,n=e.other_names;return(t||"")+" "+(n||"")+" "+(r||"")},ownerAdded:function(e){this.showAddDialog=!1,this.$emit("owner-added",e)},showEditModal:function(e){var t=this.business.share_categories.reduce(function(e,t){return e[t.id]={allocated:0,paid_up:0},e},{});t=a.extend(!0,t,e.shares),this.currentOwner={owner:a.extend(e,{shares:t}),owner_profile:a.extend(e.business_owner_profile,{validated:!l(e.business_owner_profile.id_type)})},this.showEditDialog=!0},ownerUpdated:function(e){this.showEditDialog=!1,this.$emit("owner-updated",e)},ownerDeleted:function(e){var t=e.owner;this.ownerUpdated(t)},onDeleteError:function(e,t,r){a.growl.error({message:r})},nameOrOtherName:c}}),e.DirectorsInfoForm=s["default"].component("directors-info-form",{template:"#directors-info-form-template",props:["share-categories","action-url","url-params","share-allocation","id-lookup-url","business-lookup-url","business_owner","localities","counties","districts"],data:function(){var e=this;return{lookup_id_number:this.business_owner.owner_profile.id_number,lookup_date_of_birth:this.business_owner.owner_profile.date_of_birth,lookup_first_name:this.business_owner.owner_profile.first_name,errors:{},alert:null,bInFlight:!1,lookingUp:!1,id_present:function(){return e.business_owner.owner.id&&e.business_owner.owner_profile.id_number?"true":"false"}(),owner:a.extend(!0,{},this.business_owner.owner),owner_profile:a.extend(!0,{},this.business_owner.owner_profile),current_owner_shares:a.extend(!0,{},this.business_owner.owner.shares)}},watch:{"owner_profile.id_type":function(e,t){a.extend(!0,this.owner_profile,{first_name:"",last_name:"",other_names:"",id_number:"",gender:"",validated:!l(e)})}},computed:{can_lookup:function(){return("citizen"===this.owner_profile.id_type||"alien"===this.owner_profile.id_type)&&"true"===this.id_present||"local_company"===this.owner_profile.id_type},requires_residence:function(){return this.owner.type&&["proprietor","partner","manager","director","director_shareholder","director_member","secretary","local_representative","foreign_director"].indexOf(this.owner.type)!==-1},is_local_owner:function(){return["citizen","local_company","alien","state_corporation"].indexOf(this.owner_profile.id_type)!==-1},is_company:function(){return["local_company","foreign_company","state_corporation","other"].indexOf(this.owner_profile.id_type)!==-1},fullname:function(){return(this.owner_profile.first_name||"")+" "+(this.owner_profile.other_names||"")+" "+(this.owner_profile.last_name||"")},can_have_shares:function(){return["shareholder","director_shareholder"].indexOf(this.owner.type)!==-1},_districts:function(){var e=this;return this.districts.filter(function(t){return t.parent_id===e.owner.county_id})},_localities:function(){var e=this;return this.localities.filter(function(t){return t.parent_id===e.owner.district_id})}},methods:{available_for_allocation:function(e){var t=this.owner.shares[e].allocated-this.current_owner_shares[e].allocated;return this.shareAllocation[e].total-(this.shareAllocation[e].allocated+t)},do_continue:function(){var e=this;if(["citizen","alien","local_company"].indexOf(this.owner_profile.id_type)!==-1){this.bInFlight=!0,this.lookingUp=!0;var t={},r="";["citizen","alien"].indexOf(this.owner_profile.id_type)!==-1?(r=this.idLookupUrl,t={citizenship:this.owner_profile.id_type,id_number:this.lookup_id_number,first_name:this.lookup_first_name}):"local_company"===this.owner_profile.id_type&&(r=this.businessLookupUrl,t={reg_no:this.lookup_id_number,reg_date:this.lookup_date_of_birth}),a.ajax({url:r,method:"get",data:t}).done(function(t){e.alert=null,t.errors?e.errors=t.errors:(e.errors={},a.extend(e.owner_profile,t.profile,{date_of_birth:u.toObject(t.profile.date_of_birth),id_type:e.owner_profile.id_type}))}).fail(function(t,r,n){e.alert={cssClass:"alert-warning",message:message}}).always(function(){e.bInFlight=!1,e.lookingUp=!1})}else this.owner_profile.validated=!0},submit:function(){var e=this,t=o.parse(this.actionUrl,this.urlParams)+"?_format=json",r={profile:this.owner_profile,owner:{type:this.owner.type,email:this.owner.email,phone_number:this.owner.phone_number,county_id:this.owner.county_id,district_id:this.owner.district_id,locality_id:this.owner.locality_id,country_code:this.owner.country_code,residential_address:this.owner.residential_address,postal_address:this.owner.postal_address,postal_code:this.owner.postal_code,shares:this.shareCategories.map(function(t){return{business_share_category_id:t.id,number_of_shares:e.owner.shares[t.id].allocated,number_paid_up:e.owner.shares[t.id].paid_up}})}};this.bInFlight=!0,a.ajax(t,{data:r,method:"POST",success:function(t){e.alert=null,t.errors?e.errors=t.errors:(e.errors={},e.$emit("on-success",t.owner))},error:function(t,r,n){e.errors={},e.alert={cssClass:"alert-warning",message:n}},complete:function(){e.bInFlight=!1}})},nameOrOtherName:c}})}),require.register("web/static/js/business/edit_business_details.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("jquery"),s=n(i),a=t("vue/dist/vue"),o=n(a),u=t("../util.js").DateParser;r.exports=o["default"].component("edit-business-details",{template:"#edit-business-details-template",props:["business","actionUrl","businessTypes"],data:function(){return{edit:{name:this.business.name,registration_number:this.business.registration_number,business_type:this.business.business_type,registration_date:this.partsToInteger(u.toObject(this.business.registration_date)),nature_of_business:this.business.nature_of_business,nature_of_business_other:this.business.nature_of_business_other},errors:{},alert:!1,bInFlight:!1}},methods:{partsToInteger:function(e){return{year:e.year,month:parseInt(e.month),day:parseInt(e.day)}},updateBusinessDetails:function(){this.bInFlight=!0;var e=this;s["default"].ajax({url:this.actionUrl,data:{business:this.edit},method:"PUT",success:function(t){t.errors?e.errors=t.errors:(t.business.business_type!==e.business.business_type&&location.reload(!0),e.$emit("business-details-updated",t.business))},error:function(t,r,n){e.alert=r},complete:function(){e.bInFlight=!1}})},canChangeType:function(e){return["business_name"].indexOf(e)===-1}},computed:{}})}),require.register("web/static/js/business/manager.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessManager=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("../url_parser").UrlParser,e.BusinessManager=s["default"].component("business-manager",{template:"#business-manager-template",props:["localities","counties","districts","audits","auditCurrentPage","auditTotalPages","event-bus","business","show-add-share-modal","share-categories-endpoint","business-branches-endpoint","returns"],data:function(){return{}},created:function(){this.eventBus.$on("share-category-added",this.addShareCategory),this.eventBus.$on("share-category-updated",this.updateShareCategory),this.eventBus.$on("share-category-trashed",this.trashShareCategory)},beforeDestroy:function(){this.eventBus.$off("share-category-added",this.addShareCategory),this.eventBus.$off("share-category-updated",this.updateShareCategory),this.eventBus.$off("share-category-trashed",this.trashShareCategory)},mounted:function(){var e=window.location.hash||"#business_details";a(this.$el).find("a[data-toggle='tab'][href='"+e+"']").tab("show")},methods:{addShareCategory:function(e){this.business.share_categories.unshift(e)},updateShareCategory:function(e){for(var t in this.business.share_categories)if(e.id==this.business.share_categories[t].id){this.business.share_categories[t]=e;break}},trashShareCategory:function(e){this.business.share_categories=this.business.share_categories.filter(function(t){return t.id!=e.id})},onBranchDeleted:function(e){this.business.business_branches=this.business.business_branches.filter(function(t){return t.id!=e.id})},onBranchAdded:function(e){this.business.business_branches.push(e)},onBranchesReloaded:function(e){this.business.business_branches=e},addOwner:function(e){this.business.owners.unshift(e)},updateOwner:function(e){var t=this.business.owners.findIndex(function(t){return t.id===e.id});t!==-1&&a.extend(!0,this.business.owners[t],e)},addAttachment:function(e){this.business.attachments.unshift(e)},deleteAttachment:function(e){this.business.attachments=this.business.attachments.filter(function(t){return t.id!=e.id})},publishBusiness:function(e){this.business.published=!0,this.business.verified=!0},switchTab:function(e){window.location.hash=a(e.target).attr("href")}}})}),require.register("web/static/js/business/publish.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("jquery"),s=n(i),a=t("vue/dist/vue"),o=n(a);r.exports=o["default"].component("publish-business",{props:["business","actionUrl"],data:function(){return{bSending:!1,errors:[],alert:!1}},methods:{doPublish:function(){var e=this;e.bSending=!0,s["default"].ajax({method:"POST",url:e.actionUrl,success:function(t){t.errors?e.errors=t.errors:(e.$emit("business-published",e.business),s["default"].growl.notice({message:"Published successfully"}))},error:function(t,r,n){e.errors=[n]},complete:function(){e.bSending=!1}})},publish:function(){var e=this;s["default"].confirm({title:"Publish Business",content:"Are you sure you want to publish this business?",escapeKey:"cancel",buttons:{cancel:{text:"Cancel",btnClass:"btn-primary btn-sm",action:function(){this.close()}},ok:{text:"Publish",btnClass:"btn-success btn-sm",keys:["enter"],action:function(){e.doPublish()}}}})}}})}),require.register("web/static/js/business/share_categories.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ShareCategoryApproval=e.ShareCategories=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("../url_parser"),o=(n(a),t("jquery")),u=t("../util.js").shareCategoryNameOrOther;e.ShareCategories=s["default"].component("share-categories",{template:"#share-categories-template",props:["event-bus","share-categories","endpoint"],data:function(){return{showAddDialog:!1,bEditActive:!1,currentEdit:{urlParams:{},values:{}},currentApproval:null,bLoading:!1,alert:null}},methods:{shareCapital:function(){return this.shareCategories.reduce(function(e,t){return"pending"==t.status?e:e+t.nominal_value*t.number_of_shares},0)},shareCategoryAdded:function(e){var t=e.share_category;this.showAddDialog=!1,this.eventBus.$emit("share-category-added",t)},showEditDialog:function(e,t,r){this.bEditActive=!0,this.currentEdit={urlParams:{category_id:e.id},values:{name:e.name,other_name:e.other_name,number_of_shares:e.number_of_shares,nominal_value:e.nominal_value}}},shareCategoryUpdated:function(e){var t=e.share_category;this.bEditActive=!1,this.currentEdit={urlParams:{},values:{}},this.eventBus.$emit("share-category-updated",t)},reloadShareCategories:function(){var e=this;this.bLoading=!0,o.ajax(this.endpoint,{dataType:"json",method:"get",success:function(t){e.alert=null,e.shareCategories=t.share_categories},error:function(t,r,n){e.alert={cssClass:"alert-warning",message:n}},complete:function(){e.bLoading=!1}})},onDeleteSuccess:function(e){var t=e.share_category;this.alert=null,this.eventBus.$emit("share-category-trashed",t)},onDeleteError:function(e,t,r){o.growl.error({message:r})},nameOrOtherName:u},computed:{}}),e.ShareCategoryApproval=s["default"].component("share-category-approval",{template:"#share-category-approval-template",props:["approval"],data:function(){return{bInFlight:!1,values:{},errors:{},alert:null}},methods:{noop:function(){},onSubmit:function(e){var t=o(e.currentTarget),r=t.prop("value"),n=o(e.currentTarget.form),i=n.prop("action").replace(/%3Aapproval_id/,this.approval.id)+"?_format=json",s=n.prop("method"),a=n.children(':input[name="_csrf_token"]').val(),u=o.param({_csrf_token:a,action:r}),c=this;confirm("Are you sure you want to "+r+" this change?")&&(this.bInFlight=!0,o.ajax(i,{data:u,dataType:"json",method:s,success:function(e){c.alert=null,e.errors?c.errors=e.errors:(c.errors={},c.$emit("approval-updated",e.approval))},error:function(e,t,r){c.errors={},c.alert={cssClass:"alert-warning",message:r}},complete:function(){c.bInFlight=!1}}))}}})}),require.register("web/static/js/business/share_category_form.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ShareCategoryForm=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("../url_parser.js").UrlParser;e.ShareCategoryForm=s["default"].component("share-category-form",{template:"#share-category-form-template",props:["parent-values","action-url","url-params"],data:function(){return{bInFlight:!1,errors:{},values:a.extend({name:null},this.parentValues),alert:null}},methods:{isOtherCategory:function(){return"_other"==this.values.name},onSubmit:function(e){var t=a(e.currentTarget),r=t.serialize(),n=o.parse(this.actionUrl,this.urlParams)+"?_format=json",i=t.prop("method"),s=this;this.values=t.serializeArray().reduce(function(e,t){var r=t.name,n=r.match(/.+?\[(.+)\]/);return n&&(r=n[1]),e[r]=t.value,e},{}),this.bInFlight=!0,a.ajax(n,{data:r,dataType:"json",method:i,success:function(e){s.alert=null,e.errors?s.errors=e.errors:(s.errors={},s.$emit("request-success",e))},error:function(e,t,r){s.errors={},s.alert={cssClass:"alert-warning",message:r}},complete:function(){s.bInFlight=!1}})}}})}),require.register("web/static/js/business/show_change.vue.js",function(e,t,r){"use strict";var n=t("vue/dist/vue");n.component("changes_component",{template:'\n    <template slot="body">\n      <h2>{{ url }}</h2>\n    </template>\n    ',props:[],data:function(){return{showModal:!1,url:null,change:null,fields:null,changeData:null}},methods:{showChangesDialog:function(e){var t=this;$.ajax({method:"get",url:e,success:function(e){t.change=e.change,t.showModal=!0}})}}}),n.component("change-data",{props:["change","fields"],template:"#change-data-template",methods:{}})}),require.register("web/static/js/business/strikeoff_dialog.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{
"default":e}}var i=t("jquery"),s=n(i),a=t("vue/dist/vue"),o=n(a);t("../util.js").DateParser;r.exports=o["default"].component("strikeoff-dialog",{template:"#strikeoff-dialog-template",props:["business","actionUrl","strikeoffOrCancelation"],data:function(){var e=new Date;return{date:{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()},gazette_notice_no:null,reason:null,errors:this.defaultErrors(),alert:!1,bInFlight:!1}},methods:{updateStrikeoffDetails:function(){this.bInFlight=!0,this.errors=this.defaultErrors();var e=this,t={};t=this.isStrikeoff()?{date:this.date,gazette_notice_no:this.gazette_notice_no}:{reason:this.reason},s["default"].ajax({url:this.actionUrl,data:{strikeoff:t},method:"PUT",success:function(t){t.errors?e.errors=t.errors:e.$emit("strikeoff-details-updated",t.business)},error:function(t,r,n){e.alert=r},complete:function(){e.bInFlight=!1}})},defaultErrors:function(){return{date:null,gazette_notice_no:null,reason:null}},unsetDateErrors:function(){this.errors.date=null},isStrikeoff:function(){return"strikeoff"==this.strikeoffOrCancelation}},computed:{}})}),require.register("web/static/js/business/user_profile.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.UserProfile=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("../url_parser").UrlParser,e.UserProfile=s["default"].component("user-profile",{template:"#user-profile-template",props:[],data:function(){return{showProfile:!1,owner_profile:{}}},mounted:function(){var e=this;a.ajax({url:"list-owner-businesses/"+id,method:"GET",success:function(t){console.log(t),e.owner_profile=t.user_data},error:function(){}})}})}),require.register("web/static/js/business_changes/add_business.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=n(a);e["default"]=s["default"].component("add-business-component",{props:["_users","_errors","_id_types","_user_roles"],data:function(){return{users:this._users,showModal:!1,currentUser:{},current_user_errors:{}}},methods:{addUser:function(){this.currentUser={id_type:"",county_id:"",district_id:""},this.showModal=!0},editUser:function(e,t){this.currentUser=o["default"].extend(!0,{},e),this.showModal=!0,this.current_user_errors=this._errors[t]||{}},formatName:function(e){return["local_company","foreign_company","state_corporation"].indexOf(e.id_type)!==-1?e.first_name:e.first_name+" "+e.other_name+"  "+e.last_name}},components:{"user-form":{props:["_user","user_errors","lookup_url","id_types","user_roles","submit_url","_counties","_districts","_localities"],data:function(){return{user:this._user,errors:this.user_errors||{},bInFlight:!1,bLookingUp:!1}},computed:{districts:function(){var e=this;return this._districts.filter(function(t){return t.parent_id==e.user.county_id})},localities:function(){var e=this;return this._localities.filter(function(t){return t.parent_id==e.user.district_id})}},methods:{canBeValidated:function(e){var t=e.id_type;return["citizen","alien"].indexOf(t)!==-1},isCompany:function(e){var t=e.id_type;return["local_company","foreign_company","state_corporation"].indexOf(t)!==-1},isLocal:function(e){var t=e.id_type;return["local_company","citizen","state_corporation"].indexOf(t)!==-1},addressLabel:function(e,t,r){return this.isCompany(e)?r:t},idTypeLabel:function(e,t,r,n,i,s){var a=e.id_type;return{local_company:n,foreign_company:n,citizen:t,alien:t,visitor:i,minor:r,state_corporation:s}[a]},lookup:function(){if(["citizen","alien"].indexOf(this.user.id_type)==-1)return!1;var e=this;e.bInFlight=!0,e.bLookingUp=!0,o["default"].ajax({url:this.lookup_url,data:{citizenship:this.user.id_type,id_number:this.user.id_number,first_name:this.user.lookup_name,with_pin:!1},success:function(t){t.errors?(e.errors=t.errors,e.alert=Array.isArray(t.errors)):(e.user.first_name=t.profile.first_name,e.user.last_name=t.profile.last_name,e.user.other_name=t.profile.other_names,e.errors={})},error:function(e,t,r){console.log(t)},complete:function(){e.bInFlight=!1,e.bLookingUp=!1}})},submitUser:function(){var e=this;e.bInFlight=!0,o["default"].ajax({url:this.submit_url,method:"POST",data:{data:this.user},success:function(t){t.errors?e.errors=t.errors:(e.$emit("users-updated",t.users),e.$emit("exit"))},error:function(e,t,r){console.log(r)},complete:function(){e.bInFlight=!1}})}}}}})}),require.register("web/static/js/business_changes/change_of_address.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i);e["default"]=s["default"].component("address-form-component",{props:["_counties","_districts","_localities","_county","_district","_locality"],data:function(){return{district:this._district,county:this._county,locality:this._locality,counties:this._counties}},computed:{districts:function(){var e=this;return this._districts.filter(function(t){return t.parent_id==e.county})},localities:function(){var e=this;return this._localities.filter(function(t){return t.parent_id==e.district})}}})}),require.register("web/static/js/business_changes/change_of_name.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i);e["default"]=s["default"].component("change-of-name",{props:["nameSearches","initialNameSearchId"],data:function(){return{selectedName:null}},created:function(){this.setNewName(this.initialNameSearchId)},methods:{setNewName:function(e){var t=this.nameSearches.filter(function(t){return t.id==e});t.length>0?this.selectedName=t[0].name:this.selectedName=null}}})}),require.register("web/static/js/business_changes/change_of_type.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i);e["default"]=s["default"].component("change-type-application-form",{props:["_type","_abbreviate"],data:function(){return{conversion_type:this._type,abbreviate:this._abbreviate}}})}),require.register("web/static/js/business_changes/officers.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.form=e.officers=void 0;var i=t("vue/dist/vue"),s=n(i);t("web/static/js/modal/modal");var a=t("web/static/js/business_registration/step4.vue"),o=s["default"].component("officers-details-component",{"extends":a.step4,props:["allocated-shares"],computed:{available_shares:function c(){var e=this,c={};return this.shares.forEach(function(t){var r=e.officers.reduce(function(e,r){return e+(isNaN(r.shares[t.name])?0:r.shares[t.name])},0);c[t.name]=t.number-(r+e.allocatedShares[t.name])}),c}}}),u=s["default"].component("officer-details-form",{"extends":a.ownerForm,methods:{submit:function(){var e=$("#form-container").parents("form"),t=new FormData(e[0]),r=this;this.bSending=!0,$.ajax({method:"POST",url:this.actionUrl,data:t,processData:!1,contentType:!1,success:function(e){e.errors?r.errors=e.errors:(r.$emit("success",e.officer),r.$emit("close"))},error:function(e,t,r){console.log(r)},complete:function(){r.bSending=!1}})}}});e.officers=o,e.form=u}),require.register("web/static/js/business_registration/name_search.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.NameSearch=void 0;var i=t("../url_parser"),s=(n(i),t("vue/dist/vue"));t("jquery"),e.NameSearch=s.component("name-search",{props:["_name","_registration_type","_is_abbreviated","_meaning","_special_instruction"],data:function(){return{name:this._name,registration_type:this._registration_type,is_abbreviated:!(!this._is_abbreviated||"false"==this._is_abbreviated),meaning:this._meaning,special_instruction:this._special_instruction||"none",abbreviations:{private_limited:{full:"LIMITED",abbrev:"LTD"},limited_by_guarantee:{full:"LIMITED",abbrev:"LTD"},public_limited:{full:"PUBLIC LIMITED COMPANY",abbrev:"PLC"},limited_liability_partnership:{full:"LIMITED LIABILITY PARTNERSHIP",abbrev:"LLP"}}}},computed:{registeredName:function(){var e=this.name&&this.name+" "+this.extension||"";return e.toUpperCase()},extension:function(){var e=this.abbreviations[this.registration_type];return e&&this.fullOrAbbrev(this.is_abbreviated,e)||""}},methods:{fullOrAbbrev:function(e,t){return e?t.abbrev:t.full},nameToUpper:function(){var e=this.name.trim();this.name=e&&this.name.toUpperCase()||""}}})}),require.register("web/static/js/business_registration/step1.vue.js",function(e,t,r){"use strict";function n(e){var t=new Date(Date.parse(e));return{year:t.getFullYear()||2017,month:(t.getMonth()||0)+1,day:t.getDate()||1}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue");e["default"]=i.component("business-registration-memorandum",{props:["_documents","registrationType","_objects_select","_objects_regulated","_kra_business_activity_sector_select","_kra_business_activity_division_select","_kra_business_activity_group_select","_kra_business_activity_class_select","_other_objects","_bs_nature_select","_start_date","_bs_nature","_memorandum","_acc_period_end_month","_no_of_employees","_estimated_annual_turnover","_attached_articles","_is_subsidiary","_is_amalgamated","_bond","_company_pin","_amalgamation_date","_tax_payer_name","_tax_payer_email","_is_subsidiary_resident","_subsidiary_kra_pin","_subsidiary_name","_subsidiary_country","_vetting_phone_number","primary_activities","secondary_activities"],data:function(){return{documents:this._documents,memorandum:this._memorandum||"standard",attached_articles:this._attached_articles,start_date:n(this._start_date),bs_nature_select:this._bs_nature_select,bs_nature:this._bs_nature,acc_period_end_month:this._acc_period_end_month,objects_select:this._objects_select,objects_regulated:this._objects_regulated||"N",kra_business_activity_sector_select:this._kra_business_activity_sector_select,kra_business_activity_division_select:this._kra_business_activity_division_select,kra_business_activity_group_select:this._kra_business_activity_group_select,kra_business_activity_class_select:this._kra_business_activity_class_select,other_objects:this._other_objects,no_of_employees:this._no_of_employees,estimated_annual_turnover:this._estimated_annual_turnover,is_subsidiary:this._is_subsidiary,is_amalgamated:this._is_amalgamated,bond:this._bond,company_pin:this._company_pin,tax_payer_name:this._tax_payer_name,tax_payer_email:this._tax_payer_email,amalgamation_date:n(this._amalgamation_date),is_subsidiary_resident:this._is_subsidiary_resident,subsidiary_kra_pin:this._subsidiary_kra_pin,subsidiary_name:this._subsidiary_name,subsidiary_country:this._subsidiary_country,vetting_phone_number:this._vetting_phone_number}},methods:{clearActivities:function(e){for(var t=["kra_business_activity_sector_select","kra_business_activity_division_select","kra_business_activity_group_select","kra_business_activity_class_select"],r=e;r<t.length;r++)this[t[r]]=""},checkUnsetOther:function(e){"other"!=this.bs_nature_select&&(this.bs_nature="")},checkUnsetOtherObjects:function(e){"other"!=this.objects_select&&(this.other_objects="")},isCompany:function(){return["business_name","limited_liability_partnership","foreign"].indexOf(this.registrationType)===-1}},computed:{check_type:function(){return"test"},division_activities:function(){var e=this;return this.secondary_activities.filter(function(t){return t.taxonomy_id==e.kra_business_activity_sector_select})},group_activities:function(){var e=this;return this.secondary_activities.filter(function(t){return t.taxonomy_id==e.kra_business_activity_division_select})},class_activities:function(){var e=this;return this.secondary_activities.filter(function(t){return t.taxonomy_id==e.kra_business_activity_group_select})}}})}),require.register("web/static/js/business_registration/step2.vue.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("vue/dist/vue");t("web/static/js/file_upload.vue");e.businessRegAddresses=n.component("business-registration-addresses",{props:["_addresses","_primary_address","errors","all-districts","all-localities","all-counties"],data:function(){return{primary_address:this._primary_address[0],addresses:this._addresses}},computed:{districts:function(){var e=this;return this.allDistricts.filter(function(t){return t.parent_id==e.primary_address.county})},localities:function(){var e=this;return this.allLocalities.filter(function(t){return t.parent_id==e.primary_address.district})}},methods:{add:function(){this.addresses.push({county:"",district:""})},remove:function(e){this.addresses.splice(e,1)}}}),e.officeAddress=n.component("office-address",{props:["address","all-districts","all-localities","all-counties","errors","index"],computed:{districts:function(){var e=this;return this.allDistricts.filter(function(t){return t.parent_id==e.address.county})},localities:function(){var e=this;return this.allLocalities.filter(function(t){return t.parent_id==e.address.district})}}})}),require.register("web/static/js/business_registration/step3.vue.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("vue/dist/vue"),i=t("web/static/js/util").NumberFormatter;t("web/static/js/file_upload.vue"),n.filter("format_number",i.format_number),e["default"]=n.component("business-registration-shares",{props:["_shares","errors","share_categories"],data:function(){return{shares:this._shares}},computed:{share_capital:function(){return this.shares.reduce(function(e,t){var r=parseInt(t.number)*parseFloat(t.nominal_value);return isNaN(r)?e:e+r},0)},total_shares:function(){return this.shares.reduce(function(e,t){var r=parseInt(t.number);return isNaN(r)?e:e+r},0)}},methods:{add:function(){this.shares.push({category:null,number:null,nominal_value:null})},remove:function(e){this.shares.splice(e,1)},get_available_categories:function(e){var t=this;return this.share_categories.filter(function(r){return t.shares.findIndex(function(t){return"Other"!=r&&t.category==r&&t!=e})==-1})}}})}),require.register("web/static/js/business_registration/step4.vue.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("jquery"),i=t("vue/dist/vue"),s=t("../util.js").DateParser;t("web/static/js/file_upload.vue"),t("web/static/js/modal/modal");var a=i.component("business-registration-owner-information",{props:["business_type","lookup-url","_officers","_shares","_membership_types","all-counties","all-districts","all-localities","with_errors"],data:function(){return{officers:[],current_officer:{},current_officer_errors:{},showAddModal:!1,showEditModal:!1}},computed:{shares:function(){return this._shares.map(function(e){return e.name="Other"==e.category?e.name:e.category,e})},available_shares:function u(){var e=this,u={};return this.shares.forEach(function(t){var r=e.officers.reduce(function(e,r){return e+(isNaN(r.shares[t.name])?0:r.shares[t.name])},0);u[t.name]=t.number-r}),u},membership_types:function(){return"secretary"==this.current_officer.type?this._membership_types.filter(function(e){return"secretary"==e.key}):this._membership_types.filter(function(e){return"secretary"!=e.key})},has_secretary:function(){return void 0!=this.officers.find(function(e){return"secretary"==e.type})},sorted_officers:function(){return this.officers.sort(function(e,t){return e.business_owner_id?-1:1})}},mounted:function(){var e=this;this.officers=this._officers.map(function(t,r){var n=t;return"string"==typeof t.date_of_birth?n.date_of_birth=s.toObject(t.date_of_birth):n.date_of_birth={},n.shares=t.shares||e.shares_map(),n.validating=!1,n})},methods:{canAddMember:function(){switch(this.business_type){case"private_limited":return this.officers.filter(function(e){return"secretary"!==e.type}).length<50;case"business_name":return this.officers.length<20;default:return!0}},id_type:function(e){var t={visitor:"Foreigner",alien:"Foreign Resident",citizen:"Kenyan Citizen",local_company:"Local Company",state_corporation:"State Corporation",foreign_company:"Foreign Company",minor:"Minor",other:"Other"};return t[e.id_type]},member_type:function(e){var t=this._membership_types.find(function(t){return t.key==e.type});return t?t.name:""},shares_map:function(){return this.shares.reduce(function(e,t){return e[t.name]=0,e},{})},_newOwner:function(){return{date_of_birth:{},name:{},former_name:"",id_type:"citizen",type:"",shares:this.shares_map(),shares_paid_up:this.shares_map(),county:"",country:"",district:"",use_alien_card:"true",validating:!1}},add:function(){this.current_officer=this._newOwner(),this.current_officer_errors={},this.showAddModal=!0},addSecretary:function(){var e=this._newOwner();e.type="secretary",this.current_officer=e,this.showAddModal=!0},addLocalRepresentative:function(){var e=this._newOwner();e.type="local_representative",this.current_officer=e,this.showAddModal=!0},addForeignDirector:function(){var e=this._newOwner();e.type="foreign_director",e.id_type="visitor",this.current_officer=e,this.showAddModal=!0},onAddSuccess:function(e){var t=e.officer;t.shares=t.shares||this.shares_map(),t.shares_paid_up=t.shares_paid_up||this.shares_map(),this.officers.push(t)},edit:function(e){var t=n.extend(!0,{},e);t.shares=n.extend(!0,this.shares_map(),t.shares),t.shares_paid_up=n.extend(!0,this.shares_map(),t.shares_paid_up),this.current_officer=t,this.current_officer_errors=this.with_errors[e.id]||{},this.showEditModal=!0},remove:function(e){this.officers.splice(e,1)},onEditSuccess:function(e){var t=e.officer;t.shares=t.shares||this.shares_map(),t.shares_paid_up=t.shares_paid_up||this.shares_map(),this.officers=this.officers.map(function(e,r){return e.id==t.id?t:e}),this.with_errors[t.id]&&delete this.with_errors[t.id]},closeModal:function(){this.current_officer_errors={},this.showAddModal=this.showEditModal=!1}}}),o=i.component("officer-form",{template:"#officer-form-template",props:["_errors","officer","lookup-url","business-lookup-url","action-url","shares","membership_types","all-counties","all-districts","all-localities","available_shares"],data:function(){return{initial_id_number:this.officer.id_number,initial_id_type:this.officer.id_type,initialShareAllocation:n.extend({},this.officer.shares),errors:this._errors,validating:!1,bSending:!1,membershipTypesByType:function(){return"secretary"==this.officer.type?this.membership_types.filter(function(e){return"secretary"==e.key}):this.membership_types}.call(this),lookedUpValues:{id_number:this.officer.id_number,date_of_birth:{year:this.officer.date_of_birth.year,month:this.officer.date_of_birth.month,day:this.officer.date_of_birth.day},first_name:this.officer.name.first_name,last_name:this.officer.name.last_name,other_names:this.officer.name.other_names}}},computed:{has_errors:function(){return!n.isEmptyObject(this.errors)},companyNameCssClass:function(){return"other"==this.officer.id_type,"col-sm-12"}},methods:{zeroPad:function(e){return e<=99&&(e=("0"+e).slice(-2)),e},get_available_shares:function(e,t){return this.officer.id?this.available_shares[e.name]+this.initialShareAllocation[e.name]-t.shares[e.name]:this.available_shares[e.name]-t.shares[e.name]},get_membership_type_name:function(e){var t=this.membershipTypesByType.filter(function(t){return t.key==e});if(1!=t.length)throw e+" not found or found multiple times in membership types";return t[0].name},valid_membership_types:function(e){var t=this.membershipTypesByType;return e.business_owner_id?t.filter(function(e){return["director_shareholder","shareholder","member","director_member","partner","partner_manager","proprietor"].indexOf(e.key)!==-1}):t},canValidate:function(e){return["citizen","alien","local_company"].indexOf(e.id_type)!=-1},owner_is_company:function(e){return["local_company","foreign_company","other"].indexOf(e.id_type)!=-1},lookup:function(e){this.validating=!0;var t=this,r=this.lookupUrl,i={id_number:e.id_number,citizenship:e.id_type,first_name:e.first_name||e.name.first_name};this.owner_is_company(e)&&(r=this.businessLookupUrl,i={reg_no:e.id_number,reg_date:e.date_of_birth}),n.ajax({method:"GET",url:r,data:i,success:function(r){r.errors?(t.errors=r.errors,e.name={},e.gender=null,e.kra_pin=null,t.lookedUpValues={id_number:"",first_name:"",last_name:"",other_names:"",gender:"",date_of_birth:{year:"",month:"",day:""},kra_pin:"",email:""}):(t.errors={},e.id_number=r.profile.id_number,e.name={first_name:r.profile.first_name,last_name:r.profile.last_name,other_names:r.profile.other_names},e.gender=r.profile.gender,e.date_of_birth=s.toObject(r.profile.date_of_birth),e.kra_pin=r.profile.kra_pin,e.email=r.profile.email,t.owner_is_company(e)&&(e.email=r.profile.main_branch.email),t.lookedUpValues={id_number:r.profile.id_number,first_name:r.profile.first_name,last_name:r.profile.last_name,other_names:r.profile.other_names,gender:r.profile.gender,date_of_birth:s.toObject(r.profile.date_of_birth),kra_pin:r.profile.kra_pin,email:e.email})},error:function(e,r,n){t.errors={global:e.statusText}},complete:function(){t.validating=!1}})},districts:function(e){return this.allDistricts.filter(function(t){return t.parent_id===e})},localities:function(e){return this.allLocalities.filter(function(t){return t.parent_id===e})},needs_residence:function(e){return!this.owner_is_company(e)&&(e.type&&["proprietor","partner","manager","partner_manager","director","director_shareholder","director_member","secretary","local_representative","foreign_director"].indexOf(e.type)!==-1)},can_have_shares:function(e){return["shareholder","director_shareholder"].indexOf(e.type)!==-1},submit:function(){var e=n(this.$el).find("form#owner_form"),t=new FormData(e[0]),r=this;this.bSending=!0,n.ajax({method:"POST",url:this.actionUrl,data:t,processData:!1,contentType:!1,success:function(e){if(e.errors)r.errors=e.errors;else{if(e.officer){var t=e.officer.date_of_birth.year,n=r.zeroPad(e.officer.date_of_birth.month),i=r.zeroPad(e.officer.date_of_birth.day);e.officer.date_of_birth={year:t,month:n,day:i}}r.$emit("success",e),r.$emit("close")}},error:function(e,t,n){r.errors={global:e.statusText}},complete:function(){r.bSending=!1}})},shareHasError:function(e,t){return!!this.getShareError(e,t)},getShareError:function(e,t){return this.errors[this.getShareId(e,t)]},getShareId:function(e,t){return e+"_"+t}}});e.step4=a,e.ownerForm=o}),require.register("web/static/js/business_registration/type_abbreviation.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i);e["default"]=s["default"].component("type-abbreviation",{template:"<span>{{extension}}</span>",props:["type","abbreviate"],data:function(){return{abbreviations:{private_limited:{full:"LIMITED",abbrev:"LTD"},limited_by_guarantee:{full:"LIMITED",abbrev:"LTD"},public_limited:{full:"PUBLIC LIMITED COMPANY",abbrev:"PLC"},limited_liability_partnership:{full:"LIMITED LIABILITY PARTNERSHIP",abbrev:"LLP"}}}},computed:{extension:function(){var e=this.abbreviations[this.type];return e?this.abbreviate?e.abbrev:e.full:""}}})}),require.register("web/static/js/confirm_action.js",function(e,t,r){"use strict";function n(e){for(;e&&e.getAttribute;){var t=i(e);if(t){var r=e.getAttribute("data-confirm"),n=e.getAttribute("href");if(null===r||confirm(r)){var a=s(t);a.prop("action",n),a.trigger("submit")}return!0}e=e.parentNode}return!1}function i(e){var t="A"===e.tagName,r=e.getAttribute("data-submit-form"),n=r&&document.getElementById(r);return!(!t||!n)&&n}var s=t("jquery");s.fn.confirmAction=function(e){return e.target&&n(e.target)&&e.preventDefault(),this}}),require.register("web/static/js/confirmed_action.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmedAction=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("./url_parser.js").UrlParser;e.ConfirmedAction=s["default"].component("confirmed-action",{template:"#confirmed-action-template",props:["confirm-message","action-url","url-params","data","method","classes"],data:function(){return{bInFlight:!1,extraClasses:this.classes||""}},methods:{confirmAction:function(e){var t=this,r=e.currentTarget;a.confirm({title:"",content:this.confirmMessage||"Are you sure you want to do this?",escapeKey:"cancel",buttons:{cancel:{text:"Cancel",btnClass:"btn-primary btn-sm",action:function(){this.close()}},ok:{text:"Continue",btnClass:"btn-success btn-sm",keys:["enter"],action:function(){t.doAction(r)}}}})},doAction:function(e){var t=a(e.parentNode),r=o.parse(this.actionUrl,this.urlParams||{}),n=this.method||t.children(":input[name='_method']").val()||t.prop("method"),i=this;this.bInFlight=!0;var s=t.serializeArray().reduce(function(e,t){return e[t.name]=t.value,e},{});s._method=n,s=a.extend(s,this.data||{}),this.$emit("before-submit"),a.ajax({url:r,data:s,method:n,dataType:"json",success:function(e,t,r){e.errors?i.$emit("on-error",r,t,"Invalid data provided."):i.$emit("on-success",e)},error:function(e,t,r){i.$emit("on-error",e,t,r)},complete:function(){i.bInFlight=!1}}),this.$emit("on-submit")}}})}),require.register("web/static/js/dashboard/obligations.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=t("vue/dist/vue"),a=n(s),o=t("jquery"),u=n(o);e["default"]=a["default"].component("obligations-component",{template:"#obligations-component-template",props:["data","url"],data:function(){return{showModal:!1,errors:!1,bSending:!1,done:!1}},methods:{send:function(){this.bSending=!0,this.done=!1;var e=this;u["default"].ajax({method:"POST",url:this.url,success:function(t){t.errors&&(e.errors=t.errors)},error:function(t,r,n){e.errors=[{key:"Error",message:n}]},complete:function(){e.bSending=!1,e.done=!0}})}},components:{"render-errors":{name:"render-errors",template:"#render-errors-template",props:["errors"],methods:{typeOf:function(e){return"undefined"==typeof e?"undefined":i(e)}},filters:{humanize:function(e){return e.replace(/_/g," ")}}}}})}),require.register("web/static/js/date_picker.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i),a=t("pikaday"),o=n(a),u=t("moment"),c=n(u);r.exports=s["default"].component("date-input",{template:'<input ref="input" type="text">',props:["value"],data:function(){return{picker:null}},mounted:function(){var e=this,t=new o["default"]({field:this.$refs.input,format:"YYYY-MM-DD",defaultDate:(0,c["default"])(this.value||new Date).toDate(),setDefaultDate:!0,onSelect:function(t){e.$emit("input",(0,c["default"])(t).format("YYYY-MM-DD"))}});this.$emit("input",(0,c["default"])(t.getDate()).format("YYYY-MM-DD"))}})}),require.register("web/static/js/dropdown_submit_link.js",function(e,t,r){"use strict";function n(e){var t="A"===e.tagName,r="parent"===e.getAttribute("data-submit");return t&&r}function i(e){for(;e&&e!==document&&e.nodeType===Node.ELEMENT_NODE;){if("FORM"===e.tagName)return e;e=e.parentNode}return null}function s(e){for(;e&&e.getAttribute;){if(n(e)){var t=e.getAttribute("data-confirm");return(null===t||confirm(t))&&i(e).submit(),!0}e=e.parentNode}return!1}var a=t("jquery");a(".dropdown-menu a[data-submit=parent]").on("click",function(e){if(e.target&&s(e.target))return e.preventDefault(),!1})}),require.register("web/static/js/elm_user_search.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("jquery");e.ElmUserSearch={init:function(){var e=n('[data-role="elm-user-search"]');e.each(function(e,t){var r=n(t),i=r.data("search-url"),s=r.data("label-text"),a=r.data("param-name"),o=r.data("action-url"),u=r.data("csrf-token");Elm.UserSearch.embed(t,{searchUrl:i,labelText:s,paramName:a,actionUrl:o,csrfToken:u})})}}}),require.register("web/static/js/file_upload.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);r.exports=s["default"].component("file-upload",{template:'  <div>    <template v-if="isInvalid()">      <input type="hidden" :name="field" value="remove">      <input :name="field" type="file" class="form-control-file form-control input-sm">    </template>    <template v-else>      <input type="hidden" :name="field" :value="JSON.stringify(value)">      <p class="form-control-static">{{ value.file_name }} (<a href="#" @click.prevent="value = \'remove\'">{{ label }}</a>)</p>    </template>  </div>  ',props:["field","_value","removeLabel","val"],data:function(){return{value:this._value||this.val,label:this.removeLabel||"Remove"}},methods:{isInvalid:function(){return!this.value||this.value&&("remove"==this.value||!!this.value.path)}}})}),require.register("web/static/js/form/county_district_locality.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);r.exports=s["default"].component("county-district-locality",{props:["counties","_county_id","districts","_district_id","localities","_locality_id","_address"],data:function(){return{county_id:this._county_id,district_id:this._district_id,locality_id:this._locality_id}},computed:{currentDistricts:function(){var e=this;return this.districts.filter(function(t){return t.parent_id==e.county_id})},currentLocalities:function(){var e=this;return this.localities.filter(function(t){return t.parent_id==e.district_id})}},watch:{county_id:function(e){this.district_id="",this.locality_id=""},district_id:function(e){this.locality_id=""}},methods:{}})}),require.register("web/static/js/form/postal_code_input.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);r.exports=s["default"].component("postal-code",{template:'  <select :name="name">    <option value="00100">00100 GPO</option>    <option value="00510">00510 MAKONGENI</option>  </select>  ',props:["name","value"],data:function(){return{}},methods:{}})}),require.register("web/static/js/inline_edit.js",function(e,t,r){"use strict";function n(e){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s.find(":input").prop({disabled:e})}function r(){s.find(".form-group.has-error").removeClass("has-error"),s.find(".form-group > span.help-block.error").remove()}function n(){s.toggleClass("hidden show")}var s=i(e);s.on("submit",function(e){e.preventDefault();var a=i(this),o=a.serialize(),u=a.attr("action")+"?_format=json";t(!0),i.ajax(u,{data:o,dataType:"json",method:"post",success:function(e){if(r(),e.errors)Object.keys(e.errors).forEach(function(t){var r=a.find(':input[name*="'+t+'"]').closest(".form-group"),n=i("<span>").prop("class","help-block error").html(e.errors[t]);r.append(n).addClass("has-error")});else{var t=s.siblings(".editable-click"),o=t.data("editable-attribute"),u=o.split(".").reduce(function(e,t){return e[t]},e);t.html(u),n(a)}},error:function(){r()},complete:function(){t(!1)}})}),s.on("reset",function(){r(),n()})}var i=t("jquery");i.fn.inlineEdit=function(e){return this.each(function(){new n(this)})}}),require.register("web/static/js/locations-input-selects.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i),a=s["default"].component("county-select",{props:["value","counties","name","prompt"],template:'<select @input="emitInput($event)" v-model="model" :name="name">\n            <option v-if="prompt" value="" >{{prompt}}</option>\n            <option v-for="county in counties" :value="county.kra_id">{{county.name}}</option>\n        </select>',
data:function(){return{model:this.value}},methods:{emitInput:function(e){this.$emit("input",e.target.value)}}}),o=function(e){return s["default"].component(e,{props:["value","parent-id","options","name","prompt"],template:'<select @input="emitInput($event)" v-model="model" :name="name">\n            <option v-if="prompt" value="" >{{prompt}}</option>\n            <option v-for="option in currentOptions" :value="option.kra_id">{{option.name}}</option>\n            </select>',computed:{currentOptions:function(){var e=this;return this.options.filter(function(t){return t.parent_id==e.parentId})},model:function(){return this.value}},methods:{emitInput:function(e){this.$emit("input",e.target.value)}}})};e["default"]=s["default"].component("county-district-locality-inputs",{props:["address"],data:function(){return{county:this.address?this.address.county:"",district:this.address?this.address.district:"",locality:this.address?this.address.locality:""}},watch:{county:function(e){this.district="",this.emitInput()},district:function(e){this.locality="",this.emitInput()},locality:function(e){this.emitInput()}},methods:{emitInput:function(){this.$emit("input",{county:this.county,district:this.district,locality:this.locality})}},components:{"counties-select":a,"district-select":o("district-select"),"localities-select":o("localities-select")}})}),require.register("web/static/js/merchant_user/edit_merchant_user.vue.js",function(e,t,r){"use strict";var n=t("vue/dist/vue");window.jquery;n.component("merchant-user-form",{props:["signature"],data:function(){return{hidePreview:!1,inputSrc:""}},created:function(){"undefined"==typeof window.FileReader&&(this.hidePreview=!0)},computed:{imgSrc:function(){return this.inputSrc.length?this.inputSrc:this.signature}},methods:{doPreview:function(e){if("undefined"!=typeof window.FileReader){var t=new FileReader,r=e.target,n=this;r.files&&r.files[0]?(t.onload=function(e){n.inputSrc=e.target.result},t.readAsDataURL(r.files[0])):this.inputSrc=""}}}})}),require.register("web/static/js/modal/modal.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);s["default"].component("modal",{template:t("./modal.template"),props:["width"],data:function(){return{modalWidth:this.width||"700px"}}})}),require.register("web/static/js/modal/modal.template.js",function(e,t,r){"use strict";r.exports='<transition name="modal">\n        <div class="modal-mask">\n            <div :style="{width: modalWidth}" style="    display: flex; flex-direction: column; align-content: center; justify-content: center;" class="modal-dialog" role="document">\n                <div class="modal-content">\n                    <div class="modal-header">\n                              <button type="button" class="close" aria-label="Close" @click="$emit(\'close\')">\n                              <span aria-hidden="true">&times;</span>\n                              </button>\n    \n                              <h4 class="modal-title">\n                                <slot name="header">\n                                </slot>\n                              </h4>\n                    </div>\n                    <slot name="body"></slot>\n                </div>\n            </div>\n        </div>\n    </transition>'}),require.register("web/static/js/modal/modal2.template.js",function(e,t,r){"use strict";r.exports='<transition name="modal">\n        <div class="modal-mask">\n            <div :style="{width: modalWidth}" class="modal-dialog" role="document">\n                <div class="modal-content">\n                    <slot></slot>\n                </div>\n            </div>\n        </div>\n    </transition>'}),require.register("web/static/js/modal/modal2.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);t("web/static/js/modal/modal_header.vue"),s["default"].component("modal2",{template:t("./modal2.template"),props:["width"],data:function(){return{modalWidth:this.width||"700px"}}})}),require.register("web/static/js/modal/modal_header.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);s["default"].component("modal-header",{template:'\n        <div class="modal-header">\n                <button type="button" class="close" aria-label="Close" @click="$emit(\'close\')">\n                <span aria-hidden="true">&times;</span>\n                </button>\n\n                <h4 class="modal-title">{{ title }}</h4>\n        </div>\n    ',props:["title"]})}),require.register("web/static/js/mpsr/backend.js",function(e,t,r){"use strict";t("jquery"),window.moment=t("moment/moment"),t("daterangepicker/daterangepicker")}),require.register("web/static/js/mpsr/cancel_component.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={name:"cancel-component",props:["base-url","account-id","application-id"],data:function(){return{cancelReason:"",errors:"",success:!1}},methods:{submit:function(){var e=this,t=new FormData(this.$refs.form),r=this.baseUrl.replace("_account_id",this.accountId).replace("_application_id",this.applicationId);$.ajax({url:r,method:"POST",data:t,processData:!1,contentType:!1,success:function(t){t.errors?e.errors=t.errors:(e.errors={},e.success=!0,window.location.reload())},error:function(e){}})}}}}),require.register("web/static/js/mpsr/initial_notice.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.Collateral=e.Actor=e.InitialNotice=e.AmountSecured=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=(t("../url_parser.js").UrlParser,t("../util.js").DateParser);e.AmountSecured=s["default"].component("amount-secured",{props:["_currencies","name","_errors","_payments"],data:function(){return{currency:this._payments.currency||"KES",amount:this._payments.amount||null,errors:this._errors||{}}}}),e.InitialNotice=s["default"].component("initial-notice",{props:["_grantors","_creditors","_collaterals","_grantor_errors","_creditor_errors","_collateral_errors","current-account","_beneficiary_type","_payment_errors","_currency_amounts"],data:function(){return{grantors:this._grantors||[],creditors:this._creditors.map(function(e){return e.date_of_judgment=o.toObject(e.date_of_judgment)||{},e})||[],collaterals:this._collaterals||[],beneficiary_type:this._beneficiary_type,currency_amounts:this._currency_amounts||[]}},methods:{_new_payment:function(){return{currency:"",amount:"0"}},_new_actor:function(){return{type:"",identifier:"",name:""}},_new_collateral:function(){return{type:""}},addGrantor:function(){this.grantors.push(this._new_actor())},addCreditor:function(){var e=this._new_actor();e.category_of_secured_creditor="",e.date_of_judgment={},e.type_of_non_secured_creditor="",this.creditors.push(e)},addCollateral:function(){this.collaterals.push(this._new_collateral())},remove:function(e,t){e.splice(t,1)},isDefaultCreditor:function(e){return e.identifier===this.currentAccount.id_number&&e.type===this.currentAccount.id_type}}}),e.Actor=s["default"].component("actor",{props:["_actor","_errors","individual-id-label","index","id-lookup-url","business-lookup-url","company-id-label","individual-name-label","company-name-label","company-search-url","is-default-creditor"],data:function(){return{bInFlight:!1,actor:this._actor,identifier:"",first_name:"",reg_date:{year:"",month:"",day:""},errors:this._errors||{},companySearchModal:!1,searchResults:[],lookup_name:"",amounts_in_judgement:this._actor.amounts_in_judgement||[]}},computed:{iDlabelByType:function(){var e={local_unincorporated:"Registration Number",foreign_company:"Registration Number",foreign_unincorporated:"Registration Number",foreigner:"Passport Number",citizen:this.individualIdLabel,alien:this.individualIdLabel,local_company:this.companyIdLabel};return e[this.actor.type]||"Identifier"},nameLabelByType:function(){return["citizen","alien","foreigner"].indexOf(this.actor.type)!==-1?"Name":"Registered Name"},isOfForeignOrigin:function(){return["citizen","local_company","local_unincorporated"].indexOf(this.actor.type)===-1},countryLabelByType:function(){return["alien","foreigner"].indexOf(this.actor.type)!==-1?"Nationality":"Country Of Incorporation"},isValidatable:function(){return["citizen","alien","local_company"].indexOf(this.actor.type)!==-1},isNaturalPerson:function(){return["citizen","alien","foreigner"].indexOf(this.actor.type)!==-1}},methods:{remove:function(e,t){e.splice(t,1)},businessTypeLabel:function(e){return e.replace(/_/g," ")},actor_type:function(e){return{citizen:"Kenyan Citizen",alien:"Foreign Resident",foreigner:"Foreigner",local_company:"Kenyan Corporation",local_unincorporated:"Kenyan Unincorporated Body",foreign_unincorporated:"Foreign Unincorporated Body"}[e]},setCompanyDetails:function(e){var t=this.searchResults[e],r=t.registration_date.split("-");this.actor.name=t.name,this.actor.identifier=t.registration_number,this.reg_date={year:r[0],month:Number(r[1]),day:Number(r[2])},this.actor.kra_pin=t.pin,this.companySearchModal=!1},companySearch:function(){var e=this;a.get({url:this.companySearchUrl,data:{name:this.lookup_name}}).done(function(t){e.searchResults=t}).fail(function(e){console.log(e)})},input_name:function(e,t){return this.index?e+"["+this+"]["+t+"]":e+"["+t+"]"},lookup:function(){var e=this,t={},r="";"local_company"===this.actor.type?(t={reg_date:this.reg_date,reg_no:this.actor.identifier,with_pin:!1},r=this.businessLookupUrl):"citizen"!==this.actor.type&&"alien"!==this.actor.type||(t={id_number:this.actor.identifier,first_name:this.first_name,citizenship:this.actor.type,with_pin:!1},r=this.idLookupUrl),r&&(this.bInFlight=!0,a.ajax(r,{data:t,success:function(t){t.profile?e.actor.name=t.profile.first_name+" "+t.profile.last_name+" "+t.profile.other_names:t.errors&&(e.errors=t.errors)},error:function(e,t,r){console.log(r)},complete:function(){e.bInFlight=!1}}))}}}),e.Collateral=s["default"].component("collateral",{props:["_errors","_collateral","index"],data:function(){return{collateral:this._collateral,errors:this._errors||{}}},computed:{typeIsOther:function(){return"others"===this.collateral.type},serialLabel:function(){var e={motor_vehicle:"Vehicle Chassis Number"};return e[this.collateral.type]||"Serial Number of Collateral (If Any)"}}})}),require.register("web/static/js/mpsr/search_request.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.SearchRequest=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("../url_parser.js").UrlParser,e.SearchRequest=s["default"].component("collateral-search-request",{props:["_search_criteria","_identifier","_type","_serial_number","individual-label","non-individual-label","search-url"],data:function(){return{search_criteria:this._search_criteria,identifier:this._identifier,type:this._type,serial_number:this._serial_number,searchName:"",showModal:!1,searching:!1,results:[]}},methods:{isIndividualType:function(e){return["citizen","alien","foreigner"].indexOf(e)!=-1},typeLabel:function(e){return this.isIndividualType(e)?this.individualLabel:this.nonIndividualLabel},companyType:function(e){return e.replace(/_/g," ").toUpperCase()},search:function(){this.showModal=!0,this.doSearch()},doSearch:function(){this.searching=!0,this.results=[];var e=this;a.ajax({method:"get",url:this.searchUrl,data:{name:this.searchName},success:function(t){e.results=t},error:function(e){console.log(e)},complete:function(){e.searching=!1}})},select:function(e){this.identifier=e.registration_number,this.searchName=e.name,this.showModal=!1}}})}),require.register("web/static/js/notifications/index.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i),a=t("jquery");e["default"]=s["default"].component("notification-index",{props:["toggle-url","all-notifications"],data:function(){return{info:"",alert:"",selected_item:null,path:null,notifications:this.allNotifications}},methods:{toggle:function(e){var t=this;confirm("Toggle Enabled Status ?")&&a.post(this.toggleUrl.replace("_id",e.id)).then(function(t){e.enabled=!e.enabled}).fail(function(e){t.alert=e.statusText})},onUpdate:function(e){var t=null;t=1===this.path.length?this.notifications.general[this.path[0]]:this.notifications.tasks[this.path[0]].tasks[this.path[1]].actions[this.path[2]],t=Object.assign(t,e),this.selected_item=null,this.info="Updated successfully"}},components:{EditForm:{props:["item","url"],data:function(){return{helpText:this.item.variables,info:"",alert:"",errors:{},currentItem:Object.assign({},this.item)}},methods:{updateData:function(){var e=this;a.post(this.url,this.currentItem).then(function(t){"error"===t.status?e.errors=t.errors:(e.errors={},e.info=t.info,e.$emit("success",t.notification))}).fail(function(t){e.errors={},e.alert=t.statusText})}}}}})}),require.register("web/static/js/prompt.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=function(){function e(e,t){var r=[],n=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,s=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=t("vue/dist/vue"),a=n(s);t("web/static/js/modal/modal");var o='\n    <div style="display: inline-block">\n        <a :style="actionStyle" v-if="showAction" @click.prevent="showModal()" href="#" :class="actionClass">\n            <i :class="actionIcon"></i>\n            {{actionText}}\n        </a>\n        <modal v-if="show" @close="close()">\n            <h4 slot="header">\n                {{title}}\n            </h4>\n            <div slot="body">\n                <form ref="form" :action="url" :method="requestMethod">\n                    <input type="hidden" name="_method" :value="method">\n                    <input type="hidden" name="_csrf_token" :value="csrf_token">\n                    <div style="padding: 10px">\n                        <slot>{{message}}</slot>\n                    </div>\n                </form>\n                <div class="text-right" style="padding: 10px">\n                <button @click.prevent="doCancel()" class="btn" :class="cancelBtnClass">\n                    {{cancelText}}\n                </button>\n                <button @click.prevent="doAction()" class="btn" :class="okBtnClass">\n                    <span v-if="sending" class="fa fa-spinner fa-spin"></span>\n                    {{okText}}\n                </button>\n            </div>\n            </div>\n        \n        </modal>\n    </div>\n';a["default"].component("prompt",{template:o,props:{showAction:{"default":!0},url:{"default":!1},title:{"default":"Confirm"},beforeSubmit:{"default":function(){return function(){return Promise.resolve(!0)}}},message:{"default":"Are you sure you want to do this?"},ajax:{"default":!0},method:{"default":"GET"},actionClass:{"default":""},actionStyle:{"default":function(){return{}}},actionText:{"default":"Confirm"},actionIcon:{"default":""},payload:{"default":function(){return{}}},cancelText:{"default":"Cancel"},okText:{"default":"Continue"},okBtnClass:{"default":"btn-warning"},cancelBtnClass:{"default":"btn-success"}},data:function(){return{show:!this.showAction,sending:!1,csrf_token:window.CSRF_TOKEN}},computed:{requestMethod:function(){var e=(this.method||"GET").toLowerCase();return"get"!==e&&"post"!==e&&(e="post"),e}},methods:{showModal:function(){$(this.$el).parents(".dropdown-menu").css({display:"block"}),this.show=!0},close:function(){this.showAction?this.doCancel():this.$emit("close")},doCancel:function(){$(this.$el).parents(".dropdown-menu").css({display:""}),this.$emit("cancelled"),this.show=!1},doAction:function(){var e=this;return this.url?void this.beforeSubmit().then(function(t){return!!t&&void(e.ajax?e.performAjax():e.performRequest())}):(this.$emit("confirmed"),this.show=!1,!0)},performAjax:function(){var e=this;this.sending=!0;var t=new FormData(this.$refs.form);Object.entries(this.payload).forEach(function(e){var r=i(e,2),n=r[0],s=r[1];t.append(n,s)});var r={},n=!0,s=!1,a=void 0;try{for(var o,u=t.entries()[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=i(o.value,2),l=c[0],d=c[1];r[l]=d}}catch(f){s=!0,a=f}finally{try{!n&&u["return"]&&u["return"]()}finally{if(s)throw a}}$.ajax({method:this.method,url:this.url,data:r,success:function(t){e.$emit("success",t),e.showAction&&e.doCancel()},error:function(t){e.$emit("failed",t)},complete:function(){e.sending=!1}})},performRequest:function(){"get"===this.requestMethod?window.location.href=this.url:this.$refs.form.submit()}}})}),require.register("web/static/js/roles/create.js",function(e,t,r){"use strict";r.exports={template:"#create-role-modal-template",props:["endpoint","resource_permissions","role"],data:function(){return{bInFlight:!1,errors:{},alert:null}},computed:{role_permissions:function(){var e=this;return this.resource_permissions.reduce(function(t,r){return r.perms.forEach(function(r){t[r.key]=e.role.permissions.indexOf(r.key)!=-1}),t},{})}},methods:{onSubmit:function(){var e=this,t=$(this.$el).find("form#create-role-form").serialize();e.bInFlight=!0,$.ajax({method:"POST",url:this.endpoint,data:t,success:function(t){t.errors?e.errors=t.errors:e.$emit("on-success",t.role)},error:function(t,r,n){e.alert=n},complete:function(){e.bInFlight=!1}})}}}}),require.register("web/static/js/roles/roles.manager.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i),a=t("jquery");r.exports=s["default"].component("merchant-roles-manager",{props:["roles","resource_permissions","roles_path"],data:function(){return{showCreateRoleDialog:!1,showEditRoleDialog:!1,currentEdit:{},editPath:""}},computed:{all_roles:function(){return this.roles}},components:{"create-role-dialog":t("./create")},methods:{editRole:function(e){this.currentEdit=a.extend(!0,{},e),this.editPath=this.roles_path+"/"+e.id,this.showEditRoleDialog=!0},handleEditSuccess:function(e){var t=this.roles.findIndex(function(t){return t.id==e.id});this.roles.splice(t,1,e),this.showEditRoleDialog=!1},handleCreateSuccess:function(e){this.roles.push(e),this.showCreateRoleDialog=!1},confirmDelete:function(e){var t=this;a.confirm({title:"Delete Role",content:"Are you sure you want to delete this role?",escapeKey:"cancel",buttons:{cancel:{text:"Cancel",btnClass:"btn-primary btn-sm",action:function(){this.close()}},ok:{text:"Delete",btnClass:"btn-danger btn-sm",keys:["enter"],action:function(){t.doDelete(e)}}}})},doDelete:function(e){var t=this.roles.findIndex(function(t){return t.id==e.id});this.roles.splice(t,1),a.ajax({url:this.roles_path+"/"+e.id,method:"DELETE"})}}})}),require.register("web/static/js/select-box.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=n(a),u='\n<select ref="select" class="form-control input-sm" :name="name" v-bind:value="value">\n  <option v-for="option in options" :value="option[valueKey]">{{ option[labelKey] }}</option>\n</select> \n';e["default"]=s["default"].component("select-box",{template:u,props:["name","value","options","opt-label","opt-value","prompt"],data:function(){return{valueKey:this.optValue||"value",labelKey:this.optLabel||"key"}},methods:{setValue:function(e){var t=e.target.value;this.$refs.select.value=t,this.$emit("input",t)}},mounted:function(){var e=this;(0,o["default"])(this.$el).select2({placeholder:this.prompt}).siblings("span.select2.select2-container").css("width","100%"),(0,o["default"])(this.$el).select2().on("select2:select",function(t){e.setValue(t)})}})}),require.register("web/static/js/services/edit.js",function(e,t,r){"use strict";var n=t("tinymce");t("tinymce/themes/modern/theme"),t("tinymce/plugins/code/plugin"),t("tinymce/plugins/preview/plugin"),n.init({selector:"[data-role='rich-text']",theme:"modern",plugins:"code preview",skin_url:"/css/skins/lightgray",browser_spellcheck:!0,a_plugin_option:!0,a_configuration_option:400,allow_script_urls:!0})}),require.register("web/static/js/slugger.js",function(e,t,r){"use strict";function n(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}var i=t("jquery");i.fn.slugger=function(e){var t=this.closest("form").find(':input[name="'+this.data("slug-source")+'"]'),r=this;if(!t)throw"Slug element must have a data-slug-source attribute with the name of the form input to sluggify.";return t.on("input",function(e){r.val(n(this.value))}),this}}),require.register("web/static/js/socket.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("phoenix"),i=new n.Socket("/socket",{params:{token:window.userToken}});i.connect();var s=i.channel("topic:subtopic",{});s.join().receive("ok",function(e){console.log("Joined successfully",e)}).receive("error",function(e){console.log("Unable to join",e)}),e["default"]=i}),require.register("web/static/js/toggle_visible.js",function(e,t,r){"use strict";var n=t("jquery");n.fn.toggleVisible=function(e){return this.on("click",function(e){e.preventDefault();var t=n(this).data("toggle-visible");n(t).toggleClass("hidden show")}),this}}),require.register("web/static/js/url_parser.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.UrlParser={parse:function(e,t){var r=Object.keys(t);return r.reduce(function(e,r){var n="%3A"+r;return e.replace(new RegExp(n,"g"),t[r])},e)}}}),require.register("web/static/js/user_search.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("jquery");e.UserSearch={run:function(e){var t=e.endpoint,r=n('input[data-role="user-search"]'),i=new Bloodhound({queryTokenizer:Bloodhound.tokenizers.whitespace,datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},identify:function(e){return e.id},remote:{url:t,prepare:function(e,t){return Object.assign(t,{data:{q:e}})}}}),s=n('input[data-role="user-search"]').closest("form").find(':input[id="'+r.data("target")+'"]'),a=r.typeahead({},{name:"user-search",source:i,display:"name"});a.on("typeahead:select",function(e,t){s.val(t.id)})}}}),require.register("web/static/js/user_search.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmedAction=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("./url_parser.js").UrlParser,e.ConfirmedAction=s["default"].component("user-search",{template:'\n    <form @submit.prevent="search">\n        <div v-if="error" class="alert alert-danger">{{ error }}</div>\n        <div class="form-group">\n            <div class="input-group">\n                <input v-model="term" type="text" class="form-control" id="account_search_term" :placeholder="this.searchPrompt || \'ID Number e.g. 22000000\'">\n                <span class="input-group-btn">\n                    <button :disabled="!term" @click="search" class="btn btn-default" type="button">Search!</button>\n                </span>\n            </div><!-- /input-group -->\n            <div v-if="!!users" class="table-responsive">\n                <table v-if="users.length > 0" class="table">\n                <caption>Select the user to continue.</caption>\n                <thead>\n                    <tr>\n                    <th>Name</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for="a in users">\n                    <td>\n                        <label>\n                            <input type="radio" :value="a.id" v-model="selectedId"> {{ a.fullname }}\n                        </label>\n                    </td>\n                    </tr>\n                </tbody>\n                </table>\n            </div>\n        </div>\n    </form>\n    ',props:["account-id","search-url","search-prompt"],data:function(){return{bLoading:!1,term:null,selectedId:null,users:null,error:null}},watch:{selectedId:function(e){var t=this.users.filter(function(t){return t.id==e})[0];this.$emit("user-selected",t)}},methods:{search:function(){var e=this;this.bLoading=!0,a.ajax({method:"GET",url:this.searchUrl,data:{search:{q:e.term}},success:function(t){t.users&&t.users.length>0?(e.error=null,e.users=t.users):t.errors?e.error=t.error:e.error="Couldn't find individuals matching your search criteria."},error:function(t,r,n){e.error=t.statusText+": please try again."},complete:function(){e.bLoading=!1}}),this.$emit("search-started")}}})}),require.register("web/static/js/util.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DateParser={toObject:function(e){var t=Date.parse(e)||null,r=new Date(t);return{year:r.getFullYear(),month:("0"+(r.getMonth()+1)).slice(-2),day:("0"+r.getDate()).slice(-2)}}},e.NumberFormatter={format_number:function(e){return e.toLocaleString()}},e.shareCategoryNameOrOther=function(e){var t=e.name,r=e.other_name;return"_other"==t?r:t}}),require.register("web/static/js/verify_me.js",function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t)}function i(e){this.$modal=s(e);var t=this.$modal.find("form[id=send]");this.$modal.on("shown.bs.modal",function(e){var r=s(e.relatedTarget),i=r.data("target-input"),a=t.find(":input[id="+i+"]");n(a.length,"Modal trigger element must have a data attribute data-target-input whose value matches and id of an input element within the form."),a.val(r.data("value")),t.attr("action",r.data("url"))}),t.on("submit",function(e){e.preventDefault();var t=s(this),r=t.serialize(),n=t.attr("action")+"?_format=json";s.ajax(n,{data:r,dataType:"json",method:"post",success:function(e){e.errors&&console.log(e.errors)},error:function(){console.log(arguments)}})})}var s=t("jquery");s.fn.verifyMe=function(e){return this.each(function(){new i(this)})}}),require.register("web/static/js/vue_country_selector.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=n(a);s["default"].component("country-selector",{template:'<select v-model="country" @change="$emit(\'changed\', country)" class="form-control input-sm" :name="name"></select>',props:["name"],data:function(){return{country:""}},mounted:function(){(0,o["default"])(this.$el).countrySelector()}})}),require.register("web/static/js/xeditable.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("jquery");e.XEditable={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.fn.editable.defaults.mode="inline",n.fn.editable.defaults.ajaxOptions={type:"PUT"},e.editable(n.extend(t,{params:function(e){var t=n(this).data("csrf-token"),r={_format:"json",_csrf_token:t};return r[e.name]=e.value,r},success:function(e,t){if(e.errors){var r=Object.keys(e.errors)[0];return e.errors[r]}}}))}}}),require.register("lib/js/web/bs/change_of_officials.js",function(e,t,r){"use strict";var n=t("vue/dist/vue"),i=n.component("change-of-officials",{data:function(e){return e},methods:{resignation:function(e){return e}}});e.comp=i}),require.alias("jquery/dist/jquery.js","jquery"),require.alias("phoenix/priv/static/phoenix.js","phoenix"),require.alias("phoenix_html/priv/static/phoenix_html.js","phoenix_html"),require.alias("moment/moment.js","moment"),require.alias("vee-validate/dist/vee-validate.js","vee-validate"),require.alias("vue/dist/vue.runtime.common.js","vue"),require.alias("pikaday/pikaday.js","pikaday"),require.alias("daterangepicker/daterangepicker.js","daterangepicker"),require.alias("process/browser.js","process"),require.alias("tinymce/tinymce.js","tinymce"),e=require("process"),require.register("___globals___",function(e,t,r){window.$=t("jquery"),window.jQuery=t("jquery")})}(),require("___globals___"),require("web/static/js/app");        20200117190643z     e   t   r   n   i   s   a   o   u   c   l   f   h   p   m   _   require   ___globals___#   web/static/js/app   d   ^\.\.?(\/|$)   f.alias   \.[^.\/]+$'   \/index(\.[^\/]+)?$   f.define   f.list   undefined   window   global   function   hasOwnProperty   alias   define   register	   list	   _hmr   _cache	   wrap   hmr   brunchG   web/static/js/account_search.vue.js)   web/static/js/app.js9   web/static/js/audit/audit.jsM   web/static/js/backend_user_list.vue.jsW   web/static/js/business/annual_return.vue.jsK   web/static/js/business/audit_trail.jsa   web/static/js/business/backend-debentures.vue.jse   web/static/js/business/business_attachments.vue.js]   web/static/js/business/business_audit_trail.jse   web/static/js/business/business_branch_form.vue.jsW   web/static/js/business/business_branches.js]   web/static/js/business/business_details.vue.jsc   web/static/js/business/business_owner_form.vue.jsS   web/static/js/business/business_owners.jsc   web/static/js/business/change_of_officials.vue.jsg   web/static/js/business/change_of_particulars.vue.jsS   web/static/js/business/debentures-form.jsg   web/static/js/business/directors_information.vue.jsg   web/static/js/business/edit_business_details.vue.jsK   web/static/js/business/manager.vue.jsK   web/static/js/business/publish.vue.jsU   web/static/js/business/share_categories.jsc   web/static/js/business/share_category_form.vue.jsS   web/static/js/business/show_change.vue.js]   web/static/js/business/strikeoff_dialog.vue.jsU   web/static/js/business/user_profile.vue.jse   web/static/js/business_changes/add_business.vue.jso   web/static/js/business_changes/change_of_address.vue.jsi   web/static/js/business_changes/change_of_name.vue.jsi   web/static/js/business_changes/change_of_type.vue.js]   web/static/js/business_changes/officers.vue.jsm   web/static/js/business_registration/name_search.vue.jsa   web/static/js/business_registration/step1.vue.jsa   web/static/js/business_registration/step2.vue.jsa   web/static/js/business_registration/step3.vue.jsa   web/static/js/business_registration/step4.vue.jsy   web/static/js/business_registration/type_abbreviation.vue.js?   web/static/js/confirm_action.jsK   web/static/js/confirmed_action.vue.jsU   web/static/js/dashboard/obligations.vue.jsA   web/static/js/date_picker.vue.jsK   web/static/js/dropdown_submit_link.jsA   web/static/js/elm_user_search.jsA   web/static/js/file_upload.vue.jse   web/static/js/form/county_district_locality.vue.jsW   web/static/js/form/postal_code_input.vue.js9   web/static/js/inline_edit.jsY   web/static/js/locations-input-selects.vue.jsk   web/static/js/merchant_user/edit_merchant_user.vue.js9   web/static/js/modal/modal.jsK   web/static/js/modal/modal.template.jsM   web/static/js/modal/modal2.template.jsC   web/static/js/modal/modal2.vue.jsO   web/static/js/modal/modal_header.vue.js;   web/static/js/mpsr/backend.jsM   web/static/js/mpsr/cancel_component.jsQ   web/static/js/mpsr/initial_notice.vue.jsQ   web/static/js/mpsr/search_request.vue.jsQ   web/static/js/notifications/index.vue.js7   web/static/js/prompt.vue.js;   web/static/js/roles/create.jsI   web/static/js/roles/roles.manager.js?   web/static/js/select-box.vue.js=   web/static/js/services/edit.js1   web/static/js/slugger.js/   web/static/js/socket.js?   web/static/js/toggle_visible.js7   web/static/js/url_parser.js9   web/static/js/user_search.jsA   web/static/js/user_search.vue.js+   web/static/js/util.js5   web/static/js/verify_me.jsK   web/static/js/vue_country_selector.js5   web/static/js/xeditable.jsI   lib/js/web/bs/change_of_officials.js+   jquery/dist/jquery.js   jquery=   phoenix/priv/static/phoenix.js   phoenixQ   phoenix_html/priv/static/phoenix_html.js   phoenix_html!   moment/moment.js   momentC   vee-validate/dist/vee-validate.js   vee-validate=   vue/dist/vue.runtime.common.js   vue%   pikaday/pikaday.js   pikadayE   daterangepicker/daterangepicker.js   daterangepicker%   process/browser.js   process%   tinymce/tinymce.js   tinymce   $   jQuery   i<   fieldsBagName   classes   events   errorBagName	   data   methods)   showValidationErrors'   dismissAnnouncement   el   ./slugger!   ./toggle_visible   ./inline_edit   ./xeditable   ./verify_me.js=   ./business/share_categories.js'   ./confirm_action.js3   ./dropdown_submit_link.js   vue/dist/vue   default   use   formFields      vErrors   mixin   component#   site-announcement'   #site-announcements   ajaxPrefilter/   input[data-role="slug"]   slugger+   [data-toggle-visible]   toggleVisible!   form.inline-edit   inlineEdit/   [data-toggle="tooltip"]   tooltip!   ./select-box.vue;   ./locations-input-selects.vue-   ./confirmed_action.vue   document   ready)   a[data-toggle="tab"]   on   shown.bs.tab'   a[data-submit-form]   click	   i</<   i.fn.slugger   fn%   n.fn.toggleVisible   i.fn.inlineEdit   value	   init   Object   defineProperty   __esModule   XEditable   s.fn.verifyMe   verifyMe   template   props   computed   shareCapital%   shareCategoryAdded   showEditDialog)   shareCategoryUpdated+   reloadShareCategories   onDeleteSuccess   onDeleteError   nameOrOtherName	   noop   onSubmit   ShareCategories+   ShareCategoryApproval   ../url_parser   ../util.js1   shareCategoryNameOrOther!   share-categories5   #share-categories-template   event-bus   endpoint/   share-category-approvalC   #share-category-approval-template   approval   parse   UrlParser   toObject   format_number5   e.shareCategoryNameOrOther   DateParser   NumberFormatter%   s.fn.confirmAction   confirmActionI   .dropdown-menu a[data-submit=parent]   arguments   .this-   showValidationErrors/<   length   items   entries   forEach   $refs	   root   style	   none   display	   ajax   /announcements/   /dismiss   i.fn.slugger/<   closest	   form	   find   :input[name="   slug-source   "]   Slug element must have a data-slug-source attribute with the name of the form input to sluggify.   input)   n.fn.toggleVisible/<#   i.fn.inlineEdit/<	   each   mounted	   name   options   opt-label   opt-value   prompt   setValue  
<select ref="select" class="form-control input-sm" :name="name" v-bind:value="value">
  <option v-for="option in options" :value="option[valueKey]">{{ option[labelKey] }}</option>
</select> 
   select-box   emitInput   watch   components   county   district   locality   counties-select   district-select#   localities-select   county-select   counties  <select @input="emitInput($event)" v-model="model" :name="name">
            <option v-if="prompt" value="" >{{prompt}}</option>
            <option v-for="county in counties" :value="county.kra_id">{{county.name}}</option>
        </select>?   county-district-locality-inputs   address   parent-id   currentOptions   model  <select @input="emitInput($event)" v-model="model" :name="name">
            <option v-if="prompt" value="" >{{prompt}}</option>
            <option v-for="option in currentOptions" :value="option.kra_id">{{option.name}}</option>
            </select>   confirm-message   action-url   url-params   method   doAction   ConfirmedAction   ./url_parser.js!   confirmed-action5   #confirmed-action-template   _documents!   registrationType   _objects_select%   _objects_regulatedI   _kra_business_activity_sector_selectM   _kra_business_activity_division_selectG   _kra_business_activity_group_selectG   _kra_business_activity_class_select   _other_objects#   _bs_nature_select   _start_date   _bs_nature   _memorandum+   _acc_period_end_month!   _no_of_employees5   _estimated_annual_turnover%   _attached_articles   _is_subsidiary   _is_amalgamated   _bond   _company_pin%   _amalgamation_date   _tax_payer_name!   _tax_payer_email/   _is_subsidiary_resident'   _subsidiary_kra_pin!   _subsidiary_name'   _subsidiary_country+   _vetting_phone_number%   primary_activities)   secondary_activities   clearActivities   checkUnsetOther-   checkUnsetOtherObjects   isCompany   check_type'   division_activities!   group_activities!   class_activitiesA   business-registration-memorandum   _addresses!   _primary_address   errors   all-districts   all-localities   all-counties   districts   localities   add   remove   index;   web/static/js/file_upload.vue?   business-registration-addresses)   businessRegAddresses   office-address   officeAddress   isInvalid   file-uploadu    <div>    <template v-if="isInvalid()">      <input type="hidden" :name="field" value="remove">      <input :name="field" type="file" class="form-control-file form-control input-sm">    </template>    <template v-else>      <input type="hidden" :name="field" :value="JSON.stringify(value)">      <p class="form-control-static">{{ value.file_name }} (<a href="#" @click.prevent="value = 'remove'">{{ label }}</a>)</p>    </template>  </div>     field   _value   removeLabel   val   exports   addresses	   push   splice   primary_address   districts/<   allDistricts   filter   localities/<   allLocalities   parent_id+   select[data-select-2]   location	   hash   lastIndexOf   -e   substr%   .nav-tabs a[href="   tab	   show                                   !function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},r={},n={},i={}.hasOwnProperty,s=/^\.\.?(\/|$)/,a=function(e,t){for(var r,n=[],i=(s.test(t)?e+"/"+t:t).split("/"),a=0,o=i.length;a<o;a++)r=i[a],".."===r?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(r){var n=a(o(t),r);return e.require(n,t)}},c=function(e,t){var n=null;n=_&&_.createHot(e);var i={id:e,exports:{},hot:n};return r[e]=i,t(i.exports,u(e),i),i.exports},l=function(e){return n[e]?l(n[e]):e},d=function(e,t){return l(a(o(e),t))},f=function(e,n){null==n&&(n="/");var s=l(e);if(i.call(r,s))return r[s].exports;if(i.call(t,s))return c(s,t[s]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};f.alias=function(e,t){n[t]=e};var h=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/,m=function(e){if(h.test(e)){var t=e.replace(h,"");i.call(n,t)&&n[t].replace(h,"")!==t+"/index"||(n[t]=e)}if(p.test(e)){var r=e.replace(p,"");i.call(n,r)||(n[r]=e)}};f.register=f.define=function(e,n){if("object"==typeof e)for(var s in e)i.call(e,s)&&f.register(s,e[s]);else t[e]=n,delete r[e],m(e)},f.list=function(){var e=[];for(var r in t)i.call(t,r)&&e.push(r);return e};var _=e._hmr&&new e._hmr(d,f,t,r);f._cache=r,f.hmr=_&&_.wrap,f.brunch=!0,e.require=f}}(),function(){var e;window;require.register("web/static/js/account_search.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmedAction=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("./url_parser.js").UrlParser,e.ConfirmedAction=s["default"].component("account-search",{template:'\n    <div>\n        <div class="modal-body">\n            <div v-if="error" class="alert alert-danger">{{ error }}</div>\n            <div class="form-group">\n                <label>{{ accountTypeLabel }}</label>\n                <label class="radio-inline">\n                    <input v-model="accountType" name="account_type" type="radio" id="type_user" value="user"> {{ individualLabel }}\n                </label>\n                <label class="radio-inline">\n                    <input v-model="accountType" name="account_type" type="radio" id="type_business" value="business"> {{ businessLabel }}\n                </label>\n            </div>\n            <div class="form-group">\n                <div class="input-group">\n                    <input v-model="term" type="text" class="form-control" id="account_search_term" :placeholder="this.searchPrompt">\n                    <span class="input-group-btn">\n                        <button :disabled="!term" @click="search" class="btn btn-default" type="button">Search!</button>\n                    </span>\n                </div><!-- /input-group -->\n            </div>\n            <div v-if="!!accounts" class="table-responsive">\n                <table v-if="accounts.length > 0" class="table">\n                <caption>Select the user to transfer the application to.</caption>\n                <thead>\n                    <tr>\n                    <th>Name</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for="a in accounts">\n                    <td>\n                        <label>\n                            <input type="radio" :value="a.id" v-model="selectedId">\n                            {{ a.name }}\n                        </label>\n                    </td>\n                    </tr>\n                </tbody>\n                </table>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <a @click="$emit(\'close\')" class="btn btn-default">Cancel</a>\n            <button :disabled="!selectedId" class="btn btn-success" type="submit">Continue</button>\n        </div>\n    </div>\n    ',props:["account-id","search-url","individual-search-prompt","business-search-prompt","account-type-label","individual-label","business-label"],data:function(){return{bLoading:!1,term:null,accountType:"user",selectedId:null,accounts:null,error:null}},watch:{selectedId:function(e){this.$emit("account-selected",e)}},computed:{searchPrompt:function(){return"user"===this.accountType?this.individualSearchPrompt:this.businessSearchPrompt}},methods:{search:function(){var e=this;e.error=null,e.bLoading=!0,e.accounts=null,e.selectedId=null,a.ajax({method:"GET",url:this.searchUrl,data:{search:{q:e.term,account_type:e.accountType}},success:function(t){t.accounts&&t.accounts.length>0?(e.error=null,e.accounts=t.accounts):t.errors?e.error=t.error:e.error="Couldn't find an account matching your search criteria."},error:function(t,r,n){e.error=t.statusText+": please try again."},complete:function(){e.bLoading=!1}})}}})}),require.register("web/static/js/app.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=function(){function e(e,t){var r=[],n=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,s=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t("phoenix_html"),t("./slugger"),t("./toggle_visible"),t("./inline_edit"),t("./xeditable"),t("./verify_me.js"),t("./business/share_categories.js"),t("./confirm_action.js"),t("./dropdown_submit_link.js");var s=t("vue/dist/vue"),a=n(s),o=t("vee-validate"),u=n(o),c=t("jquery");window.moment=t("moment"),a["default"].use(u["default"],{fieldsBagName:"formFields",classes:!0,events:"",errorBagName:"vErrors"}),a["default"].mixin({data:function(){return{window:window}},methods:{showValidationErrors:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.vErrors.items=[],Object.entries(e).forEach(function(e){var n=i(e,2),s=n[0],a=n[1];t.vErrors.add({field:s,msg:a,scope:r})})}}}),a["default"].component("site-announcement",{methods:{dismissAnnouncement:function(e){this.$refs.root.style.display="none",c.ajax("/announcements/"+e+"/dismiss")}}}),new a["default"]({el:"#site-announcements"}),c.ajaxPrefilter(function(e){e.headers?e.headers["X-CSRF-TOKEN"]=window.CSRF_TOKEN:e.headers={"X-CSRF-TOKEN":window.CSRF_TOKEN}}),c('input[data-role="slug"]').slugger(),c("[data-toggle-visible]").toggleVisible(),c("form.inline-edit").inlineEdit(),c('[data-toggle="tooltip"]').tooltip(),t("./select-box.vue"),t("./locations-input-selects.vue"),t("./confirmed_action.vue"),c(function(){c("select[data-select-2]").each(function(){var e=1/0;c(this).data("select-2-search")&&(e=0),c(this).select2({minimumResultsForSearch:e})})}),c(document).ready(function(){var e=window.location.hash,t=e.lastIndexOf("-e");e=e.substr(0,t),e&&c('.nav-tabs a[href="'+e+'"]').tab("show")}),c('a[data-toggle="tab"]').on("shown.bs.tab",function(e){window.location.hash=e.target.hash+"-e"}),c("a[data-submit-form]").on("click",function(e){c(this).confirmAction(e)})}),require.register("web/static/js/audit/audit.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("../modal/modal"),r.exports=s["default"].component("audit-trail",{template:"#audit-trail-template",props:["audits","totalPages","currentPage"],data:function(){return{showAuditDetails:!1,pagination:{}}},mounted:function(){this.buildPagination()},methods:{get_operation:function(e){return(e.subject.split(".").pop().replace(/^([A-Z][a-z]*)([A-Z][a-z]*)$/,"$1 $2")+" "+e.operation+"d").toLowerCase()},showDetails:function(e){this.showAuditDetails=!0,a(this.$el).find("#audit-details-container").jJsonViewer(e.data.params,{expanded:!0})},get_creator:function(e){var t=e.creator;return t.user_profile.first_name+" "+t.user_profile.last_name},get_date:function(e){return new Date(e.inserted_at).toLocaleTimeString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},get_link:function(e){return"?page="+e},buildPagination:function(){var e={current:this.currentPage,skip_first:!1,skip_last:!1,total:this.totalPages,is_first:!1,is_last:!1,range:[]};if(this.totalPages>5){var t=1,r=this.totalPages;t=this.currentPage<=2?1:this.currentPage-2,r=this.currentPage+2>=this.totalPages?this.totalPages:this.currentPage+2;for(var n=t;n<=r;n++)e.range.push(n)}else for(var i=1;i<=this.totalPages;i++)e.range.push(i);e.is_first=1==this.currentPage,e.is_last=this.currentPage==this.totalPages,e.skip_first=this.currentPage-2<=1||this.totalPages<=5,e.skip_last=this.currentPage+2>=this.totalPages||this.totalPages<=5,this.pagination=e}}})}),require.register("web/static/js/backend_user_list.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmedAction=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("./url_parser.js").UrlParser,e.ConfirmedAction=s["default"].component("backend-user-list",{template:'\n    <div>\n        <div class="modal-body">\n            <div v-if="error" class="alert alert-danger">{{ error }}</div>\n            <div class="form-group">\n                <label for="user_id">{{ labelText }}</label>\n                <select ref="user_select" id="user_id" v-model="selectedId" class="form-control">\n                    <option v-for="merchant_user in merchant_users" :value="merchant_user.id">{{ merchant_user.user.fullname }}</option>\n                </select>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <a @click="$emit(\'close\')" class="btn btn-default">Cancel</a>\n            <button :disabled="!selectedId" class="btn btn-success" type="submit">Continue</button>\n        </div>\n    </div>\n    ',props:["account-id","user-list-url","label-text"],data:function(){return{bLoading:!1,term:null,selectedId:null,accounts:null,error:null,merchant_users:null}},created:function(){var e=this;a.ajax({method:"GET",url:this.userListUrl,data:{},success:function(t){e.error=null,e.merchant_users=t.merchant_users},error:function(t,r,n){e.error="Error: '"+t.statusText+"' please cancel and try again."},complete:function(){e.bLoading=!1}})},mounted:function(){var e=this;a(this.$refs.user_select).select2({templateResult:function(e){return e.text}}).on("select2:select",function(t){e.selectedId=t.currentTarget.value}).select2("open")},watch:{selectedId:function(e){this.$emit("user-selected",e)}},methods:{}})}),require.register("web/static/js/business/annual_return.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);t("jquery"),t("../url_parser").UrlParser,t("../util").DateParser;s["default"].component("annual-return",{props:["initial-year-of-last-return","initialReturns"],data:function(){return{yearOfLastReturn:this.initialYearOfLastReturn,returns:this.initialReturns.reduce(function(e,t){return console.log(t),e[t.year]=t,e},{})}},methods:{isNotCurrent:function(e){return(new Date).getFullYear()!=e}},computed:{years:function(){var e=(new Date).getFullYear(),t=parseInt(this.yearOfLastReturn);if(t){var r=Math.max(0,e-t);return Array.from(new Array(r),function(t,r){var n=e-r;return this.returns[n]||(this.returns[n]={year:n,type:"",annual_return:"",_errors:{}}),n},this)}return[]}}})}),require.register("web/static/js/business/audit_trail.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);s["default"].component("audit-trail",{data:function(){return{showDetailsModal:!1}},methods:{showAuditDetails:function(e){this.showDetailsModal=!0,$(this.$refs.audit_details).jJsonViewer(e.data.params,{expanded:!0})}}})}),require.register("web/static/js/business/backend-debentures.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i),a=t("moment"),o=n(a);e["default"]=s["default"].component("business-debentures",{props:["debentures"],data:function(){return{currentDebentures:this.debentures||[],currentDebenture:null,showModal:!1,showEditModal:!1,showDischargeModal:!1}},methods:{addNewDebenture:function(){this.currentDebenture={persons_entitled:[],date_of_evidence:{}},this.showModal=!0},onDebentureAdded:function(e){this.currentDebentures.push(e),this.showModal=!1,this.currentDebenture=null},onDebentureUpdated:function(e){this.currentDebentures=this.currentDebentures.map(function(t){return t.id===e.id?e:t}),this.showEditModal=!1,this.showDischargeModal=!1,this.currentDebenture=null},formatDate:function(e){return(0,o["default"])(e).format("D-M-YYYY")},numberFormat:function(e){return e.toLocaleString("en")},onDeleteSuccess:function(e){this.onDebentureUpdated(e.debenture)},onDeleteError:function(e,t,r){$.growl.error({message:r})},showErrors:function(e){this.vErrors.add({field:"general",msg:"An error occured"})},editDebenture:function(e){var t=(0,o["default"])(e.date_of_evidence);this.currentDebenture=e,this.currentDebenture.date_of_evidence={year:t.year(),month:t.month(),day:t.date()},this.showEditModal=!0},discharge:function(e){this.currentDebenture=e,this.showDischargeModal=!0}},components:{DebentureForm:{props:["debenture","search-url","url"],data:function(){return{currentDebenture:this.debenture,secured_currency_amounts:this.debenture.secured_currency_amounts||[{currency:"",amount:""}],search:{reg_no:"",year:"",month:"",day:""},result:null,currencies:["KES","USD","UER","YEN","CYN"]}},methods:{lookup:function(){var e=this;this.vErrors.clear("search"),this.$validator.validateAll("search").then(function(t){return t?void e.doLookUp():(e.vErrors.add({scope:"search",msg:"All search fields are required",field:"all"}),!1)})},doLookUp:function(){var e=this;$.ajax({method:"get",url:this.searchUrl,data:{reg_no:this.search.reg_no,with_pin:!1,reg_date:{year:this.search.year,month:this.search.month,day:this.search.day}},success:function(t){t.profile?["public_limited","private_limited","foreign"].indexOf(t.profile.business_type)===-1?e.vErrors.add({filed:"all",msg:"Only public, private and foreign companies can be added",rule:"required",scope:"search"}):e.result=t.profile:t.errors&&t.errors.reg_no?e.vErrors.add({field:"all",msg:t.errors.reg_no,rule:"required",scope:"search"}):e.vErrors.add({field:"all",msg:"No matching results found",rule:"required",scope:"search"})},error:function(t){e.vErrors.add({field:"all",msg:t.message,rule:"required",scope:"search"})}})},addToPersonsEntitled:function(){this.currentDebenture.persons_entitled.push({name:this.result.first_name,postal_address:"PO Box "+this.result.main_branch.postal_address+" "+(this.result.main_branch.postal_code||"Uknown"),description:""}),this.result=null,this.search={}},save:function(){var e=this,t=new FormData(this.$refs.form);$.ajax({url:this.url,method:"post",dataType:"json",processData:!1,contentType:!1,data:t,success:function(t){t.errors?e.showValidationErrors(t.errors,"debenture"):t.debenture&&e.$emit("saved",t.debenture)},error:function(){e.vErrors.add({field:"general",msg:"An error occured"})}})}}},DischargeDialog:{props:["debenture"],data:function(){return{date:{year:"",month:"",day:""}}},methods:{validate:function(){return this.vErrors.clear(),this.date.year&&this.date.month&&this.date.day?Promise.resolve(!0):(this.vErrors.add({field:"cancelled_at",msg:"Invalid date"}),Promise.resolve(!1))},showErrors:function(e){422===e.status?this.showValidationErrors(e.responseJSON.errors):this.vErrors.add({field:"general",msg:e.statusText})},onDischarged:function(e){this.$emit("success",e.debenture)}}}}})}),require.register("web/static/js/business/business_attachments.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessAttachmentForm=e.BusinessAttachments=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("../url_parser.js").UrlParser;e.BusinessAttachments=s["default"].component("business-attachments",{template:"#business-attachments-template",props:["attachments","attachment-base-url"],data:function(){return{showAddDialog:!1}},computed:{},methods:{getAttachmentUrl:function(e){return o.parse(this.attachmentBaseUrl,{attachment_id:e.id})},attachmentAdded:function(e){this.showAddDialog=!1,this.$emit("attachment-added",e)},attachmentDeleted:function(e){var t=e.attachment;this.$emit("attachment-deleted",t)}}}),e.BusinessAttachmentForm=s["default"].component("business-attachment-form",{template:"#business-attachment-form-template",props:["attachments"],data:function(){return{alert:null,bInFlight:!1,values:{},errors:{}}},computed:{},methods:{onSubmit:function(e){var t=this,r=e.currentTarget,n=a(r),i=n.attr("action")+"?_format=json",s=n.attr("method"),o=new FormData(r);this.bInFlight=!0,a.ajax(i,{data:o,dataType:"json",processData:!1,contentType:!1,method:s,success:function(e){t.alert=null,e.errors?t.errors=e.errors:(t.errors={},t.$emit("on-success",e.attachment))},error:function(e,r,n){t.errors={},t.alert={cssClass:"alert-warning",message:n}},complete:function(){t.bInFlight=!1}})}}})}),require.register("web/static/js/business/business_audit_trail.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessAuditTrail=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");e.BusinessAuditTrail=s["default"].component("business-audit-trail",{template:"#business-audit-trail-template",props:["audits"],data:function(){return{auditData:{},showAuditDetails:!1}},methods:{get_operation:function(e){return(e.subject.split(".").pop().replace(/^([A-Z][a-z]*)([A-Z][a-z]*)$/,"$1 $2")+" "+e.operation+"d").toLowerCase()},showDetails:function(e){this.showAuditDetails=!0,a(this.$el).find("#audit-details-container").jJsonViewer(e.data,{expanded:!0})},get_creator:function(e){var t=e.creator;return t.user_profile.first_name+" "+t.user_profile.last_name},get_date:function(e){return new Date(e.inserted_at).toLocaleTimeString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}}})}),require.register("web/static/js/business/business_branch_form.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessBranchForm=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("../url_parser.js").UrlParser;e.BusinessBranchForm=s["default"].component("business-branch-form",{template:"#business-branch-form-template",props:["parent-values","action-url","url-params","localities","counties","districts"],data:function(){return{bInFlight:!1,errors:{},values:this.parentValues,alert:null}},computed:{_districts:function(){var e=this;return this.districts.filter(function(t){return t.parent_id==e.values.county_id})},_localities:function(){var e=this;return this.localities.filter(function(t){return t.parent_id==e.values.district_id})}},mounted:function(){this.setUpLocationPicker()},methods:{setUpMap:function(){var e=this,t=this.localities.find(function(t){return t.id==e.values.locality_id}),r=this.counties.find(function(t){return t.id==e.values.county_id});r=r&&r.name,(new google.maps.Geocoder).geocode({address:t?r+", "+t.name:r},function(t,r){"OK"==r&&(a.extend(!0,e.values.geo_codes,{latitude:t[0].geometry.location.lat(),longitude:t[0].geometry.location.lng()}),e.values.physical_address=t[0].formatted_address,e.setUpLocationPicker())})},setUpLocationPicker:function(){var e=a(this.$el),t=this,r=e.find('[data-map-role="latitude"]'),n=e.find('[data-map-role="longitude"]'),i=e.find('[data-map-role="physical-address"]'),s=t.values.geo_codes;e.find('[data-map-role="map"]').locationpicker({location:{latitude:s&&s.latitude,longitude:s&&s.longitude},radius:300,enableAutocomplete:!0,inputBinding:{latitudeInput:r,longitudeInput:n,locationNameInput:i},onchanged:function(r,n,s){e.find('[data-map-role="physical-map"]').val("{lat: "+r.latitude+", lng: "+r.longitude+"}"),t.values.physical_address=i.val()},oninitialized:function(){t.values.physical_address=i.val()}})},onSubmit:function(e){var t=a(e.currentTarget),r=t.serialize(),n=o.parse(this.actionUrl,this.urlParams)+"?_format=json",i=t.prop("method"),s=this;this.bInFlight=!0,a.ajax(n,{data:r,dataType:"json",method:i,success:function(e){s.alert=null,e.errors?s.errors=e.errors:(s.errors={},s.$emit("on-success",e.business_branch,e.approval))},error:function(e,t,r){s.errors={},s.bInFlight=!1,s.alert={cssClass:"alert-warning",message:r}},complete:function(){s.bInFlight=!1}})}}})}),require.register("web/static/js/business/business_branches.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessBranchApproval=e.BusinessBranches=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("../url_parser"),o=(n(a),t("jquery"));e.BusinessBranches=s["default"].component("business-branches",{template:"#business-branches-template",props:["business","endpoint","counties","localities","districts"],data:function(){return{showAddDialog:!1,bApprovalDialogActive:!1,bEditActive:!1,currentEdit:{urlParams:{},values:{}},initialValues:{},currentApproval:null,bLoading:!1,alert:null}},computed:{sortedBranches:function(){return this.business.business_branches.sort(function(e,t){return e.main_branch?-1:1})},_endpoint:function(){var e=this.endpoint||window.location.pathname;return e+"/business-branches".replace("//","/")}},methods:{can_add_branch:function(){return this.business.business_branches.length<1||"business_name"===this.business.business_type},handleMainBranchChanged:function(e){var t=e.business_branches;this.$emit("branches-reloaded",t)},addBusinessBranch:function(e){this.$emit("branch-added",e),this.showAddDialog=!1},initNewBranch:function(){this.initialValues={county_id:"",district_id:"",locality_id:"",geo_codes:{latitude:-1.300073,longitude:36.822739},address:{building:"",street:"",floor:"",room:""}},this.showAddDialog=!0},showEditDialog:function(e,t,r){this.currentEdit={urlParams:{branch_id:e.id},values:{name:e.name,email:e.email,address:e.address||{},phone_number:e.phone_number,physical_address:e.physical_address,postal_address:e.postal_address,postal_code:e.postal_code,county_id:e.county_id,district_id:e.district_id,locality_id:e.locality_id,physical_map:e.physical_map,geo_codes:e.geo_codes}},this.bEditActive=!0},onEditSuccess:function(e){this.bEditActive=!1,this.currentEdit={urlParams:{},values:{}};var t=this.business.business_branches.findIndex(function(t){return t.id==e.id});this.business.business_branches.splice(t,1,e)},reloadBusinessBranches:function(){var e=this;this.bLoading=!0,o.ajax(this._endpoint,{dataType:"json",method:"get",success:function(t){var r=t.business_branches;e.alert=null,e.$emit("branches-reloaded",r)},error:function(t,r,n){e.alert={cssClass:"alert-warning",message:n}},complete:function(){e.bLoading=!1}})},deleteBusinessBranch:function(e){},isPendingApproval:function(e){return"pending"==e.status||null!=this.findApproval(e)},showApprovalDialog:function(e){var t=this.findApproval(e);t&&(this.currentApproval=t,this.bApprovalDialogActive=!0)},closeApprovalDialog:function(){this.currentApproval=null,this.bApprovalDialogActive=!1},onActionSuccess:function(e){var t=e.business_branch;this.$emit("branch-deleted",t)},onDeleteError:function(e,t,r){o.growl.error({message:r})}}}),e.BusinessBranchApproval=s["default"].component("business-branch-approval",{template:"#business-branch-approval-template",props:["approval"],data:function(){return{bInFlight:!1,values:{},errors:{},alert:null}},methods:{noop:function(){},onSubmit:function(e){var t=o(e.currentTarget),r=t.prop("value"),n=o(e.currentTarget.form),i=n.prop("action").replace(/%3Aapproval_id/,this.approval.id)+"?_format=json",s=n.prop("method"),a=n.children(':input[name="_csrf_token"]').val(),u=o.param({_csrf_token:a,action:r}),c=this;confirm("Are you sure you want to "+r+" this change?")&&(this.bInFlight=!0,o.ajax(i,{data:u,dataType:"json",method:s,success:function(e){c.alert=null,e.errors?c.errors=e.errors:(c.errors={},c.$emit("approval-updated",e.approval))},error:function(e,t,r){c.errors={},c.alert={cssClass:"alert-warning",message:r}},complete:function(){c.bInFlight=!1}}))}}})}),require.register("web/static/js/business/business_details.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("jquery"),s=n(i),a=t("vue/dist/vue"),o=n(a);r.exports=o["default"].component("business-details",{props:["business","businessTypes","businessNatureOptions"],data:function(){return{showEditBusinessDialog:!1,showStrikeoffDialog:!1,showCancelStrikeoffDialog:!1,showArchiveModal:!1,archiveReason:""}},computed:{business_type:function(){return this.businessTypes[this.business.business_type]}},methods:{natureOfBusiness:function(){return"other"==this.business.nature_of_business?this.business.nature_of_business_other:this.businessNatureOptions[this.business.nature_of_business]},updateBusinessDetails:function(e){s["default"].extend(this.business,e),this.showEditBusinessDialog=!1},updateStrikeoffDetails:function(e){s["default"].extend(this.business,e),this.showStrikeoffDialog=!1,this.showCancelStrikeoffDialog=!1}}})}),require.register("web/static/js/business/business_owner_form.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessOwnerForm=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("../url_parser.js").UrlParser;e.BusinessOwnerForm=s["default"].component("business-owner-form",{template:"#business-owner-form-template",props:["parent-values","action-url","url-params"],data:function(){return{bInFlight:!1,errors:{},values:this.parentValues,alert:null,physical_address:""}},mounted:function(){var e=a(this.$el),t=this,r=e.find('[data-map-role="physical-address"]');e.find('[data-map-role="map"]').locationpicker({radius:300,enableAutocomplete:!0,inputBinding:{locationNameInput:r},onchanged:function(n,i,s){e.find('[data-map-role="physical-map"]'),t.values.physical_address=r.val()},oninitialized:function(){t.values.physical_address=r.val()}})},methods:{onSubmit:function(e){var t=a(e.currentTarget),r=t.serialize(),n=o.parse(this.actionUrl,this.urlParams)+"?_format=json",i=t.prop("method"),s=this;this.values=t.serializeArray().reduce(function(e,t){var r=t.name,n=r.match(/.+?\[(.+)\]/);return n&&(r=n[1]),e[r]=t.value,e},{}),this.bInFlight=!0,a.ajax(n,{data:r,dataType:"json",method:i,success:function(e){s.alert=null,e.errors?s.errors=e.errors:(s.errors={},s.$emit("on-success",e.share_category,e.approval))},error:function(e,t,r){s.errors={},s.alert={cssClass:"alert-warning",message:r}},complete:function(){s.bInFlight=!1}})}}})}),require.register("web/static/js/business/business_owners.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(null==e)throw new TypeError("Cannot destructure undefined")}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessOwnerApproval=e.BusinessBranches=void 0;var s=t("vue/dist/vue"),a=n(s),o=t("../url_parser"),u=(n(o),t("jquery"));e.BusinessBranches=a["default"].component("business-owners",{template:"#business-owners-template",props:["event-bus","business","allApprovals","endpoint"],data:function(){return{showAddDialog:!1,businessOwners:this.business.owners,approvals:this.allApprovals,bApprovalDialogActive:!1,bEditActive:!1,currentEdit:{urlParams:{},values:{}},currentApproval:null,bLoading:!1,alert:null}},methods:{addBusinessOwner:function(e){this.businessOwners.unshift(e),this.showAddDialog=!1},showEditDialog:function(e,t,r){this.currentEdit={urlParams:{owner_id:e.id},values:{name:e.name}},this.bEditActive=!0},onEditSuccess:function(e){this.bEditActive=!1,this.currentEdit={urlParams:{},values:{}}},reloadBusinessOwners:function(){var e=this;this.bLoading=!0,u.ajax(this.endpoint,{dataType:"json",method:"get",success:function(t){e.alert=null,e.businessOwners=t.owners},error:function(t,r,n){e.alert={cssClass:"alert-warning",message:n}},complete:function(){e.bLoading=!1}})},deleteBusinessOwner:function(e){},isPendingApproval:function(e){return"pending"==e.status||null!=this.findApproval(e)},showApprovalDialog:function(e){var t=this.findApproval(e);t&&(this.currentApproval=t,this.bApprovalDialogActive=!0)},closeApprovalDialog:function(){this.currentApproval=null,this.bApprovalDialogActive=!1},findApproval:function(e){var t=this.approvals.filter(function(t){return t.subject_id==e.id});return t[0]||null},onApprovalUpdated:function(e){this.approvals=this.approvals.filter(function(t){return t.id!=e.id}),this.closeApprovalDialog(),this.reloadBusinessOwners()},onActionSuccess:function(e){i(e),this.alert=null},onActionError:function(e,t,r){this.alert={cssClass:"alert-danger",message:r}},onDeleteError:function(e,t,r){u.growl.error({message:r})}}}),e.BusinessOwnerApproval=a["default"].component("business-owner-approval",{template:"#business-owner-approval-template",props:["approval"],data:function(){return{bInFlight:!1,values:{},errors:{},alert:null}},methods:{noop:function(){},onSubmit:function(e){var t=u(e.currentTarget),r=t.prop("value"),n=u(e.currentTarget.form),i=n.prop("action").replace(/%3Aapproval_id/,this.approval.id)+"?_format=json",s=n.prop("method"),a=n.children(':input[name="_csrf_token"]').val(),o=u.param({_csrf_token:a,action:r}),c=this;confirm("Are you sure you want to "+r+" this change?")&&(this.bInFlight=!0,u.ajax(i,{data:o,dataType:"json",method:s,success:function(e){c.alert=null,e.errors?c.errors=e.errors:(c.errors={},c.$emit("approval-updated",e.approval))},error:function(e,t,r){c.errors={},c.alert={cssClass:"alert-warning",message:r}},complete:function(){c.bInFlight=!1}}))}}})}),require.register("web/static/js/business/change_of_officials.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=t("vue/dist/vue"),a=n(s),o=(t("web/static/js/business_registration/step4.vue"),t("jquery")),u=(t("../url_parser").UrlParser,t("../util").DateParser);a["default"].component("change-of-officials",{props:["officials","initial-resignations","initial-forfeits","initial-appointments","initial-allotments","counties","districts","localities","ownership_types","business_shares","initial-has-share-transfers"],data:function(){return{inProgress:!1,errors:null,showAddResignationDialog:!1,showEditResignationDialog:!1,resignations:this.initialResignations,currentResignation:null,hasShareTransfers:this.initialHasShareTransfers,showAddForfeitDialog:!1,showEditForfeitDialog:!1,currentForfeit:null,forfeits:this.initialForfeits,showAddAppointmentDialog:!1,showEditAppointmentDialog:!1,currentAppointment:null,appointments:this.initialAppointments,showAddAllotmentDialog:!1,showEditAllotmentDialog:!1,currentAllotment:null,allotments:this.initialAllotments,forfeit_deletion_error:""}},computed:{activeOfficials:function(){var e=this.resignations.map(function(e){var t=e.business_owner_id;return t});return this.officials.filter(function(t){var r=t.id;return e.indexOf(r)==-1})},named_shares:function(){return this.business_shares.map(function(e){return e.name=e.category,e})},available_shares:function c(){var c=this.named_shares.reduce(function(e,t){return e[t.name]=t.number,e},{});return this.activeOfficials.forEach(function(e){"shareholder"!==e.type&&"director_shareholder"!==e.type||e.shares.forEach(function(e){c[e.name]=c[e.name]-e.number_of_shares})}),this.appointments.forEach(function(e){var t=e.owner;if("shareholder"===t.type||"director_shareholder"===t.type)for(var r in t.shares)c[r]=c[r]-t.shares[r];
}),this.allotments.forEach(function(e){var t=e.shares;t.forEach(function(e){c[e.name]=c[e.name]-e.number_of_shares})}),this.forfeits.forEach(function(e){var t=e.shares;t.forEach(function(e){c[e.category]=c[e.category]+e.number_of_shares})}),c},shares_map:function(){return this.named_shares.reduce(function(e,t){return e[t.name]=0,e},{})}},methods:{isEmpty:function(e){return o.isEmptyObject(e)},isResigned:function(e){var t=e.id,r=this.resignations.filter(function(e){var r=e.business_owner_id;return r==t});return r.length>0},canResign:function(){return!0},canForfeit:function(e){return!this.forfeits.find(function(t){return e.id===t.business_owner_id})},hasShares:function(e){var t=e.has_shares;return t},addResignation:function(e){this.showAddResignationDialog=!0,this.currentResignation={business_owner_id:e.id,owner:e}},resignationAdded:function(e){this.resignations.push(e),this.allotments=this.allotments.filter(function(t){return t.business_owner_id!==e.business_owner_id}),this.forfeits=this.forfeits.filter(function(t){return t.business_owner_id!==e.business_owner_id}),this.closeResignationDialog()},closeResignationDialog:function(){this.showAddResignationDialog=this.showEditResignationDialog=!1,this.currentResignation=null},deleteResignation:function(e,t){var r=this,n=o(t.currentTarget),i=n.prop("action"),s=n.prop("method"),a=n.serializeArray().reduce(function(e,t){return e[t.name]=t.value,e},{resignation_id:e.id});r.inProgress=!1,o.ajax({method:s,url:i,data:a,success:function(t){r.resignationCancelled(e)},error:function(e,t,n){r.errors={global:e.statusText}},complete:function(){r.inProgress=!1}})},resignationCancelled:function(e){var t=e.id;return this.resignations=this.resignations.filter(function(e){var r=e.id;return r!=t})},addForfeit:function(e){this.showAddForfeitDialog=!0,this.currentForfeit={business_owner_id:e.id,owner:e}},forfeitAdded:function(e){this.forfeits.push(e),this.closeForfeitDialog()},closeForfeitDialog:function(){this.showAddForfeitDialog=this.showEditForfeitDialog=!1,this.currentForfeit=null},deleteForfeit:function(e){if(e.errors)this.forfeit_deletion_error=e.errors;else{this.forfeit_deletion_error="";var t=this.forfeits.findIndex(function(t){return t.id===e.forfeit_id});this.forfeits.splice(t,1)}},forfeitCancelled:function(e){var t=e.id;return this.forfeits=this.forfeits.filter(function(e){var r=e.id;return r!=t})},newAppointee:function(){return{date_of_birth:{},name:{},former_name:"",id_type:"citizen",type:"",shares:this.shares_map,shares_paid_up:this.shares_map,county:"",country:"",district:"",use_alien_card:"true",validating:!1}},addAppointment:function(){this.currentAppointment={owner:this.newAppointee()},this.showAddAppointmentDialog=!0},editAppointment:function(e){var t=o.extend(!0,{},e);t.owner.date_of_birth=u.toObject(t.owner.date_of_birth),t.owner.shares="object"===i(t.owner.shares)?t.owner.shares:this.shares_map,t.owner.shares_paid_up="object"===i(t.owner.shares_paid_up)?t.owner.shares_paid_up:this.shares_map,this.currentAppointment=t,this.showEditAppointmentDialog=!0},updateAppointment:function(e){var t=this.appointments.findIndex(function(t){return t.id===e.appointment.id});this.appointments.splice(t,1,e.appointment)},ownership_type_name:function(e){var t=this.ownership_types.find(function(t){return t.key===e});return t?t.name:""},id_type_name:function(e){var t={visitor:"Foreigner",alien:"Foreign Resident",citizen:"Kenyan Citizen",local_company:"Local Company",foreign_company:"Foreign Company",minor:"Minor"};return t[e]},closeAppointmentDialogs:function(){this.showAddAppointmentDialog=this.showEditAppointmentDialog=!1,this.currentAppointment=null},cancelAppointment:function(e){if(e.status&&"success"===e.status){var t=this.appointments.findIndex(function(t){return t.id===e.appointment_id});this.appointments.splice(t,1)}},hasAllotment:function(e){var t=e.id;return this.allotments.filter(function(e){var r=e.business_owner_id;return r==t}).length>0},addAllotment:function(e){this.currentAllotment={business_owner_id:e.id,owner:e},this.showAddAllotmentDialog=!0},allotmentAdded:function(e){this.allotments.push(e),this.closeAllotmentDialogs()},closeAllotmentDialogs:function(){this.showAddAllotmentDialog=this.showEditAllotmentDialog=!1,this.currentAllotment=null},allotmentCancelled:function(e){var t=e.allotment_id;this.allotments=this.allotments.filter(function(e){var r=e.id;return r!=t})},getOfficialsName:function(e){var t=this.findOfficialByOwnerId(e);return t[0]&&t[0].business_owner_profile.fullname},getOfficialsTypeName:function(e){var t=this.findOfficialByOwnerId(e);return t[0]&&t[0].type_name},findOfficialByOwnerId:function(e){var t=e.business_owner_id;return this.officials.filter(function(e){var r=e.id;return r==t})}}}),a["default"].component("resignation-form",{template:"#resignation-form-template",props:["action-url","resignation"],data:function(){return{errors:null,inProgress:!1,businessOwnerId:this.resignation.business_owner_id,owner:this.resignation.owner,affidavit:this.resignation.affidavit,resignationLetter:this.resignation.resignationLetter}},computed:{hasShares:function(){return this.owner.has_shares},isDirector:function(){return this.owner.is_director}},methods:{doSubmit:function(e){var t=o(e.currentTarget),r=t.prop("method"),n=new FormData(t[0]),i=this;this.inProgress=!0,o.ajax({method:r,url:this.actionUrl,data:n,processData:!1,contentType:!1,success:function(e){e.errors?i.errors=e.errors:(i.errors=null,i.$emit("success",e.resignation),i.$emit("close"))},error:function(e,t,r){i.errors={global:e.statusText}},complete:function(){i.inProgress=!1}})}}}),a["default"].component("forfeit-form",{template:"#forfeit-form-template",props:["action-url","forfeit"],data:function(){return{errors:null,inProgress:!1,businessOwnerId:this.forfeit.business_owner_id,owner:this.forfeit.owner,numberOfShares:this.forfeit.number_of_shares}},computed:{},methods:{doSubmit:function(e){var t=o(e.currentTarget),r=t.prop("method"),n=new FormData(t[0]),i=this;this.inProgress=!0,o.ajax({method:r,url:this.actionUrl,data:n,processData:!1,contentType:!1,success:function(e){e.errors?i.errors=e.errors:(i.errors=null,i.$emit("success",e.forfeit),i.$emit("close"))},error:function(e,t,r){i.errors={global:e.statusText}},complete:function(){i.inProgress=!1}})}}}),a["default"].component("allotment-form",{template:"#allotment-form-template",props:["share-categories","action-url","allotment","available_shares"],data:function(){return{errors:null,inProgress:!1,businessOwnerId:this.allotment.business_owner_id,owner:this.allotment.owner}},computed:{},methods:{doSubmit:function(e){var t=o(e.currentTarget),r=t.prop("method"),n=t.serialize(),i=this;this.inProgress=!0,o.ajax({method:r,url:this.actionUrl,data:n,success:function(e){e.errors?i.errors=e.errors:(i.errors=null,i.$emit("success",e.allotment),i.$emit("close"))},error:function(e,t,r){i.errors={global:e.statusText}},complete:function(){i.inProgress=!1}})}}})}),require.register("web/static/js/business/change_of_particulars.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);t("web/static/js/prompt.vue"),t("web/static/js/date_picker.vue"),t("web/static/js/business_registration/step4.vue").ownerForm;var a=t("../util.js").DateParser;s["default"].component("change-of-particulars-form",{props:["base-url","no-objection-documents","change-business-name","main-address","original-main-address","other-addresses","edited-addresses","deleted-addresses","new-addresses","postal-codes","counties","districts","localities","nature-of-business","current-officials","updated-officials","appointments","resignations","changeset-errors"],data:function(){return{nature_of_business:this.natureOfBusiness,showAddressDialog:!1,currentAddress:null,successCallback:null,currentUrl:"",currentModalTitle:"",mainBranch:this.mainAddress,originalMainBranch:this.originalMainAddress,otherBranches:this.otherAddresses||[],editedBranches:this.editedAddresses||[],deletedBranches:this.deletedAddresses||[],newBranches:this.newAddresses||[],editedOfficials:this.updatedOfficials||[],currentAppointments:this.appointments||[],currentResignations:this.resignations||[],showResignationForm:!1,showOfficerForm:!1,currentOfficial:{},formErrors:this.changesetErrors||{},currentErrors:{},updateBusinessName:this.changeBusinessName}},computed:{no_objection_letter_label:function(){if(this.nature_of_business)return this.noObjectionDocuments[this.nature_of_business]}},methods:{ownerEdited:function(e){return!!this.editedOfficials.find(function(t){return e===t.business_owner_id})},ownerResigned:function(e){return!!this.currentResignations.find(function(t){return""+e==""+t.officer_id})},onOwnerUpdateCancelled:function(e){this.editedOfficials=this.editedOfficials.filter(function(t){return""+t.business_owner_id!=""+e.data.business_owner_id&&""+t.id!=""+e.data.business_owner_id})},branchEdited:function(e){return!!this.editedBranches.find(function(t){return t.id===e})},branchDeleted:function(e){return!!this.deletedBranches.find(function(t){return t.id===e})},empty:function(e){return $.isEmptyObject(e)},postalTown:function(e){return this.postalCodes[e]},showAddressModal:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Edit Address",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.currentAddress=$.extend(!0,{},e),this.currentUrl=this.baseUrl.replace("action_uri",t),this.successCallback=r,this.currentModalTitle=n,this.currentErrors=i,this.showAddressDialog=!0},onMainAddressUpdated:function(e){this.mainBranch=e.data,this.showAddressDialog=!1},onAddressUpdated:function(e){this.editedBranches=this.editedBranches.filter(function(t){return t.id!==e.data.id}),this.editedBranches.push(e.data),this.showAddressDialog=!1},onBranchEditsCancelled:function(e){this.editedBranches=this.editedBranches.filter(function(t){return t.id!==e.data.id})},onAddressTrashed:function(e){var t=e.data;this.deletedBranches.push(t)},onAddressRestored:function(e){this.deletedBranches=this.deletedBranches.filter(function(t){return t.id!==e.data.id})},onAddressRemoved:function(e){var t=e.data;this.newBranches=this.newBranches.filter(function(e){return e.id!=t.id})},onAddressAdded:function(e){this.newBranches.push(e.data),this.showAddressDialog=!1},onNewAddressUpdated:function(e){this.newBranches=this.newBranches.map(function(t){return t.id===e.data.id?e.data:t}),this.showAddressDialog=!1},resign:function(e){this.currentOfficial=e,this.showResignationForm=!0},displayOfficerForm:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.currentUrl=this.baseUrl.replace("action_uri",t),this.currentOfficial=$.extend(!0,{},e,{date_of_birth:a.toObject(e.date_of_birth)}),this.successCallback=r,this.currentModalTitle=n,this.currentErrors=i,this.showOfficerForm=!0},onResignationSuccess:function(e){this.currentResignations.push(e.data),this.editedOfficials=this.editedOfficials.filter(function(t){return t.business_owner_id!==e.data.business_owner_id}),this.showResignationForm=!1},onResignationCancelled:function(e){this.currentResignations=this.currentResignations.filter(function(t){return t.officer_id!==e.data.officer_id})},onOfficialUpdated:function(e){this.editedOfficials=this.editedOfficials.filter(function(t){return""+t.business_owner_id!=""+e.data.business_owner_id}),this.editedOfficials.push(e.data)},addAppointment:function(){var e={id_type:"citizen",county:"",district:"",locality:"",type:"",kra_pin_certificate:"",passport_photo:"",validating:!1,date_of_birth:{year:"",month:"",day:""},name:{first_name:"",last_name:"",other_name:""}};this.displayOfficerForm(e,"add_appointment",this.onAppointmentAdded,"New Appointment")},onAppointmentAdded:function(e){this.currentAppointments.push(e.data)},onAppointmentCancelled:function(e){this.currentAppointments=this.currentAppointments.filter(function(t){return t.id!==e.data.id})},onAppointmentUpdated:function(e){this.currentAppointments=this.currentAppointments.map(function(t){return t.id===e.data.id?e.data:t})}},components:{"address-form":{props:["address","postal-codes","counties","districts","localities","url","errors"],data:function(){return{payload:Object.assign({address:{},county_id:"",district_id:"",locality_id:""},this.address),saving:!1}},computed:{currentDistricts:function(){var e=this;return this.payload.county_id?this.districts.filter(function(t){return t.parent_id===e.payload.county_id}):[]},currentLocalities:function(){var e=this;return this.payload.district_id?this.localities.filter(function(t){return t.parent_id===e.payload.district_id}):[]}},mounted:function(){this.errors&&this.showValidationErrors(this.errors)},methods:{submit:function(){if(this.saving)return!1;var e=this;this.saving=!0,$.ajax({url:this.url,data:{data:this.payload},method:"post",success:function(t){t.errors?e.showValidationErrors(t.errors):t.data&&e.$emit("success",t)},error:function(t){e.vErrors.add({field:"general",msg:"An error occurred"})},complete:function(){e.saving=!1}})}}},"resignation-form":{props:["official","url"],data:function(){return{sending:!1,resignation_letter:"",affidavit:"",resignation_date:""}},methods:{setAffidavit:function(e){this.affidavit=e.target.files[0]},setResignationLetter:function(e){this.resignation_letter=e.target.files[0]},submit:function(){var e=new FormData;e.append("data[officer_id]",this.official.business_owner_id),e.append("data[resignation_date]",this.resignation_date),e.append("data[resignation_letter]",this.resignation_letter),e.append("data[affidavit]",this.affidavit),this.sending=!0;var t=this;$.ajax({url:this.url,data:e,processData:!1,contentType:!1,method:"post",success:function(e){e.errors?t.showValidationErrors(e.errors):e.data&&t.$emit("success",e)},error:function(e){t.vErrors.add({field:"general",msg:"An error occured"})},complete:function(){t.sending=!1}})}}}}})}),require.register("web/static/js/business/debentures-form.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i);e["default"]=s["default"].component("debentures-form-component",{props:["_persons_entitled","_persons_entitled_errors","_secured_currency_amounts_errors","_secured_currency_amounts"],data:function(){return{showModal:!1,persons_entitled:this._persons_entitled.length?this._persons_entitled:[],currencies:["KES","USD","UER","YEN","CYN"],errors:{},currency:"",amount:"",secured_currency_amounts:this._secured_currency_amounts||[{currency:"",amount:""}]}},methods:{addResult:function(e){this.persons_entitled.push({name:e.first_name,postal_address:"PO BOX "+e.main_branch.postal_address+", "+e.main_branch.postal_code}),this.showModal=!1}},components:{"search-component":{props:["search-url"],data:function(){return{step:"search",reg_no:"",date:{year:"",month:"",day:""},error:!1,searching:!1,result:null}},methods:{lookup:function(){if(!(this.reg_no&&this.date.year&&this.date.month&&this.date.day))return this.error="All fields are required",!1;var e=this;e.searching=!1,$.ajax({method:"get",url:this.searchUrl,data:{with_pin:!1,reg_no:e.reg_no,reg_date:e.date},success:function(t){t.profile?["public_limited","private_limited","foreign"].indexOf(t.profile.business_type)===-1?e.error="Only public, private and foreign companies can be added":(e.result=t.profile,e.step="result"):e.error="No matching results found"},error:function(t){e.error=t.message},complete:function(){e.searching=!1}})},select:function(){this.$emit("result",this.result)}}}}})}),require.register("web/static/js/business/directors_information.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.DirectorsInfoForm=e.DirectorsInformation=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("../url_parser").UrlParser,u=t("../util.js").DateParser,c=t("../util.js").shareCategoryNameOrOther,l=function(e){return["state_corporation","other"].indexOf(e)===-1};e.DirectorsInformation=s["default"].component("directors-information",{template:"#directors-information-template",props:["business","showBusinessUrl","localities","counties","districts"],data:function(){return{showEditDialog:!1,showAddDialog:!1,alert:null,currentOwner:null,urlParams:{}}},filters:{humanize:function(e){return e?(e=e.toString(),e.replace().split(/_/).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")):""}},computed:{share_allocation:function(){var e=this;return this.business.share_categories.reduce(function(t,r){return t[r.id]={allocated:e.business.owners.reduce(function(e,t){return"trashed"===t.status?e:t.shares[r.id]?(t.shares[r.id].allocated||0)+e:e},0),total:r.number_of_shares},t},{})}},methods:{new_business_owner:function(){return{owner:{shares:function(e){return e.reduce(function(e,t){return e[t.id]={allocated:0,paid_up:0},e},{})}(this.business.share_categories),county_id:"",district_id:"",locality_id:"",id:null,type:""},owner_profile:{validated:!1,date_of_birth:{},first_name:"",gender:"",id_type:"citizen",id_number:""}}},profileUrl:function(e,t){return o.parse(e,{profile:t.business_owner_profile.id})},owner_type:function(e){var t={citizen:"Kenyan Citizen",alien:"Foreign Resident",visitor:"Foreigner",local_company:"Local Company",foreign_company:"Foreign Company",minor:"Minor",state_corporation:"State Corporation",other:"Other"};return t[e.business_owner_profile.id_type]},canAddOwner:function(){switch(this.business.business_type){case"business_name":return this.business.owners.length<20;case"private_limited":return this.business.owners.length<50;default:return!0}},filterActive:function(e){return e.filter(function(e){return"trashed"!=e.status})},number_of_shares:function(e,t){var r=e[t];return r?r.allocated:0},fullname:function(e){var t=e.first_name,r=e.last_name,n=e.other_names;return(t||"")+" "+(n||"")+" "+(r||"")},ownerAdded:function(e){this.showAddDialog=!1,this.$emit("owner-added",e)},showEditModal:function(e){var t=this.business.share_categories.reduce(function(e,t){return e[t.id]={allocated:0,paid_up:0},e},{});t=a.extend(!0,t,e.shares),this.currentOwner={owner:a.extend(e,{shares:t}),owner_profile:a.extend(e.business_owner_profile,{validated:!l(e.business_owner_profile.id_type)})},this.showEditDialog=!0},ownerUpdated:function(e){this.showEditDialog=!1,this.$emit("owner-updated",e)},ownerDeleted:function(e){var t=e.owner;this.ownerUpdated(t)},onDeleteError:function(e,t,r){a.growl.error({message:r})},nameOrOtherName:c}}),e.DirectorsInfoForm=s["default"].component("directors-info-form",{template:"#directors-info-form-template",props:["share-categories","action-url","url-params","share-allocation","id-lookup-url","business-lookup-url","business_owner","localities","counties","districts"],data:function(){var e=this;return{lookup_id_number:this.business_owner.owner_profile.id_number,lookup_date_of_birth:this.business_owner.owner_profile.date_of_birth,lookup_first_name:this.business_owner.owner_profile.first_name,errors:{},alert:null,bInFlight:!1,lookingUp:!1,id_present:function(){return e.business_owner.owner.id&&e.business_owner.owner_profile.id_number?"true":"false"}(),owner:a.extend(!0,{},this.business_owner.owner),owner_profile:a.extend(!0,{},this.business_owner.owner_profile),current_owner_shares:a.extend(!0,{},this.business_owner.owner.shares)}},watch:{"owner_profile.id_type":function(e,t){a.extend(!0,this.owner_profile,{first_name:"",last_name:"",other_names:"",id_number:"",gender:"",validated:!l(e)})}},computed:{can_lookup:function(){return("citizen"===this.owner_profile.id_type||"alien"===this.owner_profile.id_type)&&"true"===this.id_present||"local_company"===this.owner_profile.id_type},requires_residence:function(){return this.owner.type&&["proprietor","partner","manager","director","director_shareholder","director_member","secretary","local_representative","foreign_director"].indexOf(this.owner.type)!==-1},is_local_owner:function(){return["citizen","local_company","alien","state_corporation"].indexOf(this.owner_profile.id_type)!==-1},is_company:function(){return["local_company","foreign_company","state_corporation","other"].indexOf(this.owner_profile.id_type)!==-1},fullname:function(){return(this.owner_profile.first_name||"")+" "+(this.owner_profile.other_names||"")+" "+(this.owner_profile.last_name||"")},can_have_shares:function(){return["shareholder","director_shareholder"].indexOf(this.owner.type)!==-1},_districts:function(){var e=this;return this.districts.filter(function(t){return t.parent_id===e.owner.county_id})},_localities:function(){var e=this;return this.localities.filter(function(t){return t.parent_id===e.owner.district_id})}},methods:{available_for_allocation:function(e){var t=this.owner.shares[e].allocated-this.current_owner_shares[e].allocated;return this.shareAllocation[e].total-(this.shareAllocation[e].allocated+t)},do_continue:function(){var e=this;if(["citizen","alien","local_company"].indexOf(this.owner_profile.id_type)!==-1){this.bInFlight=!0,this.lookingUp=!0;var t={},r="";["citizen","alien"].indexOf(this.owner_profile.id_type)!==-1?(r=this.idLookupUrl,t={citizenship:this.owner_profile.id_type,id_number:this.lookup_id_number,first_name:this.lookup_first_name}):"local_company"===this.owner_profile.id_type&&(r=this.businessLookupUrl,t={reg_no:this.lookup_id_number,reg_date:this.lookup_date_of_birth}),a.ajax({url:r,method:"get",data:t}).done(function(t){e.alert=null,t.errors?e.errors=t.errors:(e.errors={},a.extend(e.owner_profile,t.profile,{date_of_birth:u.toObject(t.profile.date_of_birth),id_type:e.owner_profile.id_type}))}).fail(function(t,r,n){e.alert={cssClass:"alert-warning",message:message}}).always(function(){e.bInFlight=!1,e.lookingUp=!1})}else this.owner_profile.validated=!0},submit:function(){var e=this,t=o.parse(this.actionUrl,this.urlParams)+"?_format=json",r={profile:this.owner_profile,owner:{type:this.owner.type,email:this.owner.email,phone_number:this.owner.phone_number,county_id:this.owner.county_id,district_id:this.owner.district_id,locality_id:this.owner.locality_id,country_code:this.owner.country_code,residential_address:this.owner.residential_address,postal_address:this.owner.postal_address,postal_code:this.owner.postal_code,shares:this.shareCategories.map(function(t){return{business_share_category_id:t.id,number_of_shares:e.owner.shares[t.id].allocated,number_paid_up:e.owner.shares[t.id].paid_up}})}};this.bInFlight=!0,a.ajax(t,{data:r,method:"POST",success:function(t){e.alert=null,t.errors?e.errors=t.errors:(e.errors={},e.$emit("on-success",t.owner))},error:function(t,r,n){e.errors={},e.alert={cssClass:"alert-warning",message:n}},complete:function(){e.bInFlight=!1}})},nameOrOtherName:c}})}),require.register("web/static/js/business/edit_business_details.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("jquery"),s=n(i),a=t("vue/dist/vue"),o=n(a),u=t("../util.js").DateParser;r.exports=o["default"].component("edit-business-details",{template:"#edit-business-details-template",props:["business","actionUrl","businessTypes"],data:function(){return{edit:{name:this.business.name,registration_number:this.business.registration_number,business_type:this.business.business_type,registration_date:this.partsToInteger(u.toObject(this.business.registration_date)),nature_of_business:this.business.nature_of_business,nature_of_business_other:this.business.nature_of_business_other},errors:{},alert:!1,bInFlight:!1}},methods:{partsToInteger:function(e){return{year:e.year,month:parseInt(e.month),day:parseInt(e.day)}},updateBusinessDetails:function(){this.bInFlight=!0;var e=this;s["default"].ajax({url:this.actionUrl,data:{business:this.edit},method:"PUT",success:function(t){t.errors?e.errors=t.errors:(t.business.business_type!==e.business.business_type&&location.reload(!0),e.$emit("business-details-updated",t.business))},error:function(t,r,n){e.alert=r},complete:function(){e.bInFlight=!1}})},canChangeType:function(e){return["business_name"].indexOf(e)===-1}},computed:{}})}),require.register("web/static/js/business/manager.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.BusinessManager=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("../url_parser").UrlParser,e.BusinessManager=s["default"].component("business-manager",{template:"#business-manager-template",props:["localities","counties","districts","audits","auditCurrentPage","auditTotalPages","event-bus","business","show-add-share-modal","share-categories-endpoint","business-branches-endpoint","returns"],data:function(){return{}},created:function(){this.eventBus.$on("share-category-added",this.addShareCategory),this.eventBus.$on("share-category-updated",this.updateShareCategory),this.eventBus.$on("share-category-trashed",this.trashShareCategory)},beforeDestroy:function(){this.eventBus.$off("share-category-added",this.addShareCategory),this.eventBus.$off("share-category-updated",this.updateShareCategory),this.eventBus.$off("share-category-trashed",this.trashShareCategory)},mounted:function(){var e=window.location.hash||"#business_details";a(this.$el).find("a[data-toggle='tab'][href='"+e+"']").tab("show")},methods:{addShareCategory:function(e){this.business.share_categories.unshift(e)},updateShareCategory:function(e){for(var t in this.business.share_categories)if(e.id==this.business.share_categories[t].id){this.business.share_categories[t]=e;break}},trashShareCategory:function(e){this.business.share_categories=this.business.share_categories.filter(function(t){return t.id!=e.id})},onBranchDeleted:function(e){this.business.business_branches=this.business.business_branches.filter(function(t){return t.id!=e.id})},onBranchAdded:function(e){this.business.business_branches.push(e)},onBranchesReloaded:function(e){this.business.business_branches=e},addOwner:function(e){this.business.owners.unshift(e)},updateOwner:function(e){var t=this.business.owners.findIndex(function(t){return t.id===e.id});t!==-1&&a.extend(!0,this.business.owners[t],e)},addAttachment:function(e){this.business.attachments.unshift(e)},deleteAttachment:function(e){this.business.attachments=this.business.attachments.filter(function(t){return t.id!=e.id})},publishBusiness:function(e){this.business.published=!0,this.business.verified=!0},switchTab:function(e){window.location.hash=a(e.target).attr("href")}}})}),require.register("web/static/js/business/publish.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("jquery"),s=n(i),a=t("vue/dist/vue"),o=n(a);r.exports=o["default"].component("publish-business",{props:["business","actionUrl"],data:function(){return{bSending:!1,errors:[],alert:!1}},methods:{doPublish:function(){var e=this;e.bSending=!0,s["default"].ajax({method:"POST",url:e.actionUrl,success:function(t){t.errors?e.errors=t.errors:(e.$emit("business-published",e.business),s["default"].growl.notice({message:"Published successfully"}))},error:function(t,r,n){e.errors=[n]},complete:function(){e.bSending=!1}})},publish:function(){var e=this;s["default"].confirm({title:"Publish Business",content:"Are you sure you want to publish this business?",escapeKey:"cancel",buttons:{cancel:{text:"Cancel",btnClass:"btn-primary btn-sm",action:function(){this.close()}},ok:{text:"Publish",btnClass:"btn-success btn-sm",keys:["enter"],action:function(){e.doPublish()}}}})}}})}),require.register("web/static/js/business/share_categories.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ShareCategoryApproval=e.ShareCategories=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("../url_parser"),o=(n(a),t("jquery")),u=t("../util.js").shareCategoryNameOrOther;e.ShareCategories=s["default"].component("share-categories",{template:"#share-categories-template",props:["event-bus","share-categories","endpoint"],data:function(){return{showAddDialog:!1,bEditActive:!1,currentEdit:{urlParams:{},values:{}},currentApproval:null,bLoading:!1,alert:null}},methods:{shareCapital:function(){return this.shareCategories.reduce(function(e,t){return"pending"==t.status?e:e+t.nominal_value*t.number_of_shares},0)},shareCategoryAdded:function(e){var t=e.share_category;this.showAddDialog=!1,this.eventBus.$emit("share-category-added",t)},showEditDialog:function(e,t,r){this.bEditActive=!0,this.currentEdit={urlParams:{category_id:e.id},values:{name:e.name,other_name:e.other_name,number_of_shares:e.number_of_shares,nominal_value:e.nominal_value}}},shareCategoryUpdated:function(e){var t=e.share_category;this.bEditActive=!1,this.currentEdit={urlParams:{},values:{}},this.eventBus.$emit("share-category-updated",t)},reloadShareCategories:function(){var e=this;this.bLoading=!0,o.ajax(this.endpoint,{dataType:"json",method:"get",success:function(t){e.alert=null,e.shareCategories=t.share_categories},error:function(t,r,n){e.alert={cssClass:"alert-warning",message:n}},complete:function(){e.bLoading=!1}})},onDeleteSuccess:function(e){var t=e.share_category;this.alert=null,this.eventBus.$emit("share-category-trashed",t)},onDeleteError:function(e,t,r){o.growl.error({message:r})},nameOrOtherName:u},computed:{}}),e.ShareCategoryApproval=s["default"].component("share-category-approval",{template:"#share-category-approval-template",props:["approval"],data:function(){return{bInFlight:!1,values:{},errors:{},alert:null}},methods:{noop:function(){},onSubmit:function(e){var t=o(e.currentTarget),r=t.prop("value"),n=o(e.currentTarget.form),i=n.prop("action").replace(/%3Aapproval_id/,this.approval.id)+"?_format=json",s=n.prop("method"),a=n.children(':input[name="_csrf_token"]').val(),u=o.param({_csrf_token:a,action:r}),c=this;confirm("Are you sure you want to "+r+" this change?")&&(this.bInFlight=!0,o.ajax(i,{data:u,dataType:"json",method:s,success:function(e){c.alert=null,e.errors?c.errors=e.errors:(c.errors={},c.$emit("approval-updated",e.approval))},error:function(e,t,r){c.errors={},c.alert={cssClass:"alert-warning",message:r}},complete:function(){c.bInFlight=!1}}))}}})}),require.register("web/static/js/business/share_category_form.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ShareCategoryForm=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("../url_parser.js").UrlParser;e.ShareCategoryForm=s["default"].component("share-category-form",{template:"#share-category-form-template",props:["parent-values","action-url","url-params"],data:function(){return{bInFlight:!1,errors:{},values:a.extend({name:null},this.parentValues),alert:null}},methods:{isOtherCategory:function(){return"_other"==this.values.name},onSubmit:function(e){var t=a(e.currentTarget),r=t.serialize(),n=o.parse(this.actionUrl,this.urlParams)+"?_format=json",i=t.prop("method"),s=this;this.values=t.serializeArray().reduce(function(e,t){var r=t.name,n=r.match(/.+?\[(.+)\]/);return n&&(r=n[1]),e[r]=t.value,e},{}),this.bInFlight=!0,a.ajax(n,{data:r,dataType:"json",method:i,success:function(e){s.alert=null,e.errors?s.errors=e.errors:(s.errors={},s.$emit("request-success",e))},error:function(e,t,r){s.errors={},s.alert={cssClass:"alert-warning",message:r}},complete:function(){s.bInFlight=!1}})}}})}),require.register("web/static/js/business/show_change.vue.js",function(e,t,r){"use strict";var n=t("vue/dist/vue");n.component("changes_component",{template:'\n    <template slot="body">\n      <h2>{{ url }}</h2>\n    </template>\n    ',props:[],data:function(){return{showModal:!1,url:null,change:null,fields:null,changeData:null}},methods:{showChangesDialog:function(e){var t=this;$.ajax({method:"get",url:e,success:function(e){t.change=e.change,t.showModal=!0}})}}}),n.component("change-data",{props:["change","fields"],template:"#change-data-template",methods:{}})}),require.register("web/static/js/business/strikeoff_dialog.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{
"default":e}}var i=t("jquery"),s=n(i),a=t("vue/dist/vue"),o=n(a);t("../util.js").DateParser;r.exports=o["default"].component("strikeoff-dialog",{template:"#strikeoff-dialog-template",props:["business","actionUrl","strikeoffOrCancelation"],data:function(){var e=new Date;return{date:{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()},gazette_notice_no:null,reason:null,errors:this.defaultErrors(),alert:!1,bInFlight:!1}},methods:{updateStrikeoffDetails:function(){this.bInFlight=!0,this.errors=this.defaultErrors();var e=this,t={};t=this.isStrikeoff()?{date:this.date,gazette_notice_no:this.gazette_notice_no}:{reason:this.reason},s["default"].ajax({url:this.actionUrl,data:{strikeoff:t},method:"PUT",success:function(t){t.errors?e.errors=t.errors:e.$emit("strikeoff-details-updated",t.business)},error:function(t,r,n){e.alert=r},complete:function(){e.bInFlight=!1}})},defaultErrors:function(){return{date:null,gazette_notice_no:null,reason:null}},unsetDateErrors:function(){this.errors.date=null},isStrikeoff:function(){return"strikeoff"==this.strikeoffOrCancelation}},computed:{}})}),require.register("web/static/js/business/user_profile.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.UserProfile=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("../url_parser").UrlParser,e.UserProfile=s["default"].component("user-profile",{template:"#user-profile-template",props:[],data:function(){return{showProfile:!1,owner_profile:{}}},mounted:function(){var e=this;a.ajax({url:"list-owner-businesses/"+id,method:"GET",success:function(t){console.log(t),e.owner_profile=t.user_data},error:function(){}})}})}),require.register("web/static/js/business_changes/add_business.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=n(a);e["default"]=s["default"].component("add-business-component",{props:["_users","_errors","_id_types","_user_roles"],data:function(){return{users:this._users,showModal:!1,currentUser:{},current_user_errors:{}}},methods:{addUser:function(){this.currentUser={id_type:"",county_id:"",district_id:""},this.showModal=!0},editUser:function(e,t){this.currentUser=o["default"].extend(!0,{},e),this.showModal=!0,this.current_user_errors=this._errors[t]||{}},formatName:function(e){return["local_company","foreign_company","state_corporation"].indexOf(e.id_type)!==-1?e.first_name:e.first_name+" "+e.other_name+"  "+e.last_name}},components:{"user-form":{props:["_user","user_errors","lookup_url","id_types","user_roles","submit_url","_counties","_districts","_localities"],data:function(){return{user:this._user,errors:this.user_errors||{},bInFlight:!1,bLookingUp:!1}},computed:{districts:function(){var e=this;return this._districts.filter(function(t){return t.parent_id==e.user.county_id})},localities:function(){var e=this;return this._localities.filter(function(t){return t.parent_id==e.user.district_id})}},methods:{canBeValidated:function(e){var t=e.id_type;return["citizen","alien"].indexOf(t)!==-1},isCompany:function(e){var t=e.id_type;return["local_company","foreign_company","state_corporation"].indexOf(t)!==-1},isLocal:function(e){var t=e.id_type;return["local_company","citizen","state_corporation"].indexOf(t)!==-1},addressLabel:function(e,t,r){return this.isCompany(e)?r:t},idTypeLabel:function(e,t,r,n,i,s){var a=e.id_type;return{local_company:n,foreign_company:n,citizen:t,alien:t,visitor:i,minor:r,state_corporation:s}[a]},lookup:function(){if(["citizen","alien"].indexOf(this.user.id_type)==-1)return!1;var e=this;e.bInFlight=!0,e.bLookingUp=!0,o["default"].ajax({url:this.lookup_url,data:{citizenship:this.user.id_type,id_number:this.user.id_number,first_name:this.user.lookup_name,with_pin:!1},success:function(t){t.errors?(e.errors=t.errors,e.alert=Array.isArray(t.errors)):(e.user.first_name=t.profile.first_name,e.user.last_name=t.profile.last_name,e.user.other_name=t.profile.other_names,e.errors={})},error:function(e,t,r){console.log(t)},complete:function(){e.bInFlight=!1,e.bLookingUp=!1}})},submitUser:function(){var e=this;e.bInFlight=!0,o["default"].ajax({url:this.submit_url,method:"POST",data:{data:this.user},success:function(t){t.errors?e.errors=t.errors:(e.$emit("users-updated",t.users),e.$emit("exit"))},error:function(e,t,r){console.log(r)},complete:function(){e.bInFlight=!1}})}}}}})}),require.register("web/static/js/business_changes/change_of_address.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i);e["default"]=s["default"].component("address-form-component",{props:["_counties","_districts","_localities","_county","_district","_locality"],data:function(){return{district:this._district,county:this._county,locality:this._locality,counties:this._counties}},computed:{districts:function(){var e=this;return this._districts.filter(function(t){return t.parent_id==e.county})},localities:function(){var e=this;return this._localities.filter(function(t){return t.parent_id==e.district})}}})}),require.register("web/static/js/business_changes/change_of_name.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i);e["default"]=s["default"].component("change-of-name",{props:["nameSearches","initialNameSearchId"],data:function(){return{selectedName:null}},created:function(){this.setNewName(this.initialNameSearchId)},methods:{setNewName:function(e){var t=this.nameSearches.filter(function(t){return t.id==e});t.length>0?this.selectedName=t[0].name:this.selectedName=null}}})}),require.register("web/static/js/business_changes/change_of_type.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i);e["default"]=s["default"].component("change-type-application-form",{props:["_type","_abbreviate"],data:function(){return{conversion_type:this._type,abbreviate:this._abbreviate}}})}),require.register("web/static/js/business_changes/officers.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.form=e.officers=void 0;var i=t("vue/dist/vue"),s=n(i);t("web/static/js/modal/modal");var a=t("web/static/js/business_registration/step4.vue"),o=s["default"].component("officers-details-component",{"extends":a.step4,props:["allocated-shares"],computed:{available_shares:function c(){var e=this,c={};return this.shares.forEach(function(t){var r=e.officers.reduce(function(e,r){return e+(isNaN(r.shares[t.name])?0:r.shares[t.name])},0);c[t.name]=t.number-(r+e.allocatedShares[t.name])}),c}}}),u=s["default"].component("officer-details-form",{"extends":a.ownerForm,methods:{submit:function(){var e=$("#form-container").parents("form"),t=new FormData(e[0]),r=this;this.bSending=!0,$.ajax({method:"POST",url:this.actionUrl,data:t,processData:!1,contentType:!1,success:function(e){e.errors?r.errors=e.errors:(r.$emit("success",e.officer),r.$emit("close"))},error:function(e,t,r){console.log(r)},complete:function(){r.bSending=!1}})}}});e.officers=o,e.form=u}),require.register("web/static/js/business_registration/name_search.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.NameSearch=void 0;var i=t("../url_parser"),s=(n(i),t("vue/dist/vue"));t("jquery"),e.NameSearch=s.component("name-search",{props:["_name","_registration_type","_is_abbreviated","_meaning","_special_instruction"],data:function(){return{name:this._name,registration_type:this._registration_type,is_abbreviated:!(!this._is_abbreviated||"false"==this._is_abbreviated),meaning:this._meaning,special_instruction:this._special_instruction||"none",abbreviations:{private_limited:{full:"LIMITED",abbrev:"LTD"},limited_by_guarantee:{full:"LIMITED",abbrev:"LTD"},public_limited:{full:"PUBLIC LIMITED COMPANY",abbrev:"PLC"},limited_liability_partnership:{full:"LIMITED LIABILITY PARTNERSHIP",abbrev:"LLP"}}}},computed:{registeredName:function(){var e=this.name&&this.name+" "+this.extension||"";return e.toUpperCase()},extension:function(){var e=this.abbreviations[this.registration_type];return e&&this.fullOrAbbrev(this.is_abbreviated,e)||""}},methods:{fullOrAbbrev:function(e,t){return e?t.abbrev:t.full},nameToUpper:function(){var e=this.name.trim();this.name=e&&this.name.toUpperCase()||""}}})}),require.register("web/static/js/business_registration/step1.vue.js",function(e,t,r){"use strict";function n(e){var t=new Date(Date.parse(e));return{year:t.getFullYear()||2017,month:(t.getMonth()||0)+1,day:t.getDate()||1}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue");e["default"]=i.component("business-registration-memorandum",{props:["_documents","registrationType","_objects_select","_objects_regulated","_kra_business_activity_sector_select","_kra_business_activity_division_select","_kra_business_activity_group_select","_kra_business_activity_class_select","_other_objects","_bs_nature_select","_start_date","_bs_nature","_memorandum","_acc_period_end_month","_no_of_employees","_estimated_annual_turnover","_attached_articles","_is_subsidiary","_is_amalgamated","_bond","_company_pin","_amalgamation_date","_tax_payer_name","_tax_payer_email","_is_subsidiary_resident","_subsidiary_kra_pin","_subsidiary_name","_subsidiary_country","_vetting_phone_number","primary_activities","secondary_activities"],data:function(){return{documents:this._documents,memorandum:this._memorandum||"standard",attached_articles:this._attached_articles,start_date:n(this._start_date),bs_nature_select:this._bs_nature_select,bs_nature:this._bs_nature,acc_period_end_month:this._acc_period_end_month,objects_select:this._objects_select,objects_regulated:this._objects_regulated||"N",kra_business_activity_sector_select:this._kra_business_activity_sector_select,kra_business_activity_division_select:this._kra_business_activity_division_select,kra_business_activity_group_select:this._kra_business_activity_group_select,kra_business_activity_class_select:this._kra_business_activity_class_select,other_objects:this._other_objects,no_of_employees:this._no_of_employees,estimated_annual_turnover:this._estimated_annual_turnover,is_subsidiary:this._is_subsidiary,is_amalgamated:this._is_amalgamated,bond:this._bond,company_pin:this._company_pin,tax_payer_name:this._tax_payer_name,tax_payer_email:this._tax_payer_email,amalgamation_date:n(this._amalgamation_date),is_subsidiary_resident:this._is_subsidiary_resident,subsidiary_kra_pin:this._subsidiary_kra_pin,subsidiary_name:this._subsidiary_name,subsidiary_country:this._subsidiary_country,vetting_phone_number:this._vetting_phone_number}},methods:{clearActivities:function(e){for(var t=["kra_business_activity_sector_select","kra_business_activity_division_select","kra_business_activity_group_select","kra_business_activity_class_select"],r=e;r<t.length;r++)this[t[r]]=""},checkUnsetOther:function(e){"other"!=this.bs_nature_select&&(this.bs_nature="")},checkUnsetOtherObjects:function(e){"other"!=this.objects_select&&(this.other_objects="")},isCompany:function(){return["business_name","limited_liability_partnership","foreign"].indexOf(this.registrationType)===-1}},computed:{check_type:function(){return"test"},division_activities:function(){var e=this;return this.secondary_activities.filter(function(t){return t.taxonomy_id==e.kra_business_activity_sector_select})},group_activities:function(){var e=this;return this.secondary_activities.filter(function(t){return t.taxonomy_id==e.kra_business_activity_division_select})},class_activities:function(){var e=this;return this.secondary_activities.filter(function(t){return t.taxonomy_id==e.kra_business_activity_group_select})}}})}),require.register("web/static/js/business_registration/step2.vue.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("vue/dist/vue");t("web/static/js/file_upload.vue");e.businessRegAddresses=n.component("business-registration-addresses",{props:["_addresses","_primary_address","errors","all-districts","all-localities","all-counties"],data:function(){return{primary_address:this._primary_address[0],addresses:this._addresses}},computed:{districts:function(){var e=this;return this.allDistricts.filter(function(t){return t.parent_id==e.primary_address.county})},localities:function(){var e=this;return this.allLocalities.filter(function(t){return t.parent_id==e.primary_address.district})}},methods:{add:function(){this.addresses.push({county:"",district:""})},remove:function(e){this.addresses.splice(e,1)}}}),e.officeAddress=n.component("office-address",{props:["address","all-districts","all-localities","all-counties","errors","index"],computed:{districts:function(){var e=this;return this.allDistricts.filter(function(t){return t.parent_id==e.address.county})},localities:function(){var e=this;return this.allLocalities.filter(function(t){return t.parent_id==e.address.district})}}})}),require.register("web/static/js/business_registration/step3.vue.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("vue/dist/vue"),i=t("web/static/js/util").NumberFormatter;t("web/static/js/file_upload.vue"),n.filter("format_number",i.format_number),e["default"]=n.component("business-registration-shares",{props:["_shares","errors","share_categories"],data:function(){return{shares:this._shares}},computed:{share_capital:function(){return this.shares.reduce(function(e,t){var r=parseInt(t.number)*parseFloat(t.nominal_value);return isNaN(r)?e:e+r},0)},total_shares:function(){return this.shares.reduce(function(e,t){var r=parseInt(t.number);return isNaN(r)?e:e+r},0)}},methods:{add:function(){this.shares.push({category:null,number:null,nominal_value:null})},remove:function(e){this.shares.splice(e,1)},get_available_categories:function(e){var t=this;return this.share_categories.filter(function(r){return t.shares.findIndex(function(t){return"Other"!=r&&t.category==r&&t!=e})==-1})}}})}),require.register("web/static/js/business_registration/step4.vue.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("jquery"),i=t("vue/dist/vue"),s=t("../util.js").DateParser;t("web/static/js/file_upload.vue"),t("web/static/js/modal/modal");var a=i.component("business-registration-owner-information",{props:["business_type","lookup-url","_officers","_shares","_membership_types","all-counties","all-districts","all-localities","with_errors"],data:function(){return{officers:[],current_officer:{},current_officer_errors:{},showAddModal:!1,showEditModal:!1}},computed:{shares:function(){return this._shares.map(function(e){return e.name="Other"==e.category?e.name:e.category,e})},available_shares:function u(){var e=this,u={};return this.shares.forEach(function(t){var r=e.officers.reduce(function(e,r){return e+(isNaN(r.shares[t.name])?0:r.shares[t.name])},0);u[t.name]=t.number-r}),u},membership_types:function(){return"secretary"==this.current_officer.type?this._membership_types.filter(function(e){return"secretary"==e.key}):this._membership_types.filter(function(e){return"secretary"!=e.key})},has_secretary:function(){return void 0!=this.officers.find(function(e){return"secretary"==e.type})},sorted_officers:function(){return this.officers.sort(function(e,t){return e.business_owner_id?-1:1})}},mounted:function(){var e=this;this.officers=this._officers.map(function(t,r){var n=t;return"string"==typeof t.date_of_birth?n.date_of_birth=s.toObject(t.date_of_birth):n.date_of_birth={},n.shares=t.shares||e.shares_map(),n.validating=!1,n})},methods:{canAddMember:function(){switch(this.business_type){case"private_limited":return this.officers.filter(function(e){return"secretary"!==e.type}).length<50;case"business_name":return this.officers.length<20;default:return!0}},id_type:function(e){var t={visitor:"Foreigner",alien:"Foreign Resident",citizen:"Kenyan Citizen",local_company:"Local Company",state_corporation:"State Corporation",foreign_company:"Foreign Company",minor:"Minor",other:"Other"};return t[e.id_type]},member_type:function(e){var t=this._membership_types.find(function(t){return t.key==e.type});return t?t.name:""},shares_map:function(){return this.shares.reduce(function(e,t){return e[t.name]=0,e},{})},_newOwner:function(){return{date_of_birth:{},name:{},former_name:"",id_type:"citizen",type:"",shares:this.shares_map(),shares_paid_up:this.shares_map(),county:"",country:"",district:"",use_alien_card:"true",validating:!1}},add:function(){this.current_officer=this._newOwner(),this.current_officer_errors={},this.showAddModal=!0},addSecretary:function(){var e=this._newOwner();e.type="secretary",this.current_officer=e,this.showAddModal=!0},addLocalRepresentative:function(){var e=this._newOwner();e.type="local_representative",this.current_officer=e,this.showAddModal=!0},addForeignDirector:function(){var e=this._newOwner();e.type="foreign_director",e.id_type="visitor",this.current_officer=e,this.showAddModal=!0},onAddSuccess:function(e){var t=e.officer;t.shares=t.shares||this.shares_map(),t.shares_paid_up=t.shares_paid_up||this.shares_map(),this.officers.push(t)},edit:function(e){var t=n.extend(!0,{},e);t.shares=n.extend(!0,this.shares_map(),t.shares),t.shares_paid_up=n.extend(!0,this.shares_map(),t.shares_paid_up),this.current_officer=t,this.current_officer_errors=this.with_errors[e.id]||{},this.showEditModal=!0},remove:function(e){this.officers.splice(e,1)},onEditSuccess:function(e){var t=e.officer;t.shares=t.shares||this.shares_map(),t.shares_paid_up=t.shares_paid_up||this.shares_map(),this.officers=this.officers.map(function(e,r){return e.id==t.id?t:e}),this.with_errors[t.id]&&delete this.with_errors[t.id]},closeModal:function(){this.current_officer_errors={},this.showAddModal=this.showEditModal=!1}}}),o=i.component("officer-form",{template:"#officer-form-template",props:["_errors","officer","lookup-url","business-lookup-url","action-url","shares","membership_types","all-counties","all-districts","all-localities","available_shares"],data:function(){return{initial_id_number:this.officer.id_number,initial_id_type:this.officer.id_type,initialShareAllocation:n.extend({},this.officer.shares),errors:this._errors,validating:!1,bSending:!1,membershipTypesByType:function(){return"secretary"==this.officer.type?this.membership_types.filter(function(e){return"secretary"==e.key}):this.membership_types}.call(this),lookedUpValues:{id_number:this.officer.id_number,date_of_birth:{year:this.officer.date_of_birth.year,month:this.officer.date_of_birth.month,day:this.officer.date_of_birth.day},first_name:this.officer.name.first_name,last_name:this.officer.name.last_name,other_names:this.officer.name.other_names}}},computed:{has_errors:function(){return!n.isEmptyObject(this.errors)},companyNameCssClass:function(){return"other"==this.officer.id_type,"col-sm-12"}},methods:{zeroPad:function(e){return e<=99&&(e=("0"+e).slice(-2)),e},get_available_shares:function(e,t){return this.officer.id?this.available_shares[e.name]+this.initialShareAllocation[e.name]-t.shares[e.name]:this.available_shares[e.name]-t.shares[e.name]},get_membership_type_name:function(e){var t=this.membershipTypesByType.filter(function(t){return t.key==e});if(1!=t.length)throw e+" not found or found multiple times in membership types";return t[0].name},valid_membership_types:function(e){var t=this.membershipTypesByType;return e.business_owner_id?t.filter(function(e){return["director_shareholder","shareholder","member","director_member","partner","partner_manager","proprietor"].indexOf(e.key)!==-1}):t},canValidate:function(e){return["citizen","alien","local_company"].indexOf(e.id_type)!=-1},owner_is_company:function(e){return["local_company","foreign_company","other"].indexOf(e.id_type)!=-1},lookup:function(e){this.validating=!0;var t=this,r=this.lookupUrl,i={id_number:e.id_number,citizenship:e.id_type,first_name:e.first_name||e.name.first_name};this.owner_is_company(e)&&(r=this.businessLookupUrl,i={reg_no:e.id_number,reg_date:e.date_of_birth}),n.ajax({method:"GET",url:r,data:i,success:function(r){r.errors?(t.errors=r.errors,e.name={},e.gender=null,e.kra_pin=null,t.lookedUpValues={id_number:"",first_name:"",last_name:"",other_names:"",gender:"",date_of_birth:{year:"",month:"",day:""},kra_pin:"",email:""}):(t.errors={},e.id_number=r.profile.id_number,e.name={first_name:r.profile.first_name,last_name:r.profile.last_name,other_names:r.profile.other_names},e.gender=r.profile.gender,e.date_of_birth=s.toObject(r.profile.date_of_birth),e.kra_pin=r.profile.kra_pin,e.email=r.profile.email,t.owner_is_company(e)&&(e.email=r.profile.main_branch.email),t.lookedUpValues={id_number:r.profile.id_number,first_name:r.profile.first_name,last_name:r.profile.last_name,other_names:r.profile.other_names,gender:r.profile.gender,date_of_birth:s.toObject(r.profile.date_of_birth),kra_pin:r.profile.kra_pin,email:e.email})},error:function(e,r,n){t.errors={global:e.statusText}},complete:function(){t.validating=!1}})},districts:function(e){return this.allDistricts.filter(function(t){return t.parent_id===e})},localities:function(e){return this.allLocalities.filter(function(t){return t.parent_id===e})},needs_residence:function(e){return!this.owner_is_company(e)&&(e.type&&["proprietor","partner","manager","partner_manager","director","director_shareholder","director_member","secretary","local_representative","foreign_director"].indexOf(e.type)!==-1)},can_have_shares:function(e){return["shareholder","director_shareholder"].indexOf(e.type)!==-1},submit:function(){var e=n(this.$el).find("form#owner_form"),t=new FormData(e[0]),r=this;this.bSending=!0,n.ajax({method:"POST",url:this.actionUrl,data:t,processData:!1,contentType:!1,success:function(e){if(e.errors)r.errors=e.errors;else{if(e.officer){var t=e.officer.date_of_birth.year,n=r.zeroPad(e.officer.date_of_birth.month),i=r.zeroPad(e.officer.date_of_birth.day);e.officer.date_of_birth={year:t,month:n,day:i}}r.$emit("success",e),r.$emit("close")}},error:function(e,t,n){r.errors={global:e.statusText}},complete:function(){r.bSending=!1}})},shareHasError:function(e,t){return!!this.getShareError(e,t)},getShareError:function(e,t){return this.errors[this.getShareId(e,t)]},getShareId:function(e,t){return e+"_"+t}}});e.step4=a,e.ownerForm=o}),require.register("web/static/js/business_registration/type_abbreviation.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i);e["default"]=s["default"].component("type-abbreviation",{template:"<span>{{extension}}</span>",props:["type","abbreviate"],data:function(){return{abbreviations:{private_limited:{full:"LIMITED",abbrev:"LTD"},limited_by_guarantee:{full:"LIMITED",abbrev:"LTD"},public_limited:{full:"PUBLIC LIMITED COMPANY",abbrev:"PLC"},limited_liability_partnership:{full:"LIMITED LIABILITY PARTNERSHIP",abbrev:"LLP"}}}},computed:{extension:function(){var e=this.abbreviations[this.type];return e?this.abbreviate?e.abbrev:e.full:""}}})}),require.register("web/static/js/confirm_action.js",function(e,t,r){"use strict";function n(e){for(;e&&e.getAttribute;){var t=i(e);if(t){var r=e.getAttribute("data-confirm"),n=e.getAttribute("href");if(null===r||confirm(r)){var a=s(t);a.prop("action",n),a.trigger("submit")}return!0}e=e.parentNode}return!1}function i(e){var t="A"===e.tagName,r=e.getAttribute("data-submit-form"),n=r&&document.getElementById(r);return!(!t||!n)&&n}var s=t("jquery");s.fn.confirmAction=function(e){return e.target&&n(e.target)&&e.preventDefault(),this}}),require.register("web/static/js/confirmed_action.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmedAction=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=t("./url_parser.js").UrlParser;e.ConfirmedAction=s["default"].component("confirmed-action",{template:"#confirmed-action-template",props:["confirm-message","action-url","url-params","data","method","classes"],data:function(){return{bInFlight:!1,extraClasses:this.classes||""}},methods:{confirmAction:function(e){var t=this,r=e.currentTarget;a.confirm({title:"",content:this.confirmMessage||"Are you sure you want to do this?",escapeKey:"cancel",buttons:{cancel:{text:"Cancel",btnClass:"btn-primary btn-sm",action:function(){this.close()}},ok:{text:"Continue",btnClass:"btn-success btn-sm",keys:["enter"],action:function(){t.doAction(r)}}}})},doAction:function(e){var t=a(e.parentNode),r=o.parse(this.actionUrl,this.urlParams||{}),n=this.method||t.children(":input[name='_method']").val()||t.prop("method"),i=this;this.bInFlight=!0;var s=t.serializeArray().reduce(function(e,t){return e[t.name]=t.value,e},{});s._method=n,s=a.extend(s,this.data||{}),this.$emit("before-submit"),a.ajax({url:r,data:s,method:n,dataType:"json",success:function(e,t,r){e.errors?i.$emit("on-error",r,t,"Invalid data provided."):i.$emit("on-success",e)},error:function(e,t,r){i.$emit("on-error",e,t,r)},complete:function(){i.bInFlight=!1}}),this.$emit("on-submit")}}})}),require.register("web/static/js/dashboard/obligations.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=t("vue/dist/vue"),a=n(s),o=t("jquery"),u=n(o);e["default"]=a["default"].component("obligations-component",{template:"#obligations-component-template",props:["data","url"],data:function(){return{showModal:!1,errors:!1,bSending:!1,done:!1}},methods:{send:function(){this.bSending=!0,this.done=!1;var e=this;u["default"].ajax({method:"POST",url:this.url,success:function(t){t.errors&&(e.errors=t.errors)},error:function(t,r,n){e.errors=[{key:"Error",message:n}]},complete:function(){e.bSending=!1,e.done=!0}})}},components:{"render-errors":{name:"render-errors",template:"#render-errors-template",props:["errors"],methods:{typeOf:function(e){return"undefined"==typeof e?"undefined":i(e)}},filters:{humanize:function(e){return e.replace(/_/g," ")}}}}})}),require.register("web/static/js/date_picker.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i),a=t("pikaday"),o=n(a),u=t("moment"),c=n(u);r.exports=s["default"].component("date-input",{template:'<input ref="input" type="text">',props:["value"],data:function(){return{picker:null}},mounted:function(){var e=this,t=new o["default"]({field:this.$refs.input,format:"YYYY-MM-DD",defaultDate:(0,c["default"])(this.value||new Date).toDate(),setDefaultDate:!0,onSelect:function(t){e.$emit("input",(0,c["default"])(t).format("YYYY-MM-DD"))}});this.$emit("input",(0,c["default"])(t.getDate()).format("YYYY-MM-DD"))}})}),require.register("web/static/js/dropdown_submit_link.js",function(e,t,r){"use strict";function n(e){var t="A"===e.tagName,r="parent"===e.getAttribute("data-submit");return t&&r}function i(e){for(;e&&e!==document&&e.nodeType===Node.ELEMENT_NODE;){if("FORM"===e.tagName)return e;e=e.parentNode}return null}function s(e){for(;e&&e.getAttribute;){if(n(e)){var t=e.getAttribute("data-confirm");return(null===t||confirm(t))&&i(e).submit(),!0}e=e.parentNode}return!1}var a=t("jquery");a(".dropdown-menu a[data-submit=parent]").on("click",function(e){if(e.target&&s(e.target))return e.preventDefault(),!1})}),require.register("web/static/js/elm_user_search.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("jquery");e.ElmUserSearch={init:function(){var e=n('[data-role="elm-user-search"]');e.each(function(e,t){var r=n(t),i=r.data("search-url"),s=r.data("label-text"),a=r.data("param-name"),o=r.data("action-url"),u=r.data("csrf-token");Elm.UserSearch.embed(t,{searchUrl:i,labelText:s,paramName:a,actionUrl:o,csrfToken:u})})}}}),require.register("web/static/js/file_upload.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);r.exports=s["default"].component("file-upload",{template:'  <div>    <template v-if="isInvalid()">      <input type="hidden" :name="field" value="remove">      <input :name="field" type="file" class="form-control-file form-control input-sm">    </template>    <template v-else>      <input type="hidden" :name="field" :value="JSON.stringify(value)">      <p class="form-control-static">{{ value.file_name }} (<a href="#" @click.prevent="value = \'remove\'">{{ label }}</a>)</p>    </template>  </div>  ',props:["field","_value","removeLabel","val"],data:function(){return{value:this._value||this.val,label:this.removeLabel||"Remove"}},methods:{isInvalid:function(){return!this.value||this.value&&("remove"==this.value||!!this.value.path)}}})}),require.register("web/static/js/form/county_district_locality.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);r.exports=s["default"].component("county-district-locality",{props:["counties","_county_id","districts","_district_id","localities","_locality_id","_address"],data:function(){return{county_id:this._county_id,district_id:this._district_id,locality_id:this._locality_id}},computed:{currentDistricts:function(){var e=this;return this.districts.filter(function(t){return t.parent_id==e.county_id})},currentLocalities:function(){var e=this;return this.localities.filter(function(t){return t.parent_id==e.district_id})}},watch:{county_id:function(e){this.district_id="",this.locality_id=""},district_id:function(e){this.locality_id=""}},methods:{}})}),require.register("web/static/js/form/postal_code_input.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);r.exports=s["default"].component("postal-code",{template:'  <select :name="name">    <option value="00100">00100 GPO</option>    <option value="00510">00510 MAKONGENI</option>  </select>  ',props:["name","value"],data:function(){return{}},methods:{}})}),require.register("web/static/js/inline_edit.js",function(e,t,r){"use strict";function n(e){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s.find(":input").prop({disabled:e})}function r(){s.find(".form-group.has-error").removeClass("has-error"),s.find(".form-group > span.help-block.error").remove()}function n(){s.toggleClass("hidden show")}var s=i(e);s.on("submit",function(e){e.preventDefault();var a=i(this),o=a.serialize(),u=a.attr("action")+"?_format=json";t(!0),i.ajax(u,{data:o,dataType:"json",method:"post",success:function(e){if(r(),e.errors)Object.keys(e.errors).forEach(function(t){var r=a.find(':input[name*="'+t+'"]').closest(".form-group"),n=i("<span>").prop("class","help-block error").html(e.errors[t]);r.append(n).addClass("has-error")});else{var t=s.siblings(".editable-click"),o=t.data("editable-attribute"),u=o.split(".").reduce(function(e,t){return e[t]},e);t.html(u),n(a)}},error:function(){r()},complete:function(){t(!1)}})}),s.on("reset",function(){r(),n()})}var i=t("jquery");i.fn.inlineEdit=function(e){return this.each(function(){new n(this)})}}),require.register("web/static/js/locations-input-selects.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i),a=s["default"].component("county-select",{props:["value","counties","name","prompt"],template:'<select @input="emitInput($event)" v-model="model" :name="name">\n            <option v-if="prompt" value="" >{{prompt}}</option>\n            <option v-for="county in counties" :value="county.kra_id">{{county.name}}</option>\n        </select>',
data:function(){return{model:this.value}},methods:{emitInput:function(e){this.$emit("input",e.target.value)}}}),o=function(e){return s["default"].component(e,{props:["value","parent-id","options","name","prompt"],template:'<select @input="emitInput($event)" v-model="model" :name="name">\n            <option v-if="prompt" value="" >{{prompt}}</option>\n            <option v-for="option in currentOptions" :value="option.kra_id">{{option.name}}</option>\n            </select>',computed:{currentOptions:function(){var e=this;return this.options.filter(function(t){return t.parent_id==e.parentId})},model:function(){return this.value}},methods:{emitInput:function(e){this.$emit("input",e.target.value)}}})};e["default"]=s["default"].component("county-district-locality-inputs",{props:["address"],data:function(){return{county:this.address?this.address.county:"",district:this.address?this.address.district:"",locality:this.address?this.address.locality:""}},watch:{county:function(e){this.district="",this.emitInput()},district:function(e){this.locality="",this.emitInput()},locality:function(e){this.emitInput()}},methods:{emitInput:function(){this.$emit("input",{county:this.county,district:this.district,locality:this.locality})}},components:{"counties-select":a,"district-select":o("district-select"),"localities-select":o("localities-select")}})}),require.register("web/static/js/merchant_user/edit_merchant_user.vue.js",function(e,t,r){"use strict";var n=t("vue/dist/vue");window.jquery;n.component("merchant-user-form",{props:["signature"],data:function(){return{hidePreview:!1,inputSrc:""}},created:function(){"undefined"==typeof window.FileReader&&(this.hidePreview=!0)},computed:{imgSrc:function(){return this.inputSrc.length?this.inputSrc:this.signature}},methods:{doPreview:function(e){if("undefined"!=typeof window.FileReader){var t=new FileReader,r=e.target,n=this;r.files&&r.files[0]?(t.onload=function(e){n.inputSrc=e.target.result},t.readAsDataURL(r.files[0])):this.inputSrc=""}}}})}),require.register("web/static/js/modal/modal.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);s["default"].component("modal",{template:t("./modal.template"),props:["width"],data:function(){return{modalWidth:this.width||"700px"}}})}),require.register("web/static/js/modal/modal.template.js",function(e,t,r){"use strict";r.exports='<transition name="modal">\n        <div class="modal-mask">\n            <div :style="{width: modalWidth}" style="    display: flex; flex-direction: column; align-content: center; justify-content: center;" class="modal-dialog" role="document">\n                <div class="modal-content">\n                    <div class="modal-header">\n                              <button type="button" class="close" aria-label="Close" @click="$emit(\'close\')">\n                              <span aria-hidden="true">&times;</span>\n                              </button>\n    \n                              <h4 class="modal-title">\n                                <slot name="header">\n                                </slot>\n                              </h4>\n                    </div>\n                    <slot name="body"></slot>\n                </div>\n            </div>\n        </div>\n    </transition>'}),require.register("web/static/js/modal/modal2.template.js",function(e,t,r){"use strict";r.exports='<transition name="modal">\n        <div class="modal-mask">\n            <div :style="{width: modalWidth}" class="modal-dialog" role="document">\n                <div class="modal-content">\n                    <slot></slot>\n                </div>\n            </div>\n        </div>\n    </transition>'}),require.register("web/static/js/modal/modal2.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);t("web/static/js/modal/modal_header.vue"),s["default"].component("modal2",{template:t("./modal2.template"),props:["width"],data:function(){return{modalWidth:this.width||"700px"}}})}),require.register("web/static/js/modal/modal_header.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i);s["default"].component("modal-header",{template:'\n        <div class="modal-header">\n                <button type="button" class="close" aria-label="Close" @click="$emit(\'close\')">\n                <span aria-hidden="true">&times;</span>\n                </button>\n\n                <h4 class="modal-title">{{ title }}</h4>\n        </div>\n    ',props:["title"]})}),require.register("web/static/js/mpsr/backend.js",function(e,t,r){"use strict";t("jquery"),window.moment=t("moment/moment"),t("daterangepicker/daterangepicker")}),require.register("web/static/js/mpsr/cancel_component.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={name:"cancel-component",props:["base-url","account-id","application-id"],data:function(){return{cancelReason:"",errors:"",success:!1}},methods:{submit:function(){var e=this,t=new FormData(this.$refs.form),r=this.baseUrl.replace("_account_id",this.accountId).replace("_application_id",this.applicationId);$.ajax({url:r,method:"POST",data:t,processData:!1,contentType:!1,success:function(t){t.errors?e.errors=t.errors:(e.errors={},e.success=!0,window.location.reload())},error:function(e){}})}}}}),require.register("web/static/js/mpsr/initial_notice.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.Collateral=e.Actor=e.InitialNotice=e.AmountSecured=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=(t("../url_parser.js").UrlParser,t("../util.js").DateParser);e.AmountSecured=s["default"].component("amount-secured",{props:["_currencies","name","_errors","_payments"],data:function(){return{currency:this._payments.currency||"KES",amount:this._payments.amount||null,errors:this._errors||{}}}}),e.InitialNotice=s["default"].component("initial-notice",{props:["_grantors","_creditors","_collaterals","_grantor_errors","_creditor_errors","_collateral_errors","current-account","_beneficiary_type","_payment_errors","_currency_amounts"],data:function(){return{grantors:this._grantors||[],creditors:this._creditors.map(function(e){return e.date_of_judgment=o.toObject(e.date_of_judgment)||{},e})||[],collaterals:this._collaterals||[],beneficiary_type:this._beneficiary_type,currency_amounts:this._currency_amounts||[]}},methods:{_new_payment:function(){return{currency:"",amount:"0"}},_new_actor:function(){return{type:"",identifier:"",name:""}},_new_collateral:function(){return{type:""}},addGrantor:function(){this.grantors.push(this._new_actor())},addCreditor:function(){var e=this._new_actor();e.category_of_secured_creditor="",e.date_of_judgment={},e.type_of_non_secured_creditor="",this.creditors.push(e)},addCollateral:function(){this.collaterals.push(this._new_collateral())},remove:function(e,t){e.splice(t,1)},isDefaultCreditor:function(e){return e.identifier===this.currentAccount.id_number&&e.type===this.currentAccount.id_type}}}),e.Actor=s["default"].component("actor",{props:["_actor","_errors","individual-id-label","index","id-lookup-url","business-lookup-url","company-id-label","individual-name-label","company-name-label","company-search-url","is-default-creditor"],data:function(){return{bInFlight:!1,actor:this._actor,identifier:"",first_name:"",reg_date:{year:"",month:"",day:""},errors:this._errors||{},companySearchModal:!1,searchResults:[],lookup_name:"",amounts_in_judgement:this._actor.amounts_in_judgement||[]}},computed:{iDlabelByType:function(){var e={local_unincorporated:"Registration Number",foreign_company:"Registration Number",foreign_unincorporated:"Registration Number",foreigner:"Passport Number",citizen:this.individualIdLabel,alien:this.individualIdLabel,local_company:this.companyIdLabel};return e[this.actor.type]||"Identifier"},nameLabelByType:function(){return["citizen","alien","foreigner"].indexOf(this.actor.type)!==-1?"Name":"Registered Name"},isOfForeignOrigin:function(){return["citizen","local_company","local_unincorporated"].indexOf(this.actor.type)===-1},countryLabelByType:function(){return["alien","foreigner"].indexOf(this.actor.type)!==-1?"Nationality":"Country Of Incorporation"},isValidatable:function(){return["citizen","alien","local_company"].indexOf(this.actor.type)!==-1},isNaturalPerson:function(){return["citizen","alien","foreigner"].indexOf(this.actor.type)!==-1}},methods:{remove:function(e,t){e.splice(t,1)},businessTypeLabel:function(e){return e.replace(/_/g," ")},actor_type:function(e){return{citizen:"Kenyan Citizen",alien:"Foreign Resident",foreigner:"Foreigner",local_company:"Kenyan Corporation",local_unincorporated:"Kenyan Unincorporated Body",foreign_unincorporated:"Foreign Unincorporated Body"}[e]},setCompanyDetails:function(e){var t=this.searchResults[e],r=t.registration_date.split("-");this.actor.name=t.name,this.actor.identifier=t.registration_number,this.reg_date={year:r[0],month:Number(r[1]),day:Number(r[2])},this.actor.kra_pin=t.pin,this.companySearchModal=!1},companySearch:function(){var e=this;a.get({url:this.companySearchUrl,data:{name:this.lookup_name}}).done(function(t){e.searchResults=t}).fail(function(e){console.log(e)})},input_name:function(e,t){return this.index?e+"["+this+"]["+t+"]":e+"["+t+"]"},lookup:function(){var e=this,t={},r="";"local_company"===this.actor.type?(t={reg_date:this.reg_date,reg_no:this.actor.identifier,with_pin:!1},r=this.businessLookupUrl):"citizen"!==this.actor.type&&"alien"!==this.actor.type||(t={id_number:this.actor.identifier,first_name:this.first_name,citizenship:this.actor.type,with_pin:!1},r=this.idLookupUrl),r&&(this.bInFlight=!0,a.ajax(r,{data:t,success:function(t){t.profile?e.actor.name=t.profile.first_name+" "+t.profile.last_name+" "+t.profile.other_names:t.errors&&(e.errors=t.errors)},error:function(e,t,r){console.log(r)},complete:function(){e.bInFlight=!1}}))}}}),e.Collateral=s["default"].component("collateral",{props:["_errors","_collateral","index"],data:function(){return{collateral:this._collateral,errors:this._errors||{}}},computed:{typeIsOther:function(){return"others"===this.collateral.type},serialLabel:function(){var e={motor_vehicle:"Vehicle Chassis Number"};return e[this.collateral.type]||"Serial Number of Collateral (If Any)"}}})}),require.register("web/static/js/mpsr/search_request.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.SearchRequest=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("../url_parser.js").UrlParser,e.SearchRequest=s["default"].component("collateral-search-request",{props:["_search_criteria","_identifier","_type","_serial_number","individual-label","non-individual-label","search-url"],data:function(){return{search_criteria:this._search_criteria,identifier:this._identifier,type:this._type,serial_number:this._serial_number,searchName:"",showModal:!1,searching:!1,results:[]}},methods:{isIndividualType:function(e){return["citizen","alien","foreigner"].indexOf(e)!=-1},typeLabel:function(e){return this.isIndividualType(e)?this.individualLabel:this.nonIndividualLabel},companyType:function(e){return e.replace(/_/g," ").toUpperCase()},search:function(){this.showModal=!0,this.doSearch()},doSearch:function(){this.searching=!0,this.results=[];var e=this;a.ajax({method:"get",url:this.searchUrl,data:{name:this.searchName},success:function(t){e.results=t},error:function(e){console.log(e)},complete:function(){e.searching=!1}})},select:function(e){this.identifier=e.registration_number,this.searchName=e.name,this.showModal=!1}}})}),require.register("web/static/js/notifications/index.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i),a=t("jquery");e["default"]=s["default"].component("notification-index",{props:["toggle-url","all-notifications"],data:function(){return{info:"",alert:"",selected_item:null,path:null,notifications:this.allNotifications}},methods:{toggle:function(e){var t=this;confirm("Toggle Enabled Status ?")&&a.post(this.toggleUrl.replace("_id",e.id)).then(function(t){e.enabled=!e.enabled}).fail(function(e){t.alert=e.statusText})},onUpdate:function(e){var t=null;t=1===this.path.length?this.notifications.general[this.path[0]]:this.notifications.tasks[this.path[0]].tasks[this.path[1]].actions[this.path[2]],t=Object.assign(t,e),this.selected_item=null,this.info="Updated successfully"}},components:{EditForm:{props:["item","url"],data:function(){return{helpText:this.item.variables,info:"",alert:"",errors:{},currentItem:Object.assign({},this.item)}},methods:{updateData:function(){var e=this;a.post(this.url,this.currentItem).then(function(t){"error"===t.status?e.errors=t.errors:(e.errors={},e.info=t.info,e.$emit("success",t.notification))}).fail(function(t){e.errors={},e.alert=t.statusText})}}}}})}),require.register("web/static/js/prompt.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=function(){function e(e,t){var r=[],n=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,s=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=t("vue/dist/vue"),a=n(s);t("web/static/js/modal/modal");var o='\n    <div style="display: inline-block">\n        <a :style="actionStyle" v-if="showAction" @click.prevent="showModal()" href="#" :class="actionClass">\n            <i :class="actionIcon"></i>\n            {{actionText}}\n        </a>\n        <modal v-if="show" @close="close()">\n            <h4 slot="header">\n                {{title}}\n            </h4>\n            <div slot="body">\n                <form ref="form" :action="url" :method="requestMethod">\n                    <input type="hidden" name="_method" :value="method">\n                    <input type="hidden" name="_csrf_token" :value="csrf_token">\n                    <div style="padding: 10px">\n                        <slot>{{message}}</slot>\n                    </div>\n                </form>\n                <div class="text-right" style="padding: 10px">\n                <button @click.prevent="doCancel()" class="btn" :class="cancelBtnClass">\n                    {{cancelText}}\n                </button>\n                <button @click.prevent="doAction()" class="btn" :class="okBtnClass">\n                    <span v-if="sending" class="fa fa-spinner fa-spin"></span>\n                    {{okText}}\n                </button>\n            </div>\n            </div>\n        \n        </modal>\n    </div>\n';a["default"].component("prompt",{template:o,props:{showAction:{"default":!0},url:{"default":!1},title:{"default":"Confirm"},beforeSubmit:{"default":function(){return function(){return Promise.resolve(!0)}}},message:{"default":"Are you sure you want to do this?"},ajax:{"default":!0},method:{"default":"GET"},actionClass:{"default":""},actionStyle:{"default":function(){return{}}},actionText:{"default":"Confirm"},actionIcon:{"default":""},payload:{"default":function(){return{}}},cancelText:{"default":"Cancel"},okText:{"default":"Continue"},okBtnClass:{"default":"btn-warning"},cancelBtnClass:{"default":"btn-success"}},data:function(){return{show:!this.showAction,sending:!1,csrf_token:window.CSRF_TOKEN}},computed:{requestMethod:function(){var e=(this.method||"GET").toLowerCase();return"get"!==e&&"post"!==e&&(e="post"),e}},methods:{showModal:function(){$(this.$el).parents(".dropdown-menu").css({display:"block"}),this.show=!0},close:function(){this.showAction?this.doCancel():this.$emit("close")},doCancel:function(){$(this.$el).parents(".dropdown-menu").css({display:""}),this.$emit("cancelled"),this.show=!1},doAction:function(){var e=this;return this.url?void this.beforeSubmit().then(function(t){return!!t&&void(e.ajax?e.performAjax():e.performRequest())}):(this.$emit("confirmed"),this.show=!1,!0)},performAjax:function(){var e=this;this.sending=!0;var t=new FormData(this.$refs.form);Object.entries(this.payload).forEach(function(e){var r=i(e,2),n=r[0],s=r[1];t.append(n,s)});var r={},n=!0,s=!1,a=void 0;try{for(var o,u=t.entries()[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=i(o.value,2),l=c[0],d=c[1];r[l]=d}}catch(f){s=!0,a=f}finally{try{!n&&u["return"]&&u["return"]()}finally{if(s)throw a}}$.ajax({method:this.method,url:this.url,data:r,success:function(t){e.$emit("success",t),e.showAction&&e.doCancel()},error:function(t){e.$emit("failed",t)},complete:function(){e.sending=!1}})},performRequest:function(){"get"===this.requestMethod?window.location.href=this.url:this.$refs.form.submit()}}})}),require.register("web/static/js/roles/create.js",function(e,t,r){"use strict";r.exports={template:"#create-role-modal-template",props:["endpoint","resource_permissions","role"],data:function(){return{bInFlight:!1,errors:{},alert:null}},computed:{role_permissions:function(){var e=this;return this.resource_permissions.reduce(function(t,r){return r.perms.forEach(function(r){t[r.key]=e.role.permissions.indexOf(r.key)!=-1}),t},{})}},methods:{onSubmit:function(){var e=this,t=$(this.$el).find("form#create-role-form").serialize();e.bInFlight=!0,$.ajax({method:"POST",url:this.endpoint,data:t,success:function(t){t.errors?e.errors=t.errors:e.$emit("on-success",t.role)},error:function(t,r,n){e.alert=n},complete:function(){e.bInFlight=!1}})}}}}),require.register("web/static/js/roles/roles.manager.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i),a=t("jquery");r.exports=s["default"].component("merchant-roles-manager",{props:["roles","resource_permissions","roles_path"],data:function(){return{showCreateRoleDialog:!1,showEditRoleDialog:!1,currentEdit:{},editPath:""}},computed:{all_roles:function(){return this.roles}},components:{"create-role-dialog":t("./create")},methods:{editRole:function(e){this.currentEdit=a.extend(!0,{},e),this.editPath=this.roles_path+"/"+e.id,this.showEditRoleDialog=!0},handleEditSuccess:function(e){var t=this.roles.findIndex(function(t){return t.id==e.id});this.roles.splice(t,1,e),this.showEditRoleDialog=!1},handleCreateSuccess:function(e){this.roles.push(e),this.showCreateRoleDialog=!1},confirmDelete:function(e){var t=this;a.confirm({title:"Delete Role",content:"Are you sure you want to delete this role?",escapeKey:"cancel",buttons:{cancel:{text:"Cancel",btnClass:"btn-primary btn-sm",action:function(){this.close()}},ok:{text:"Delete",btnClass:"btn-danger btn-sm",keys:["enter"],action:function(){t.doDelete(e)}}}})},doDelete:function(e){var t=this.roles.findIndex(function(t){return t.id==e.id});this.roles.splice(t,1),a.ajax({url:this.roles_path+"/"+e.id,method:"DELETE"})}}})}),require.register("web/static/js/select-box.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=n(a),u='\n<select ref="select" class="form-control input-sm" :name="name" v-bind:value="value">\n  <option v-for="option in options" :value="option[valueKey]">{{ option[labelKey] }}</option>\n</select> \n';e["default"]=s["default"].component("select-box",{template:u,props:["name","value","options","opt-label","opt-value","prompt"],data:function(){return{valueKey:this.optValue||"value",labelKey:this.optLabel||"key"}},methods:{setValue:function(e){var t=e.target.value;this.$refs.select.value=t,this.$emit("input",t)}},mounted:function(){var e=this;(0,o["default"])(this.$el).select2({placeholder:this.prompt}).siblings("span.select2.select2-container").css("width","100%"),(0,o["default"])(this.$el).select2().on("select2:select",function(t){e.setValue(t)})}})}),require.register("web/static/js/services/edit.js",function(e,t,r){"use strict";var n=t("tinymce");t("tinymce/themes/modern/theme"),t("tinymce/plugins/code/plugin"),t("tinymce/plugins/preview/plugin"),n.init({selector:"[data-role='rich-text']",theme:"modern",plugins:"code preview",skin_url:"/css/skins/lightgray",browser_spellcheck:!0,a_plugin_option:!0,a_configuration_option:400,allow_script_urls:!0})}),require.register("web/static/js/slugger.js",function(e,t,r){"use strict";function n(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}var i=t("jquery");i.fn.slugger=function(e){var t=this.closest("form").find(':input[name="'+this.data("slug-source")+'"]'),r=this;if(!t)throw"Slug element must have a data-slug-source attribute with the name of the form input to sluggify.";return t.on("input",function(e){r.val(n(this.value))}),this}}),require.register("web/static/js/socket.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("phoenix"),i=new n.Socket("/socket",{params:{token:window.userToken}});i.connect();var s=i.channel("topic:subtopic",{});s.join().receive("ok",function(e){console.log("Joined successfully",e)}).receive("error",function(e){console.log("Unable to join",e)}),e["default"]=i}),require.register("web/static/js/toggle_visible.js",function(e,t,r){"use strict";var n=t("jquery");n.fn.toggleVisible=function(e){return this.on("click",function(e){e.preventDefault();var t=n(this).data("toggle-visible");n(t).toggleClass("hidden show")}),this}}),require.register("web/static/js/url_parser.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.UrlParser={parse:function(e,t){var r=Object.keys(t);return r.reduce(function(e,r){var n="%3A"+r;return e.replace(new RegExp(n,"g"),t[r])},e)}}}),require.register("web/static/js/user_search.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("jquery");e.UserSearch={run:function(e){var t=e.endpoint,r=n('input[data-role="user-search"]'),i=new Bloodhound({queryTokenizer:Bloodhound.tokenizers.whitespace,datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},identify:function(e){return e.id},remote:{url:t,prepare:function(e,t){return Object.assign(t,{data:{q:e}})}}}),s=n('input[data-role="user-search"]').closest("form").find(':input[id="'+r.data("target")+'"]'),a=r.typeahead({},{name:"user-search",source:i,display:"name"});a.on("typeahead:select",function(e,t){s.val(t.id)})}}}),require.register("web/static/js/user_search.vue.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmedAction=void 0;var i=t("vue/dist/vue"),s=n(i),a=t("jquery");t("./url_parser.js").UrlParser,e.ConfirmedAction=s["default"].component("user-search",{template:'\n    <form @submit.prevent="search">\n        <div v-if="error" class="alert alert-danger">{{ error }}</div>\n        <div class="form-group">\n            <div class="input-group">\n                <input v-model="term" type="text" class="form-control" id="account_search_term" :placeholder="this.searchPrompt || \'ID Number e.g. 22000000\'">\n                <span class="input-group-btn">\n                    <button :disabled="!term" @click="search" class="btn btn-default" type="button">Search!</button>\n                </span>\n            </div><!-- /input-group -->\n            <div v-if="!!users" class="table-responsive">\n                <table v-if="users.length > 0" class="table">\n                <caption>Select the user to continue.</caption>\n                <thead>\n                    <tr>\n                    <th>Name</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for="a in users">\n                    <td>\n                        <label>\n                            <input type="radio" :value="a.id" v-model="selectedId"> {{ a.fullname }}\n                        </label>\n                    </td>\n                    </tr>\n                </tbody>\n                </table>\n            </div>\n        </div>\n    </form>\n    ',props:["account-id","search-url","search-prompt"],data:function(){return{bLoading:!1,term:null,selectedId:null,users:null,error:null}},watch:{selectedId:function(e){var t=this.users.filter(function(t){return t.id==e})[0];this.$emit("user-selected",t)}},methods:{search:function(){var e=this;this.bLoading=!0,a.ajax({method:"GET",url:this.searchUrl,data:{search:{q:e.term}},success:function(t){t.users&&t.users.length>0?(e.error=null,e.users=t.users):t.errors?e.error=t.error:e.error="Couldn't find individuals matching your search criteria."},error:function(t,r,n){e.error=t.statusText+": please try again."},complete:function(){e.bLoading=!1}}),this.$emit("search-started")}}})}),require.register("web/static/js/util.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DateParser={toObject:function(e){var t=Date.parse(e)||null,r=new Date(t);return{year:r.getFullYear(),month:("0"+(r.getMonth()+1)).slice(-2),day:("0"+r.getDate()).slice(-2)}}},e.NumberFormatter={format_number:function(e){return e.toLocaleString()}},e.shareCategoryNameOrOther=function(e){var t=e.name,r=e.other_name;return"_other"==t?r:t}}),require.register("web/static/js/verify_me.js",function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t)}function i(e){this.$modal=s(e);var t=this.$modal.find("form[id=send]");this.$modal.on("shown.bs.modal",function(e){var r=s(e.relatedTarget),i=r.data("target-input"),a=t.find(":input[id="+i+"]");n(a.length,"Modal trigger element must have a data attribute data-target-input whose value matches and id of an input element within the form."),a.val(r.data("value")),t.attr("action",r.data("url"))}),t.on("submit",function(e){e.preventDefault();var t=s(this),r=t.serialize(),n=t.attr("action")+"?_format=json";s.ajax(n,{data:r,dataType:"json",method:"post",success:function(e){e.errors&&console.log(e.errors)},error:function(){console.log(arguments)}})})}var s=t("jquery");s.fn.verifyMe=function(e){return this.each(function(){new i(this)})}}),require.register("web/static/js/vue_country_selector.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("vue/dist/vue"),s=n(i),a=t("jquery"),o=n(a);s["default"].component("country-selector",{template:'<select v-model="country" @change="$emit(\'changed\', country)" class="form-control input-sm" :name="name"></select>',props:["name"],data:function(){return{country:""}},mounted:function(){(0,o["default"])(this.$el).countrySelector()}})}),require.register("web/static/js/xeditable.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("jquery");e.XEditable={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.fn.editable.defaults.mode="inline",n.fn.editable.defaults.ajaxOptions={type:"PUT"},e.editable(n.extend(t,{params:function(e){var t=n(this).data("csrf-token"),r={_format:"json",_csrf_token:t};return r[e.name]=e.value,r},success:function(e,t){if(e.errors){var r=Object.keys(e.errors)[0];return e.errors[r]}}}))}}}),require.register("lib/js/web/bs/change_of_officials.js",function(e,t,r){"use strict";var n=t("vue/dist/vue"),i=n.component("change-of-officials",{data:function(e){return e},methods:{resignation:function(e){return e}}});e.comp=i}),require.alias("jquery/dist/jquery.js","jquery"),require.alias("phoenix/priv/static/phoenix.js","phoenix"),require.alias("phoenix_html/priv/static/phoenix_html.js","phoenix_html"),require.alias("moment/moment.js","moment"),require.alias("vee-validate/dist/vee-validate.js","vee-validate"),require.alias("vue/dist/vue.runtime.common.js","vue"),require.alias("pikaday/pikaday.js","pikaday"),require.alias("daterangepicker/daterangepicker.js","daterangepicker"),require.alias("process/browser.js","process"),require.alias("tinymce/tinymce.js","tinymce"),e=require("process"),require.register("___globals___",function(e,t,r){window.$=t("jquery"),window.jQuery=t("jquery")})}(),require("___globals___"),require("web/static/js/app");  K   https://brs.ecitizen.go.ke/js/app-cce8aa2933efd580043d53d3258e9de0.js?vsn=d   !!!!            !!!!       C       	                 	   F     F     !!!!                               	   
                              !!!!            !!!!            !!!!            !!!!            !!!!    !!!!          B    @     @                  5!!!!          B K  y  C  y     K            5!!!!          B     |                        B                        55!!!!       	   B   <    <                 5!!!!       
   B G  a  ?  a     G            5!!!!          B l    d       l            5!!!!          B   1    1                 5!!!!          b B  O  :  O     B            5!!!!    !!!!    !!!!          B     }                   5!!!!          b <    4       <            5!!!!          b                         5;                            !   "   #   $   %   &   '                                  0      =       '                        Q=      5        [      Q[      Q[      Q[   5      Q      Q      Q    	  Q    
  Q	      Q
      Q   W   Q      Q      0   Q      Q      Q      Q         0   0   Q      0	   Q   5
   E0      Q   5
   AV            ,  R "      Q      0   Q      E   (   Q   5   *   0   Q   C0   Q      0   Q0   Hh`MHh`MHh`Hh`Hh`Hh`Hh`Hh`H  h`H9h`HIh`Hzh`H%h`H%h`H  h`H$h`Hh`Hh`H  h`H  HQh`H`Hh`HHHH`   5!!!!       C       Q                Q   I    M   !!!!                 !!!!       B                          	                              5   B    :    :                 5   B U  z  M  z     U           5   B                        5   B                               B   i    i                 5   B x    p       x            5   B                         555!!!!       C                                  !!!!
                               	          !!!!               &                 &  Q    Q       !!!!                !!!!       !!   !!    ;         F                                      T  E      QT  5             T        [   T  ]      H *h`HHa         5!!!!          c       _                 _    W        !!!!                 !!!!    	        l  Q  b  Q     l            5!!!!    	      b `    X       `            5;                                                  Q   H Qh`M  a   5!!!!       !!   !!!!   !!!!   !!!!   !!    !!!!       !!   !!!!   !!    !!!!          C                                   !!!!               !!!!       !!   !!    ;                                             [       ]    H h`MHa       5!!!!       !!   !!    !!!!          C                                !!!!                          !!!!    	      b |    t       |            5;                        $                                	 	W   QW  QV     QV       ?E      Q>(V   ?7I         V   ?7   	   @	      QV  5   Z    0   Q      
T  :    
    QH h`Hh`HH(h`HH`H`LW` 5!!!!       !!   !!    !!!!       !!   !!    !!!!          C                     i    i      !!!!                  ;                           D                                    W   QV   5    5   5   =   0   Q      
=   T  =    QN h`H%H`L$`       5!!!!       !!   !!    !!!!       B                        5!!!!        C                                    !!!!               !!!!       B  A    9       A           5;   q                                              =    :    
    QH h`H`H`Lo`  5!!!!        C                        2    2       !!!!                    ;
      r  s  t  u  v  w     x  y     )                                       5   5   W   QV      
=   : W  QV      
>V  : W   QV   E3   	   Q   =   V   =   :    
=	   :    QH h`Hh`H`Hh`H`HH`H`H`       5!!!!       B h    `       h            5!!!!       B                       5;3   x                              |   t      z                                                                                                                                                W    B    W   Q   :     QT =     QT =    QT =    QT =    QT =    QT =    QT =    QT =    QT =    QT =	   : W  QV   V  : W  QT =
   : W  QV   V  : W  QT =   :    Q   T =   : 0   QV  5      
V  5   [   =   ]   C]   =   ]   =   ]    QV  5      
[      ]   [      ]   ]    QV  5      
=   [   [	   
   ]   ]    QV  5   A[   =   ]   ,  R Q       
    Q   =!   : "   
  Q   =#   : $   
  Q   =%   : &   
  Q   ='   : (   
  QT =)    QT =*    QT =+    Q       Q   ,   : -   
    Q   =.   : /   
=0       Q   =1   : /   
=2       QH Wh`N `Hh`H`L`L`L`L`L`L`L$`L`L%h`H`Hh`H`Hh`H`Hh`H`Hh`H`Hh`H`HHHNH
H`L[HH'M	H`L %H,M	H`L  HH`L-H`L`H`L
`H`L`H`L`H`L
`L`L#`L`L  `H`L  `H`LH`H`L1`   5!!!!       B   O"    O"            	       	       :  e  0  e     :            5   B  0  ]  (  ]     0            5   B  n    f       n           5   B   !    !                 5   B 6    .       6           5   B                        5   B "           "            5   B                        5   B    K"    K"                55!!!!       B "  |)  "  |)     "              	       "  "  "  "     "            5   B  &  ['  &  ['     &            5   B  l'  m(  d'  m(     l'                  B '  '  '  '     '            5   B '  G(  '  G(     '            5   B  Y(  j(  Q(  j(     Y(            55   B  ~(  0)  v(  0)     ~(                  B (  (  (  (     (            5   B (  )  (  )     (            55   B K)  m)  C)  m)     K)           55!!!!       B )  ,  )  ,     )          	       )  *  )  *     )            5   B  *  n+  *  n+     *             B >+  h+  6+  h+     >+            55   B +  +  +  +     +            5   B  +  ,  +  ,     +                  B T,  ,  L,  ,     T,           555!!!!       B -  X.  -  X.     -          	       3-  ^-  )-  ^-     3-            5   B  -  -  -  -     -            5   B -  T.  -  T.     -           55!!!!       B .  =  .  =     .              	       .  .  .  .     .            5   B  /  -0  /  -0     /           5   B  O0  0  G0  0     O0           5   B 0  1  0  1     0           5   B *1  1  "1  1     *1                  B h1  1  `1  1     h1            55   B 1  2  1  2     1            5   B ,2  N2  $2  N2     ,2            5   B g2  2  _2  2     g2           5   B 2  2  2  2     2            5   B 2  3  2  3     2           5   B 43  3  ,3  3     43           5   B 3  /4  3  /4     3           5   B  4  i5  x4  i5     4           5   B  5  W6  z5  W6     5                  B 5  U6  5  U6     5            55   B  i6  ?9  a6  ?9     i6                  B )7  8  !7  8     )7            5   B 8  <9  8  <9     8            55   B  ]9  N:  U9  N:     ]9           5   B  \:  ;  T:  ;     \:                  B :  V;  :  V;     :            5   B  e;  ;  ];  ;     e;            55   B  ;  <  ;  <     ;            5   B  <  <  <  <     <           5   B <  ^=  <  ^=     <           5   B t=  =  l=  =     t=           55!!!!       B =  }C  =  }C     =                  	       >  :>  >  :>     >            5   B  ?  ?  ?  ?     ?            5   B ?  #@  ?  #@     ?           5   B <@  w@  4@  w@     <@           5   B @  @  @  @     @           5   B  mA  A  eA  A     mA            5   B A  yC  A  yC     A                 B B  C  B  C     B            5   B C  RC  	C  RC     C            5   B  dC  vC  \C  vC     dC            555!!!!       B C  wG  C  wG     C              	       C  D  C  D     C            5   B  E  EE  E  EE     E            5   B eE  E  ]E  E     eE            5   B E  _F  E  _F     E           5   B tF  F  lF  F     tF            5   B F  sG  F  sG     F            55!!!!       B G  Q  G  Q     G                  	       G  H  G  H     G            5   B  ~I  I  vI  I     ~I           5   B  I  BJ  I  BJ     I                  B J  @J  J  @J     J            55   B  WJ  J  OJ  J     WJ                  B J  J  J  J     J            55   B  J  J  J  J     J           5   B  K  L  J  L     K                  B 2K  XK  *K  XK     2K            5   B wK  K  oK  K     wK            5   B K  L  K  L     K            55   B  L  .O  L  .O     L                          B iN  N  aN  N     iN            5   B  O  +O  N  +O     O            55   B @O  P  8O  P     @O                 B P  yP  P  yP     P            5   B P  P  P  P     P            5   B  P  P  P  P     P            555!!!!       B LQ  t_  DQ  t_     LQ              	       kQ  Q  aQ  Q     kQ            5   B  R  S  R  S     R            5   B  S  T  S  T     S             B S  T  S  T     S            55   B  ,T  T  $T  T     ,T           5   B  T  U  T  U     T           5   B 2U  rU  *U  rU     2U           5   B U  U  U  U     U           5   B  U  V  U  V     U           5   B V  )X  V  )X     V           5   B @X   Y  8X   Y     @X                  B X  X  X  X     X            55   B   Y  7Z  Y  7Z      Y                  B Y  Y  {Y  Y     Y            5   B Y  Z  Y  Z     Y            5   B  #Z  4Z  Z  4Z     #Z            55   B UZ  ZZ  MZ  ZZ     UZ            5   B uZ  Z  mZ  Z     uZ           5   B Z  $[  Z  $[     Z           5   B  A[  |[  9[  |[     A[           5   B [  [  [  [     [           5   B [  
\  [  
\     [            5   B  \  \  \  \     \            5   B  \  \  \  \     \            5   B ]  p_  ]  p_     ]           	      B ^  ^  ^  ^     ^            5   B _  H_  ^  H_     _            5   B  Z_  l_  R_  l_     Z_            555!!!!       B _  Ac  _  Ac     _              	       _  
`  _  
`     _            5   B  `  9a  `  9a     `            5   B  Za  a  Ra  a     Za           5   B  a  Ob  a  Ob     a           5   B nb  b  fb  b     nb           5   B b  =c  b  =c     b           55!!!!       B c  <i  c  <i     c                  	       c  c  c  c     c            5   B  e  ye  e  ye     e           5   B  e  f  e  f     e                          B [f  f  Sf  f     [f            5   B  f  f  f  f     f            55   B g  8i   g  8i     g                 B g  h  g  h     g            5   B Uh  h  Mh  h     Uh            5   B h  i  h  i     h            5   B  #i  5i  i  5i     #i            555!!!!       B i  t  {i  t     i                  	       i  i  i  i     i            5	       i  j  i  j     i            5   B  nk  Cl  fk  Cl     nk           5   B fl  l  ^l  l     fl           5   B l  m  l  m     l           5   B ,m  nm  $m  nm     ,m           5   B  m  n  m  n     m                  B m  n  m  n     m            5   B (n  ]n   n  ]n     (n            5   B  on  n  gn  n     on            55   B n  n  n  n     n            5   B n  n  n  n     n           5   B o  oo  o  oo     o           5   B  o  o  o  o     o           5   B o  7p  o  7p     o                  B p  #p  o  #p     p            55   B Rp  p  Jp  p     Rp                  B p  p  {p  p     p            55   B p  q  p  q     p           5   B q  Rq  q  Rq     q           5   B iq  q  aq  q     iq            5   B  'r  ^r  r  ^r     'r            5   B  ur  yr  mr  yr     ur            5   B r  t  r  t     r           	      B t  wt  t  wt     t            5   B t  t  ~t  t     t            5   B  t  t  t  t     t            555!!!!       B Bu    :u       Bu       /               	       au  u  Wu  u     au            5   B u  u  u  u     u            5   B u  [v  u  [v     u            5   B  w  +z  w  +z     w           5   B  Nz  z  Fz  z     Nz                  B uz  z  mz  z     uz            5   B z  z  z  z     z            55   B  {  N{  z  N{     {             B -{  L{  %{  L{     -{            55	   	   B  j{  }  `{  }     j{           	      B {  {  {  {     {            5   B {  j|  {  j|     {             B =|  h|  5|  h|     =|            55   B |  	}  |  	}     |            5   B +}  }}  #}  }}     #              B P}  {}  H}  {}     H             55   B }  }  }  }                   B }  }  }  }                  555   B  ~  Z~  ~  Z~                  B :~  U~  2~  U~     2            55   B u~  ~  m~  ~     m            5   B ~    ~                        B ~    ~                   55   B  *  6  "  6     "            5   B J    B       B                  B p    h       h            55   B                        5   B   A    A                5   B [  _  S  _     S                  B                        5   B 
  ?    ?                 55   B      w       w           5   B   ]    ]                           B j    b       b            5   B                        5   B   5    5                 5   B  G  Z  ?  Z     ?            55   B {    s       s                 B                        55   B   K    K                5   B a    Y       Y           5   B                        5   B                              B                        55   B   O    O                      B 2  M  *  M     *	            55   B  e  -  ]  -     ]	           5   B  E    =       =
           5   B            
           5   B                              B =  `  5  `     5            55   B                              B                        55   B                        5   B    D    D                5   B _    W       W                  B                        55   B 
  t    t                      B ?  i  7  i     7            55   B                       5   B   5    5                5   B  T    L       L           5   B   /    /                      B   -  
  -     
            55   B I    A       A           5   B                       5   B $                            B g    _       _            55   B  	                      5   B                        5   B  )  J  !  J     !           5   B f    ^       ^                 B                        5   B                        5   B                         55   B  V    N       N           5   B                             B   ,    ,                 5   B ;  b  3  b     3            5   B  t    l       l            55   B  /    '       '           5   B                             B \    T       T            5   B                        5   B                         555!!!!       B n  4  f  4     f       %       	                              5   B                        5   B    #    #                 5   B B    :       :!                  B p    h       h!            55   B              !                  B            !            55   B             "                  B ]    U       U"            55   B            "                  B            "            55   B 3  w  +  w     +#                  B a  u  Y  u     Y#            55   B     ~       ~#            5   B            #           5   B   ;    ;     #          5   B Y    Q       Q%           5   B   <    <     %                  B            %            55   B \    T       T&                  B            &            55   B            &           5   B   s    s     '                  B U  q  M  q     M'            55   B            '                 B            '            55   B   ;    ;     '           5   B X    P       P(                  B            (            55   B            (           5   B .  ]  &  ]     &)          5   B {  6  s  6     s*                  B            *            55   B V    N       N+                  B            +            55   B            +                  B !  _    _     ,            55   B             ,           5   B            -           5   B .    &       &.                  B s    k       k.            55   B            .                  B            .            55   B             /           5   B  ,    $       $0                  B v    n       n0            55   B    D    D     0                  B   ?    ?     1            55   B  V    N       N1           5   B             1                  B '  r    r     2            5   B     y       y2            5   B             2            55   B    l    l     3            5   B            3           5   B            3           5   B    .    .     4                 B s    k       k5            5   B   	    	     5            5   B    +    +     6            555!!!!       B {    s       s6          	                  6            5   B             7           5   B            8           5   B    7    7     9            5   B  P    H       H:                  B I  7  A  7     A;            5   B F  \  >  \     ><            5   B  n    f       f<            55   B             <           55!!!!       B            =                       
   	       -  X  #  X     %=            5   B Y    Q       Q>            5   B  Z    R       R?            5   B   M    M     ?             B   =    =     @            55   B  r  o  j  o     j@                  B   j    j     @                 B   J    J     @            555   B             A             B            A             B              A            555   B            B            5   B .  -  &  -     &C            5   B  B    :       :D           5   B   C    C     D             B #  A    A     E            55   B ]    U       UE            5   B            E            5   B   <    <     E           5   B S    K       KF             B            F            55   B            G           5   B            G           5   B &  I    I     H            5   B  z    r       rI                  B             J            55   B   J    J     K           5   B  i  	  a  	     aL           5   B  %           M           5   B    m    m     M           5   B      y       yN           5   B             N           5   B             O           5   B    ]    ]     O                  B 0  [  (  [     (P            55   B  r    j       jP                  B            P            55   B            P           5   B             Q                  B   q    q     S            5   B     x       xT            5   B             T            55   B  $           U                  B     
       
W            5   B   7    7     W            5   B F    >       >X            5   B             X            555!!!!       B            Y                  	       4  _  *  _     ,Y            5   B  Q    I       IZ           5   B   '    '     [            5   B  F    >       >\                  B   \    \     \            5   B k  }  c  }     c]            5   B             ]            55   B            ]            55!!!!       B :  G  2  G     2^              	       Y    O       Q^            5   B  S  _  K  _     K`            5   B  p  <  h  <     h`           5   B  S  "  K  "     Ka           5   B  3    +       +b           5   B            b           5   B            c           5   B   &    &     c                  B   $    $     d            55   B ?    7       7d                  B            d            55   B            d           5   B 	  /    /     e           5   B A  e  9  e     9e           5   B z    r       re                  B            e            55   B 
  3    3     f           5   B M    E       Ef                  B            f            55   B            f           5   B   C  	  C     	g            55!!!!       B   @    @     g              	                  g            5   B  i    a       ah            5   B             h                  B            i            5   B            i            5   B             i            55   B    <    <     i                  B             j           5   B  &  7    7     k            555!!!!       C      k                            !!!!	                                      !!!!               k                              !!!!                !!!!       !!   !!    ;         F                                      T  E      QT  5             T        [   T  ]      H kh`HHa         5!!!!       !!   !!    !!!!       !!   !!!!   !!!!   !!!!   !!!!   !!    !!!!    	      B  J    B       Bm            5!!!!       !!   !!!!   !!!!   !!!!   !!!!   !!!!   !!!!   !!!!   !!    !!!!    	      B    ^    ^     m             B   Z    Z     n            55!!!!    	      B z    r       rn           5!!!!    	      B            n           5!!!!    	      B   S    S     o           5!!!!    	      B  r  t  j  t     jp                  B   
    
     p            5   B   N    N     q            5   B  `  q  X  q     Xq            55!!!!    	      B            q           5!!!!    	      B   "    "     q            5!!!!            !!!!       !!   !!!!   !!!!   !!!!   !!    !!!!    	      B             r            5!!!!       !!   !!!!   !!    !!!!    	      B  )  -  !  -     !s            5!!!!    	      B ?    7       7s           	      B   +    +     t            5   B :  {  2  {     2u            5   B             u            55;#                           t                                                                                                                8        W   Q       
T  =   [   C]    QT  T  >(0   0   QT =   : W  QV   V  : W  QT =   : W  QV   V   QT =   :    QT =	   : 5
   W  QT  V  5      
=   [   =   ]   Z   =   `    =   `   =   `   ]      ]   [      ]      ]      ]   	   ]   
   ]      ]      ]   V  ]   ]   [   ]   : 0   QT  V  5      
=   [   =   ]   Z   =    `    ]      ]   [      ]!      ]"   ]   : 0   QH kh`H&N`L*N*Hh`H`Hh`H`Hh`H`Hh`H`L`Hh`H`H(h`H=H&MHHHH  M	H  H{H  H  H !HtH:HH`H }HJH-MHHEM	HH;`H =`   5!!!!       B   X    X     u                  	         @    @     v            5   B      }       }w           5   B    '    '     w           5   B 9  T  1  T     1x                 B   5    5     x            5   B     ~       ~y            5   B   -    -     y            5   B  ?  Q  7  Q     7z            555!!!!       B            z             B  \    T       T{            5   B   +    +     {                 B   (    (     {            555!!!!       B   `    `     |              	         )    )     |            5   B                         5   B                               B   @    @                 5   B O  a  G  a     3            5   B  s    k       W            55   B                         5   B    	    	                5   B    P    P                55!!!!       B                          	                              5   B                         5   B  +    #                         B ~    v       b            5   B                         555!!!!       B                      	       5 ` + `                5   B  E  =     )           5   B                    5   B                   5   B  -  -    {	            5   B         
           5   B  ;  3                       B o  g     S            55   B                           B                    55   B 2 p * p                5   B   {     g            5   B  P  P                5   B f  ^     J           5   B  #  #                5   B  3 f
 + f
                      B F	 	
 >	 	
    *            5   B 
 /
 
 /
                5   B  A
 c
 9
 c
    %            55   B  z
  r
     ^                  B 
 D 
 D                5   B S j K j    7            5   B  |  t     `            555!!!!       B  o  o              	        6  6                5   B  "                  5   B                           B                    55   B   k 	 k                      B F i > i    *            555!!!!       B                  	                          5   B                     5   B   &  &               5   B C  ;     '                  B n  f     R            555!!!!       B  e  e              	       6 a , a                5   B    b  b               55!!!!       B                  	                          5	   	   B  E  ;     )                	      B {  s     _                 B                    555   B  w  o     [                 B 0  (                 5   B        r            5   B                     555!!!!       B 9  1               	       X  N     <            5   B   m  m    z           5   B         s            5   B   Y  Y                5   B y  q     ]!            5   B         !           55!!!!       C      &"                B ) : )     !!!!                          !!!!    	       a  W     E"            5!!!!       !!   !!    !!!!       !!   !!!!   !!!!   !!!!   !!    !!!!      !!'  !!(  !!)  !!*  !!+  !!,  !!-  !!.  !!/  !!0  !!1  !!2  !!3  !!4  !!5  !!6  !!7  !!8  !!9  !!:  !!;  !!<  !!=  !!>  !!?  !!@  !!A  !!B  !!C  !!D  !!E     !!!!    	      B    $   $    %           5!!!!       !!F  !!!!G  !!!!H  !!!!I  !!    !!!!    	   F  B % % 	% %    *           5!!!!    	   G  B % +& % +&    +           5!!!!    	   H  B K& & C& &    /,           5!!!!    	   I  B  & ' & '    |,           5!!!!       !!J  !!!!K  !!!!L  !!!!M  !!    !!!!    	   J  B   ' 0' ' 0'    -            5!!!!    	   K  B  M' ' E' '    1-                  B ' ' ' '    o-            55!!!!    	   L  B  ' i( ' i(    -                  B %( g( ( g(    	.            55!!!!    	   M  B  ( ) {( )    g.                  B (  ) (  )    .            55;                     N        F  G  H  I     J  K  L  M           ^                                        Q       
T  =   [   C]    QT =   : W   QT  V      
=   [   f   ]      ]   [      ]	      ]
   	   ]   
   ]   ]   [      ]      ]      ]      ]   ]   : 0   QH "h`H&N`L0h`H`Hh`H=H H M	H  HQHZH}M
H$H  H  H`H ` 5!!!!       C      8/                T) - L) -     !!!!                        !!!!       !!   !!    !!!!       !!   !!!!   !!!!   !!!!   !!    !!!!      !!O  !!P  !!Q  !!R  !!S  !!T     !!!!          C     m0               * * * *     !!!!                !!!!       !!j  !!!!g  !!    ;   P  j  O  g  +                                     W   Q[   V   5    >7]   V   5   ]   N 0ph`MH)Ha         5!!!!       !!U  !!!!V  !!    !!!!       U  C      0               * ]+ * ]+     !!!!                   !!!!       k  c     1                 *+ [+ "+ [+      !!!!               ;   p  j                                          T  5       5   5   H 1h`H,a        5;   l  m  *                                     W   QV      QV   5       
   : N 0h`Hh`H`KAa  5!!!!       V  C      U1               q+ + i+ +     !!!!                   !!!!       n  c     1                 + + + +      !!!!               ;   p  j                                          T  5       5   5   H 1h`H.a        5;   o  m  *                                     W   QV      QV   5       
   : N 1^h`Hh`H`KCa  5!!!!       !!W  !!!!X  !!    !!!!       W  C     1               + $, + $,     !!!!                !!!!       !!  !!!!  !!    ;   g  h         4                                     W   QV   5       
[   =   ]   =   ]    QN 1h`HH
H`L`         5!!!!       X  C    2               4, S, ,, S,     !!!!                  ;   g  i                                      W   QV   5       
T  ? QN 2h`H`L`       5!!!!       !!   !!!!   !!    !!!!      !!  !!R  !!S  !!T  !!Q  !!Y     !!!!       !!U  !!!!V  !!    !!!!    	   U  B  , U- , U-    2                  B *- S- "- S-    3            55!!!!    	   V  B  i- - a- -    M3                  B - - - -    3            55;                  Z     [        U  V     W  X     \  ]  ^     g                             "    	        
T  =   [   C]    QT =   : W   QT =    QT  V      
=   [   f   ]      ]	   [      ]
      ]   ]   [   	   ]   
   ]   ]   : 0   QT  V      
=   [   f   ]   [      ]
      ]   ]   : 0   QH /Mh`H&N`L0h`H`Hh`H`L"h`HFHaH\M
H|H  M	H=H`H iH.HSM
HtH`H g`   5!!!!       B . 1 . 1    4             B  h/ / `/ /    L5           5   B  / "0 / "0    5             B / 0 / 0    5            55   B  80 0 00 0    6             B ]0 0 U0 0    A6            55   B  0 0 0 0    6           5   B 1 1 0 1    6           5   B ?1 1 71 1    #7                      B z1 1 r1 1    ^7                 B 1 1 1 1    7            5555!!!!       B $2 R 2 R    8       '              B  3 +4 3 +4    9            5   B  E4 4 =4 4    ):             B h4 4 `4 4    L:            55	      B  4 s5 4 s5    :                      B 4 o5 4 o5    :                 B 5 V5 5 V5    :            555   B  5 G6 5 G6    q;             B 5  6 5  6    ;            5   B (6 E6  6 E6    <            55   B  ^6 6 V6 6    B<             B 6 6 6 6    o<            55   B  6 7 6 7    <             B 6 7 6 7    <            55   B  #7 8 7 8    =                  B Z7 8 R7 8    >=            55   B  #8 8 8 8    >             B {8 8 s8 8    _>            55   B 8 9 8 9    >            5   B 9 U: 9 U:    ?                  B ': @: : @:    @            55   B  i: : a: :    M@             B : : : :    r@            55   B  : ; : ;    @           5   B  ; ; ; ;    ~A           5   B  < f< < f<    A           5   B  < < ~< <    jB           5   B  = z= < z=    B           5   B = > = >    tC           5   B "> ? > ?    D           5   B $? B? ? B?    E           5   B Y? C@ Q? C@    =E                 B ? @ ? @    E            55   B  W@ @ O@ @    ;F           5   B  A 1D A 1D    G             B  yB B qB B    ]H             B B B B B    H            555   B  OD vD GD vD    3J           5   B  D D D D    wJ           5   B D E D E    J            5   B )E E !E E    K           5   B E F E F    K                  B F 2F F 2F    L            55   B F G F G    L             B G G F G    L            55   B G G G G    M            5   B H TH G TH    M            5   B dH M \H M    HN                      B I L I L    mO            5   B L L L L    R            5   B  M M L M    R            55   B +M tM #M tM    S                  B WM rM OM rM    ;S            55   B M M M M    lS                  B M M M M    S            55   B M N M N    S           5   B N -O N -O    T            5   B  =O SQ 5O SQ    !U                 B O P O P    U            5   B Q -Q P -Q    V            5   B  ?Q PQ 7Q PQ    #W            55   B jQ Q bQ Q    NW           5   B Q Q Q Q    W           5   B Q Q Q Q    W            55!!!!       B uR U mR U    YX          	       R R R R    xX            5   B  S T S T    {Y            5   B  T U T U    Z           55!!!!       C      6[                 RU -W JU -W     !!!!                              !!!!    	       qU IV gU IV    U[            5!!!!    	       SV V IV V    7\            5!!!!    	      b V ,W V ,W    \           5;   t         >                                            Q      QT =    :    Q   5      0   QH \h`H`Hh`HU`    5!!!!       C      T]         
       pW ] hW ]  	   !!!!                                   !!!!               s]                 W W W W      !!!!                !!!!       !!   !!    ;         F                                      T  E      QT  5             T        [   T  ]      H ]wh`HHa         5!!!!       !!   !!    !!!!       !!   !!!!   !!!!   !!!!   !!    !!!!      !!  !!  !!   !!   !!!  !!      !!!!    	      B  Y FY Y FY    ^           5!!!!       !!   !!!!"  !!    !!!!    	      B fY Z ^Y Z    J_                     B  ;Z KZ 3Z KZ    `           5   B  Z Z Z Z    `            55!!!!    	   "  B Z ] Z ]    `                 B [ [ [ [    }a            5   B A\ \ 9\ \    %b            5   B \ \ \ \    b            5   B  \ \ \ \    b            55;               #     t   $           %  &              "        a                      
               W   Q       
T  =   [   C]    QT  >(0   QT =   : W  QV   V  : W  QT =   :    QT =   : 5      QT  V  5	   
   
=   [   =   ]   f   ]      ]   [      ]      ]   ]   : 0   QH ]h`H&N`L*KHh`H`Hh`H`Hh`H`Hh`H`Hh`H=H&HNHDM	H dH`H ` 5!!!!       B W] a O] a    ;c                  	       v] ] l] ]    Zc            5   B ^ 0^ ^ 0^     d            5   B 9^ ^ 1^ ^    d            5   B  \_ _ T_ _    @e            5   B  _ ` _ `    e                  B ` 5` ` 5`    e            5   B D` o` <` o`    (f            5   B  ` ` y` `    ef            55   B a Pa a Pa    g            5   B la a da a    Pg            55!!!!       B a 9d a 9d    g               	   	       a b a b    g            5   B  b b b b    h            5   B  c 6d b 6d    h                  B c c c c    i            555!!!!       C      `j                |d f td f     !!!!                                !!!!    	       d d d d    j            5!!!!    	       d ke d ke    j            5!!!!    	       ue f ke f    Yk            5!!!!       B Vf f Nf f    :l            5;   t            U                                           Q      Q      QT =    : W   QV   =   :    
=       QH kh`H`Hh`H`H)`LN`  5!!!!       B f _h f _h    l                 B  Fg ]h >g ]h    *m             B g [h yg [h    em            555!!!!       C      n         
       h k h k     !!!!                              !!!!               n                 h h h h      !!!!                !!!!       !!   !!    ;         F                                      T  E      QT  5             T        [   T  ]      H nh`HHa         5!!!!       !!   !!!!   !!!!   !!!!   !!    !!!!    	      B  8k k 0k k    q           5!!!!       !!_  !!    !!!!    	   _  B  k k k k    q           5;            `  a     b  c  d  e        _     f     F                      
               W   QT =    : W  QV   V  : W  QT V  5      
=   [   =   ]   Z   =   `    =   `   =   `   =	   `   ]
      ]   [      ]   ]   : 0   QH nh`H`Hh`H`Hh`H0H MHH	HHHVM	H`H `  5!!!!       B <l )o 4l )o     r          	       [l l Ql l    ?r            5   B  Qm m Im m    5s           5   B  m /n m /n    s                  B 	n -n n -n    s            55   B  Jn n Bn n    .t                  B ~n n vn n    bt            55   B n n n n    t           5   B o o n o    t           55!!!!       B ro p jo p    Vu          	       o o o o    uu            5   B  p p p p    v            55!!!!       C      v                 q (u 	q (u     !!!!                           !!!!    	       0q t &q t    w                          	        >q q 4q q    "w           5	        q #r q #r    w            5	        -r Mr #r Mr    x            5   B nr t fr t    Rx                 B s wt s wt    x                  B Es s =s s    )y            5   B Qt ct It ct    5z            55   B  t t ~t t    jz            5   B  t t t t    z            55   B  t t t t    z            55!!!!          c      z               t 'u t 'u     !!!!                  !!!!    	     b  u %u u %u    z           5;                                         W   QV       
   : N zh`H`Ka  5;   t         3                                            QT =    :    Q   5      0   QH zh`H`Hh`HF`   5!!!!       C      V{                ru | ju |     !!!!                                   !!!!               u{                 u u u u      !!!!                !!!!       !!   !!    ;         F                                      T  E      QT  5             T        [   T  ]      H {yh`HHa         5!!!!       !!   !!    !!!!       !!   !!!!   !!!!   !!!!   !!    !!!!    	      B  ow w gw w                5!!!!       !!  !!    !!!!    	     B w w w w    E            5!!!!          C     z                  w $z w $z     !!!!                !!!!       !!   !!!!   !!!!   !!!!   !!    !!!!      !!   !!  !!  !!  !!     !!!!       !!  !!!!  !!    !!!!    	     B  by y Zy y                       B y y y y    1            55!!!!    	     B  y y y y    e           5!!!!       !!  !!    !!!!    	     B y  z y  z               5;
                             d   +                                      5       
T  [   f   ]   =   ]   [      ]      ]   ]   [      ]   ]	   : H~h`H!H6H 
M
HnH%M	H`K /a    5!!!!       !!   !!!!   !!!!  !!!!   !!!!  !!    !!!!    	      B  z { z {    )           5!!!!       !!  !!!!  !!!!  !!    !!!!    	     B 6{ \{ .{ \{               5!!!!    	     B n{ { f{ {               5!!!!    	     B { { { {    D           5!!!!       !!  !!    !!!!    	     B  { 2| { 2|    v           5!!!!       !!  !!!!  !!!!  !!    ;                                                                                                   4        W   Q       
T  =   [   C]    QT =   : W  QV   V  :    Q   5      
=   [   Z   =   `    =   `   =	   `   =
   `   ]   =   ]      ]   [      ]   ]   : W  Q   W  QT     5      
=   [   Z   =   `    ]   	   ]   [
      ]      ]      ]   ]   [      ]   ]   [   V  ]   V  =   : ]   V  =   : ]   ]   : 0   QH {h`H&N`L0h`H`Hh`H`Hh`H(MHHHH
PH*M	XH {`PHrh`H Qh`HGMHH  MH6H8H(M	HnMHH`HH`H`H i` 5!!!!       B | 2 | 2                 B  z} } r} }                5   B  } } } }    O           5   B  ~ G~ ~ G~               5   B d~ . \~ .                     B ~ ~ ~ ~    }            555!!!!       B l ^ d ^    
          	              )            5   B  1 [ ) [               55!!!!       B  P  P    ?	            5!!!!       B        2            5!!!!       B $ B  B              	       C n 9 n                5   B   ?  ?               55!!!!       B  b  b    %          	              D            55!!!!       B        ;            5!!!!       B H  @                  B   "  "                5   B  ;  3                       B  p  p                5   B   w                 555!!!!       B        n                  	                          5   B  l  d     
           5   B         w             B % h  h                55   B   &  &                5   B  : c 2 c                5   B  |  t                 5   B         A           5   B   m  m               5   B    |     "           5   B        c            5   B  R  R               5   B  U F M F               5   B  g  _                5   B         I           5   B  &                  5   B         :            5   B   d  d                5   B  }  u     !           5   B        |!            5   B  ,  ,    !            5   B @ ! 8 !    !            5   B < 2 4 2    "           5   B  I  A     #                  B        B$            5   B        g$            55   B  ,  ,    $           5   B  <  4     $                  B  @  @    ^&            5   B O f G f    &            5   B  x  p     '            55   B   8  8    '           5   B  W  O     '           5   B         3(           55!!!!       B X @ P @    (              	       w  m     )            5   B         *           5   B        t+            5   B " s  s    +           5   B        &,            5   B         c,           5   B         ,                  B   x     -            5   B        =-            5   B         b-            55   B  <  <    -           55!!!!       B  d ~ d    $.              	              C.            5   B         </           5   B        /                      B   w     0            5   B        E0            55   B        r0           5   B   g  g    1           5   B   ^ | ^    "2                  B  (  (    _2            5   B 7 \ / \    2            555!!!!       B        ;3              	              Z3            5   B         3               	               3            5   B        4            55   B    }     #;             B         5;            55   B  W c O c    ;            5   B         Y<            5   B  c  [     =           5   B   #  #    k=           5   B  @  8     =           5   B         :>           5   B   E  E    >           5   B  W  O     >                  B        9?            55   B   \  \    ?    
                  B        (@            5   B        zA            5   B  7  7    A            5   B  I Y A Y    A            55   B  t  l     B           55!!!!       B         B             B         +C            5   B   }  }    |C                  B  x  x    C                 B A t 9 t    C            555   B         7D                  B - i % i    D            5   B x  p     E            5   B         :E            555!!!!       B        E              	        @  @    E            5   B   =  =    F            5   B  Z o R o    F           5   B  $  $    YG           5   B ?  7     G                  B f | ^ |    H            55   B        mH           5   B  Q  Q    H                      B         zI           5   B  ; L 3 L    I            55   B c  [     J                  B        (J            555!!!!       C      J                1  )   	   !!!!	                                      !!!!               J                 P { F {      !!!!                !!!!       !!   !!    ;         F                                      T  E      QT  5             T        [   T  ]      H Jh`HHa         5!!!!       !!   !!    !!!!       !!   !!!!   !!!!   !!!!   !!!!  !!    !!!!      !!  !!   !!  !!  !!  !!     !!!!    	      B  5 ~ - ~    L           5!!!!       !!	  !!    !!!!    	   	  B        7M           5!!!!    	     B         M                  B        ^N            55;                  t   
                   	          a                                 
    W   Q       
T  =   [   C]    QT =   : W  QV   V  : W  QT =   : W  QV   V  :    Q=   W  QT  V  5      
=	   [   V  ]
   f   ]      ]   [      ]   ]      ]   : 0   QH Kh`H&N`L0h`H`Hh`H`Hh`H`Hh`H`Hh`H  h`H2HHBHWM	H\H`H ` 5!!!!       B  m  m    N            5!!!!       C      AP                 s  s     !!!!                          !!!!    	        G  G    `P            5!!!!          c      Q               n r f r     !!!!                       !!!!    	      b R k J k    Q           5;
                                    9                                 W  QV      
=   :    
=   V     
=   : =   : W   QV     QV          =   p   V      
=	       QV  N Qh`H`H*`H`H6h`Hh`Hh`Hhh`HH`L.La    5;   t         1                                           QT =    : W   QV   5      0   QH Ph`H`Hh`H `  5!!!!       B        FR             B        *S            5   B        mS            55!!!!       C      S                 A 
 9 
     !!!!                        !!!!          c      !T                	 { 	     !!!!                  !!!!    	      b        DT           5;         %                                    W   QV       
=       QV   N T%h`HH`LqLa    5;   t         (                                      T =    :    Q   5      0   QH Sh`H`Hh`H  `    5!!!!       C      T                 C  ;      !!!!                      !!!!       !!   !!    !!!!       !!   !!    !!!!    	      B        BU                 B        uU            55;                     <                                             
T  =   [   C]    QT  [      ]   0   QH Th`H&N`L*h`HH  ` 5!!!!       B T  L     U                 B        dV                 B Z  R     V            5   B        >W            5   B        mW            5   B        [X            555!!!!       B   	     X              	       0 [ & [    X            5   B         B_            5   B  `  `    _                  B * = " =    _            55   B  z  r     `                  B        `            5   B        0a            5   B         ua            555!!!!       C      a                 ?  7      !!!!                      !!!!       !!   !!    !!!!       !!   !!    !!!!    	      B  4  4    Bb            5!!!!       !!   !!    !!!!    	      B _ } W }    b            5!!!!    	      b        @c            5;	                              b   )                                          
T  =   [   C]    QT  [      ]   0   QT  [      ]   0   QT     0   QH ah`H&N`L*h`HH  HH6HY`  5!!!!       C      c                  0 	 0     !!!!                              !!!!    	       0 O & O    c            5!!!!    	       Y  O     c                 B        \d            5   B        e             B        %f            5   B         Xf           555!!!!    	      b  /  /    f             B   -  -    f           55;   t         >                                            Q      QT =    :    Q   5      0   QH f}h`H`Hh`HD`    5!!!!       B s  k     g              	              0g            5   B         Vh            5   B         }h           55!!!!       C      h                 J 9 B 9     !!!!                        !!!!       !!   !!    !!!!       !!   !!    !!!!    	      B  7  7    Zi            B {  s     j           5   B  3  3    j            55;               t         N   )                                          
T  =   [   C]    QT =   :    QT  [      ]   0   QH hh`H&N`L0h`H`Hh`HH `  5!!!!       B {  s     k             B        xk            5   B        k            55!!!!       C     #n                   }       !!!!                      ;      t         /                                 
         T =   : 6   Q    T =   : 6   QH n+h`H	`HH`H`         5;d         !   (   )   *   +   ,   -   .   /   0   1   2   3   4   5   6   7   8   9   :   ;   <   =   >   ?   @   A   B   C   D   E   F   G   H   I   J   K   L   M   N   O   P   Q   R   S   T   U   V   W   X   Y   Z   [   \   ]   ^   _   `   a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q   r      s   t   u   v   w   x   y   z   {   |   }   ~                                                                    Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=	       Q      
=
       Q      
=   	    Q      
=   
    Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=       Q      
=        Q      
=!       Q      
="        Q      
=#   !    Q      
=$   "    Q      
=%   #    Q      
=&   $    Q      
='   %    Q      
=(   &    Q      
=)   '    Q      
=*   (    Q      
=+   )    Q      
=,   *    Q      
=-   +    Q      
=.   ,    Q      
=/   -    Q      
=0   .    Q      
=1   /    Q      
=2   0    Q      
=3   1    Q      
=4   2    Q      
=5   3    Q      
=6   4    Q      
=7   5    Q      
=8   6    Q      
=9   7    Q      
=:   8    Q      
=;   9    Q      
=<   :    Q      
==   ;    Q      
=>   <    Q      
=?   =    Q      
=@   >    Q      
=A   ?    Q      
=B   @    Q      
=C   A    Q      
=D   B    Q      
=E   C    Q      
=F   D    Q      
=G   E    Q      
=H   F    Q      
=I   G    Q      
=J   H    Q      
=K   I    Q      
=L   J    Q      
=M   K    Q   N   
=O   =P    Q   N   
=Q   =R    Q   N   
=S   =T    Q   N   
=U   =V    Q   N   
=W   =X    Q   N   
=Y   =Z    Q   N   
=[   =\    Q   N   
=]   =^    Q   N   
=_   =`    Q   N   
=a   =b    Q      =`   : W   Q      
=c   L    QH Zh`Nh`H`L nH`L 	H`L fH`L %H`L MH`L H`L @H`L H`L H`L 	H`L iH`L H`L H`L H`TH H`L H`L H`L H`L +H`L 	HH`L H`L 
_H`L H`L 2H`TH FH`L ^H`L 
H`L H`L NH`L H`L xH`L H`L 
H`L H`L H`L  =H`L H`L H`L H`L zH`L H`L QH`L H`L H`L 5H`L H`L IH`TH IH`L H`L $H`L H`L H`L UH`L H`L  H`L ~H`L H`L &H`L H`L aH`L H`L 8H`L H`L H`L H`L H`L  H`L H`L H`L 	1H`L H`L OH`L H`L H`L  H`L(H`L2H`LAH`L#H`L:H`L.H`L&H`L>H`L&H`L&H`HH`LY`  5;            <                                          :   Q     Q        =    Q        =    Qh`N F`M^H n\`L`L`L`  cb@      ^i^iAt`J   L    :https://brs.ecitizen.go.ke/js/app-cce8aa2933efd580043d53d3258e9de0.js?vsn=d necko:classified 1 strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAAAAgAAAAAAAAAAAAAAAAAAAAEAMwFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAVhMIIFXTCCBEWgAwIBAgISA1IFiTIIX1Mfx+jQTZOk32HdMA0GCSqGSIb3DQEBCwUAMEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQDExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0yMDAyMTUwODE5MzNaFw0yMDA1MTUwODE5MzNaMB0xGzAZBgNVBAMTEmJycy5lY2l0aXplbi5nby5rZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAPHqwfc3+gcZMSqNi7KIFBJ+LmGW5Te4ygNCele+bidFW4t6UAfUIywBesIz/94GLDvx+EgOmR4fL0zCw6DDhWlMX7a48YfOrXddn+tim7ijbm2u5o+jYk3Boa0J4xijhk9I8P1uIHfxxnIGcXeYmUBEwQdOP90d1zMH8RonQeDHIXjZb8wEK7eIhqvc8DEfwz4cTiMiA66AQ9kOMwoHygtUEpb5+34RDDblhPefgqlL/ooBfGB5gqQZ6GUM4qCadSLJAFhY3DlftPMgdtukvai4ciTpU/dCYw9yjj0cMeQFLaWsuf5pLCKJbjHX0IrS999bzliAxVxPtRFtzbd2mW0CAwEAAaOCAmgwggJkMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDAYDVR0TAQH/BAIwADAdBgNVHQ4EFgQUbidIvSjDDydQ8JJ4Iz3+/38SkdwwHwYDVR0jBBgwFoAUqEpqYwR93brm0Tm3pkVl7/Oo7KEwbwYIKwYBBQUHAQEEYzBhMC4GCCsGAQUFBzABhiJodHRwOi8vb2NzcC5pbnQteDMubGV0c2VuY3J5cHQub3JnMC8GCCsGAQUFBzAChiNodHRwOi8vY2VydC5pbnQteDMubGV0c2VuY3J5cHQub3JnLzAdBgNVHREEFjAUghJicnMuZWNpdGl6ZW4uZ28ua2UwTAYDVR0gBEUwQzAIBgZngQwBAgEwNwYLKwYBBAGC3xMBAQEwKDAmBggrBgEFBQcCARYaaHR0cDovL2Nwcy5sZXRzZW5jcnlwdC5vcmcwggEFBgorBgEEAdZ5AgQCBIH2BIHzAPEAdwBep3P531bA57U2SH3QSeAyepGaDIShEhKEGHWWgXFFWAAAAXBIJV7lAAAEAwBIMEYCIQCuGp9pW8nPR18LmSuyKQsQha7Vqnmm/FCGVkFdr9DfRAIhALygTsDJtLA7gPoNSHrjGaIwfGQT2UGyodpA6jQlf508AHYAsh4FzIuizYogTodm+Su5iiUgZ2va+nDnsklTLe+LkF4AAAFwSCVe5AAABAMARzBFAiEAnzFdKNnpTDAH2G4hByGqbBAy1qcOpeK/QiW7JLsJZN4CIADbl+Dc6/MNbdbRudH+0J/QZstFiYEtof1f4FUmr1oHMA0GCSqGSIb3DQEBCwUAA4IBAQCLX57emEgxWcZsk9mO9rLfVC+3EfKxQiUKSyMow8UBdKHoR+bLOLNUBpGIt/rMDeeh46JKZ7QNNVkO3I1w2G6h59SANMiLuJkhixjoLLFjeVyAmGmaokPDE2rcNeOEd5yx4aaTAp6+1r8/f0y8y35+00iR3n+92xv/H79m/0TGs+/zqfq7n33epa9LvQSwvMwNVQin1pyXZCU55/Z6QQ/AOyJxVvhwkVp0jdgA31lNS/4vAYyrecxWnaFB7VSA1PGQqr55jkl/id+Icms6DuADb4q/uFSL88Rp1uKVDlXcoIoiI+bWVk+/ge0vrd2p12yHlCNFDQJdsO5k7c9A4gjtwDAAAwAAAAABAQAAAAAAAARub25lAAAAEFJTQS1QS0NTMS1TSEEyNTYAA2YKMiaRXE/7uyCJhaYy3wW9w5eaVCJM1YWJaWtuluqDAAAAAAAABWEwggVdMIIERaADAgECAhIDUgWJMghfUx/H6NBNk6TfYd0wDQYJKoZIhvcNAQELBQAwSjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUxldCdzIEVuY3J5cHQxIzAhBgNVBAMTGkxldCdzIEVuY3J5cHQgQXV0aG9yaXR5IFgzMB4XDTIwMDIxNTA4MTkzM1oXDTIwMDUxNTA4MTkzM1owHTEbMBkGA1UEAxMSYnJzLmVjaXRpemVuLmdvLmtlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA8erB9zf6BxkxKo2LsogUEn4uYZblN7jKA0J6V75uJ0Vbi3pQB9QjLAF6wjP/3gYsO/H4SA6ZHh8vTMLDoMOFaUxftrjxh86td12f62KbuKNuba7mj6NiTcGhrQnjGKOGT0jw/W4gd/HGcgZxd5iZQETBB04/3R3XMwfxGidB4McheNlvzAQrt4iGq9zwMR/DPhxOIyIDroBD2Q4zCgfKC1QSlvn7fhEMNuWE95+CqUv+igF8YHmCpBnoZQzioJp1IskAWFjcOV+08yB226S9qLhyJOlT90JjD3KOPRwx5AUtpay5/mksIoluMdfQitL331vOWIDFXE+1EW3Nt3aZbQIDAQABo4ICaDCCAmQwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAMBgNVHRMBAf8EAjAAMB0GA1UdDgQWBBRuJ0i9KMMPJ1DwkngjPf7/fxKR3DAfBgNVHSMEGDAWgBSoSmpjBH3duubRObemRWXv86jsoTBvBggrBgEFBQcBAQRjMGEwLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3NwLmludC14My5sZXRzZW5jcnlwdC5vcmcwLwYIKwYBBQUHMAKGI2h0dHA6Ly9jZXJ0LmludC14My5sZXRzZW5jcnlwdC5vcmcvMB0GA1UdEQQWMBSCEmJycy5lY2l0aXplbi5nby5rZTBMBgNVHSAERTBDMAgGBmeBDAECATA3BgsrBgEEAYLfEwEBATAoMCYGCCsGAQUFBwIBFhpodHRwOi8vY3BzLmxldHNlbmNyeXB0Lm9yZzCCAQUGCisGAQQB1nkCBAIEgfYEgfMA8QB3AF6nc/nfVsDntTZIfdBJ4DJ6kZoMhKESEoQYdZaBcUVYAAABcEglXuUAAAQDAEgwRgIhAK4an2lbyc9HXwuZK7IpCxCFrtWqeab8UIZWQV2v0N9EAiEAvKBOwMm0sDuA+g1IeuMZojB8ZBPZQbKh2kDqNCV/nTwAdgCyHgXMi6LNiiBOh2b5K7mKJSBna9r6cOeySVMt74uQXgAAAXBIJV7kAAAEAwBHMEUCIQCfMV0o2elMMAfYbiEHIapsEDLWpw6l4r9CJbskuwlk3gIgANuX4Nzr8w1t1tG50f7Qn9Bmy0WJgS2h/V/gVSavWgcwDQYJKoZIhvcNAQELBQADggEBAItfnt6YSDFZxmyT2Y72st9UL7cR8rFCJQpLIyjDxQF0oehH5ss4s1QGkYi3+swN56HjokpntA01WQ7cjXDYbqHn1IA0yIu4mSGLGOgssWN5XICYaZqiQ8MTatw144R3nLHhppMCnr7Wvz9/TLzLfn7TSJHef73bG/8fv2b/RMaz7/Op+ruffd6lr0u9BLC8zA1VCKfWnJdkJTnn9npBD8A7InFW+HCRWnSN2ADfWU1L/i8BjKt5zFadoUHtVIDU8ZCqvnmOSX+J34hyazoO4ANvir+4VIvzxGnW4pUOVdygiiIj5tZWT7+B7S+t3anXbIeUI0UNAl2w7mTtz0DiCO1mCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAASWMIIEkjCCA3qgAwIBAgIQCgFBQgAAAVOFc2oLheynCDANBgkqhkiG9w0BAQsFADA/MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMTDkRTVCBSb290IENBIFgzMB4XDTE2MDMxNzE2NDA0NloXDTIxMDMxNzE2NDA0NlowSjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUxldCdzIEVuY3J5cHQxIzAhBgNVBAMTGkxldCdzIEVuY3J5cHQgQXV0aG9yaXR5IFgzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnNMM8FrlLke3cl03g7NoYzDq1zUmGSXhvb418XCSL7e4S0EFq6meNQhY7LEqxGiHC6PjdeTm86dicbp5gWAf15Gan/PQeGdxyGkOlZHP/uaZ6WA8SMx+yk13EiSdRxta67nsHjcAHJyse6cF6s5K671B5TaYucv9bTyWaN8jKkKQDIZ0Z8h/pZq4UmEUEz9l6YKHy9v6Dlb2honzhT+Xhq+w3Brvaw2VFn3EK6BlspkENnWAa6xK8xuQSXgvopZPKiAlKQTGdMDQMc2PMTiVFrqoM7hD8bEfwzB/onkxEz0tNvjj/PIzark5McWvxI0NHWQWM6r6hCm21AvA2H3DkwIDAQABo4IBfTCCAXkwEgYDVR0TAQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYwfwYIKwYBBQUHAQEEczBxMDIGCCsGAQUFBzABhiZodHRwOi8vaXNyZy50cnVzdGlkLm9jc3AuaWRlbnRydXN0LmNvbTA7BggrBgEFBQcwAoYvaHR0cDovL2FwcHMuaWRlbnRydXN0LmNvbS9yb290cy9kc3Ryb290Y2F4My5wN2MwHwYDVR0jBBgwFoAUxKexpHsscfrb4UuQdf/EFWCFiRAwVAYDVR0gBE0wSzAIBgZngQwBAgEwPwYLKwYBBAGC3xMBAQEwMDAuBggrBgEFBQcCARYiaHR0cDovL2Nwcy5yb290LXgxLmxldHNlbmNyeXB0Lm9yZzA8BgNVHR8ENTAzMDGgL6AthitodHRwOi8vY3JsLmlkZW50cnVzdC5jb20vRFNUUk9PVENBWDNDUkwuY3JsMB0GA1UdDgQWBBSoSmpjBH3duubRObemRWXv86jsoTANBgkqhkiG9w0BAQsFAAOCAQEA3TPXEfNjWDjdGBX7CVW+dla5cEilaUcne8IkCJLxWh9KEik3JHRRHGJouM2VcGfl96S8TihRzZvoroed6ti6WqEBmtzw3Wodatg+VyOeph4EYpr/1wXKtx8/wApIvJSwtmVi4MFU5aMqrSDE6ea73Mj2tcMyo5jMd6jmeWUHK8so/joWUoHOUgwuX4Po1QYz+3dszkDqMp4fklxBwXRsW10KXzPMTZ+sOPAveyxindmjkW8lGy+QsRlGPfZ+G6Z6h7mjem0Y+iWlkYcV4PIWL1iwBi8saCbGS5jN2p8M+X+Q7UNKEkROb3N6KOqkqm57TH2H3eDJAkSnh6/DNFu0QmYKMiaRXE/7uyCJhaYy3wW9w5eaVCJM1YWJaWtuluqDAAAAAAAAA04wggNKMIICMqADAgECAhBEr7CA1qMnuokwOYYu+EBrMA0GCSqGSIb3DQEBBQUAMD8xJDAiBgNVBAoTG0RpZ2l0YWwgU2lnbmF0dXJlIFRydXN0IENvLjEXMBUGA1UEAxMORFNUIFJvb3QgQ0EgWDMwHhcNMDAwOTMwMjExMjE5WhcNMjEwOTMwMTQwMTE1WjA/MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMTDkRTVCBSb290IENBIFgzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA36/pl1AIg1e0zGJl9pCC7MfTLGswylvs2cN9x0DBGBSL4Ogzdkkq4z8hSZOsTg6vPkjLZe780yEPZdIq2TKPjOX3d7ASe7WVwImjqbrtcy56DAYyg6J+ihQwzRGg4So4uXkKMf1QvYBl37dRY4PI4ohh6kthgexSa7mi4ksaKJ9Io54M2gmOPhcuHt0g31vGKoqrLr1wrcULGiWQdHLFe2qrNNYwif/laBN7VAvI1q7sWpySHj1ks4zG37/JQXDsFnLVJuw4VTlD0Pz9GFxA8Zfr1ZqbjR262iW5xtjfwRUCOqvabvE+LvVcCJw81oNp5BCbGSq2KVfj5T2bn/ACXQIDAQABo0IwQDAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQEAwIBBjAdBgNVHQ4EFgQUxKexpHsscfrb4UuQdf/EFWCFiRAwDQYJKoZIhvcNAQEFBQADggEBAKMaLJsXAFypHu4oZjc6v4PHP0vDCaCVIF3j2VlE0j4NPr2KS6B0H84Qgpx0Gh1+mBrdyxNLsyBE5JHpzPx9pdtq5f7m/eBO3bcAOrVwSa/y5esC8dECixnLlDpeSMQYHlgZXx4CWvAM8bGtqdxZhotu6ZH1hsr6uWYzqllbzuKnFnNHyyvMmbA3SM/jVkv1zw8McjKHxvBEu1NybUP1JkiaUme3WKv+Z3ZxeNsNolYUEzkkMYWiqAJaMEfh3VAHvAIJkADrZGNgmxa8iMkS5tJ9kYv5PTKNZbTpfLFXdurFtig5vxVlHMj2d5ZqCo13C9iRCwSOB9sptgrunYI1NRAAAAA= request-method GET response-head HTTP/1.1 200 OK
server: Cowboy
date: Thu, 12 Mar 2020 02:06:09 GMT
content-length: 124407
cache-control: public, max-age=31536000
content-type: application/javascript
accept-ranges: bytes
 original-response-headers connection: close
server: Cowboy
date: Thu, 12 Mar 2020 02:06:09 GMT
content-length: 124407
cache-control: public, max-age=31536000
content-type: application/javascript
accept-ranges: bytes
 ctid 2 eTLD1Access 1;0;4091094292, uncompressed-len 0 net-response-time-onstart 395 net-response-time-onstop 1129 alt-data 1;124407,javascript/moz-bytecode-20200117190643 alt-data-from-child 1  